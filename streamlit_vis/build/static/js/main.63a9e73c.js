/*! For license information please see main.63a9e73c.js.LICENSE.txt */
(()=>{var t={219:(t,e,n)=>{"use strict";var i=n(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return i.isMemo(t)?s:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&t(e,r,i)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=l(e),v=l(n),y=0;y<s.length;++y){var g=s[y];if(!o[g]&&(!i||!i[g])&&(!v||!v[g])&&(!a||!a[g])){var m=d(n,g);try{u(e,g,m)}catch(b){}}}}return e}},983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case c:case h:case o:case a:case s:case f:return t;default:switch(t=t&&t.$$typeof){case u:case d:case y:case v:case l:return t;default:return e}}case r:return e}}}function k(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=o,e.Lazy=y,e.Memo=v,e.Portal=r,e.Profiler=a,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return k(t)||_(t)===c},e.isConcurrentMode=k,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===v},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===a||t===s||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===m||t.$$typeof===b||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},763:(t,e,n)=>{"use strict";t.exports=n(983)},123:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var c=0;c<s.length;c++)i.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},730:(t,e,n)=>{"use strict";var i=n(43),r=n(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(t,e,n,i,r,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function m(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=y.hasOwnProperty(e)?y[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function F(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var B,L=Object.assign;function j(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var z=!1;function R(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function U(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=R(t.type,!1);case 11:return t=R(t.type.render,!1);case 1:return t=R(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case x:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function G(t,e){var n=e.checked;return L({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function K(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){Q(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return L({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function vt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function yt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=vt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var gt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,xt=null,St=null;function Et(t){if(t=br(t)){if("function"!==typeof kt)throw Error(o(280));var e=t.stateNode;e&&(e=_r(e),kt(t.stateNode,t.type,e))}}function Ot(t){xt?St?St.push(t):St=[t]:xt=t}function Tt(){if(xt){var t=xt,e=St;if(St=xt=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function It(t,e){return t(e)}function Ct(){}var Dt=!1;function At(t,e,n){if(Dt)return t(e,n);Dt=!0;try{return It(t,e,n)}finally{Dt=!1,(null!==xt||null!==St)&&(Ct(),Tt())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Mt=!1;if(c)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ct){Mt=!1}function Ft(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Bt=!1,Lt=null,jt=!1,zt=null,Rt={onError:function(t){Bt=!0,Lt=t}};function Ut(t,e,n,i,r,o,s,a,l){Bt=!1,Lt=null,Ft.apply(Rt,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Vt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Ht(t)!==t)throw Error(o(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Wt(r),t;if(s===i)return Wt(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Yt=r.unstable_scheduleCallback,Xt=r.unstable_cancelCallback,Gt=r.unstable_shouldYield,Kt=r.unstable_requestPaint,Qt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,oe=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=he(a):0!==(o&=s)&&(i=he(o))}else 0!==(s=n&~r)?i=he(s):0!==o&&(i=he(o));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&0!==(4194240&o)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-se(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ve(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function ye(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-se(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,ke,xe,Se,Ee,Oe=!1,Te=[],Ie=null,Ce=null,De=null,Ae=new Map,Pe=new Map,Me=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fe(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":De=null;break;case"pointerover":case"pointerout":Ae.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Be(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&ke(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Le(t){var e=mr(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Vt(n)))return t.blockedOn=e,void Ee(t.priority,(function(){xe(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=br(n))&&ke(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function ze(t,e,n){je(t)&&n.delete(e)}function Re(){Oe=!1,null!==Ie&&je(Ie)&&(Ie=null),null!==Ce&&je(Ce)&&(Ce=null),null!==De&&je(De)&&(De=null),Ae.forEach(ze),Pe.forEach(ze)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Oe||(Oe=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Re)))}function He(t){function e(e){return Ue(e,t)}if(0<Te.length){Ue(Te[0],t);for(var n=1;n<Te.length;n++){var i=Te[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ie&&Ue(Ie,t),null!==Ce&&Ue(Ce,t),null!==De&&Ue(De,t),Ae.forEach(e),Pe.forEach(e),n=0;n<Me.length;n++)(i=Me[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Le(n),null===n.blockedOn&&Me.shift()}var Ve=w.ReactCurrentBatchConfig,We=!0;function $e(t,e,n,i){var r=be,o=Ve.transition;Ve.transition=null;try{be=1,Ye(t,e,n,i)}finally{be=r,Ve.transition=o}}function qe(t,e,n,i){var r=be,o=Ve.transition;Ve.transition=null;try{be=4,Ye(t,e,n,i)}finally{be=r,Ve.transition=o}}function Ye(t,e,n,i){if(We){var r=Ge(t,e,n,i);if(null===r)Wi(t,e,i,Xe,n),Fe(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ie=Be(Ie,t,e,n,i,r),!0;case"dragenter":return Ce=Be(Ce,t,e,n,i,r),!0;case"mouseover":return De=Be(De,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ae.set(o,Be(Ae.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Pe.set(o,Be(Pe.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Fe(t,i),4&e&&-1<Ne.indexOf(t)){for(;null!==r;){var o=br(r);if(null!==o&&_e(o),null===(o=Ge(t,e,n,i))&&Wi(t,e,i,Xe,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Xe=null;function Ge(t,e,n,i){if(Xe=null,null!==(t=mr(t=_t(i))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Vt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Qe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Qe?Qe.value:Qe.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=L({},un,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=on(fn),vn=on(L({},fn,{dataTransfer:0})),yn=on(L({},hn,{relatedTarget:0})),gn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=L({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(mn),wn=on(L({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=xn[t])&&!!e[t]}function En(){return Sn}var On=L({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?kn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(On),In=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),Mn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Fn,Ln=c&&(!Nn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),zn=!1;function Rn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function $n(t,e,n,i){Ot(i),0<(e=qi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Yn=null;function Xn(t){ji(t,0)}function Gn(t){if(Y(wr(t)))return t}function Kn(t,e){if("change"===t)return e}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Yn=qn=null)}function ni(t){if("value"===t.propertyName&&Gn(Yn)){var e=[];$n(e,Yn,t,_t(t)),At(Xn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Yn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(Yn)}function oi(t,e){if("click"===t)return Gn(e)}function si(t,e){if("input"===t||"change"===t)return Gn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=ui(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ui(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var s=ci(n,i);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,yi=null,gi=null,mi=null,bi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==yi||yi!==X(i)||("selectionStart"in(i=yi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},mi&&li(mi,i)||(mi=i,0<(i=qi(gi,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=yi)))}function _i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ki={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},xi={},Si={};function Ei(t){if(xi[t])return xi[t];if(!ki[t])return t;var e,n=ki[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return xi[t]=n[e];return t}c&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);var Oi=Ei("animationend"),Ti=Ei("animationiteration"),Ii=Ei("animationstart"),Ci=Ei("transitionend"),Di=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){Di.set(t,e),l(e,[t])}for(var Mi=0;Mi<Ai.length;Mi++){var Ni=Ai[Mi];Pi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Pi(Oi,"onAnimationEnd"),Pi(Ti,"onAnimationIteration"),Pi(Ii,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ci,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Li(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,s,a,l,u){if(Ut.apply(this,arguments),Bt){if(!Bt)throw Error(o(198));var c=Lt;Bt=!1,Lt=null,jt||(jt=!0,zt=c)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;Li(r,a,u),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;Li(r,a,u),o=l}}}if(jt)throw t=zt,jt=!1,zt=null,t}function zi(t,e){var n=e[vr];void 0===n&&(n=e[vr]=new Set);var i=t+"__bubble";n.has(i)||(Vi(e,t,2,!1),n.add(i))}function Ri(t,e,n){var i=0;e&&(i|=4),Vi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Ui]){t[Ui]=!0,s.forEach((function(e){"selectionchange"!==e&&(Bi.has(e)||Ri(e,!1,t),Ri(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,Ri("selectionchange",!1,e))}}function Vi(t,e,n,i){switch(Ke(e)){case 1:var r=$e;break;case 4:r=qe;break;default:r=Ye}n=r.bind(null,e,n,t),r=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=mr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue t}a=a.parentNode}}i=i.return}At((function(){var i=o,r=_t(n),s=[];t:{var a=Di.get(t);if(void 0!==a){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Oi:case Ti:case Ii:l=gn;break;case Ci:l=Dn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=i;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==d&&(null!=(v=Pt(p,d))&&c.push($i(p,v,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,r),s.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(u=n.relatedTarget||n.fromElement)||!mr(u)&&!u[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?mr(u):null)&&(u!==(h=Ht(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=In,v="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==u?a:wr(u),(a=new c(v,p+"leave",l,n,r)).target=h,a.relatedTarget=f,v=null,mr(r)===i&&((c=new c(d,p+"enter",u,n,r)).target=f,c.relatedTarget=h,v=c),h=v,l&&u)t:{for(d=u,p=0,f=c=l;f;f=Yi(f))p++;for(f=0,v=d;v;v=Yi(v))f++;for(;0<p-f;)c=Yi(c),p--;for(;0<f-p;)d=Yi(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=Yi(c),d=Yi(d)}c=null}else c=null;null!==l&&Xi(s,a,l,c,!1),null!==u&&null!==h&&Xi(s,h,u,c,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Kn;else if(Wn(a))if(Qn)y=si;else{y=ri;var g=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=oi);switch(y&&(y=y(t,i))?$n(s,y,n,r):(g&&g(t,a,i),"focusout"===t&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&tt(a,"number",a.value)),g=i?wr(i):window,t){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(yi=g,gi=i,mi=null);break;case"focusout":mi=gi=yi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(s,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":wi(s,n,r)}var m;if(Nn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Hn?Rn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(m=tn()):(Je="value"in(Qe=r)?Qe.value:Qe.textContent,Hn=!0)),0<(g=qi(i,b)).length&&(b=new wn(b,t,null,n,r),s.push({event:b,listeners:g}),m?b.data=m:null!==(m=Un(n))&&(b.data=m))),(m=Bn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(zn=!0,jn);case"textInput":return(t=e.data)===jn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Nn&&Rn(t,e)?(t=tn(),Ze=Je=Qe=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=m))}ji(s,e)}))}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Pt(t,n))&&i.unshift($i(t,o,r)),null!=(o=Pt(t,e))&&i.push($i(t,o,r))),t=t.return}return i}function Yi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Xi(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Pt(n,o))&&s.unshift($i(n,l,a)):r||null!=(l=Pt(n,o))&&s.push($i(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Gi=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function Qi(t){return("string"===typeof t?t:""+t).replace(Gi,"\n").replace(Ki,"")}function Ji(t,e,n){if(e=Qi(e),Qi(t)!==e&&n)throw Error(o(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(t){return or.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void He(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);He(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,yr="__reactListeners$"+hr,gr="__reactHandles$"+hr;function mr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cr(t);null!==t;){if(n=t[dr])return n;t=cr(t)}return e}n=(t=n).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _r(t){return t[fr]||null}var kr=[],xr=-1;function Sr(t){return{current:t}}function Er(t){0>xr||(t.current=kr[xr],kr[xr]=null,xr--)}function Or(t,e){xr++,kr[xr]=t.current,t.current=e}var Tr={},Ir=Sr(Tr),Cr=Sr(!1),Dr=Tr;function Ar(t,e){var n=t.type.contextTypes;if(!n)return Tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mr(){Er(Cr),Er(Ir)}function Nr(t,e,n){if(Ir.current!==Tr)throw Error(o(168));Or(Ir,e),Or(Cr,n)}function Fr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(o(108,V(t)||"Unknown",r));return L({},n,i)}function Br(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,Dr=Ir.current,Or(Ir,t),Or(Cr,Cr.current),!0}function Lr(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=Fr(t,e,Dr),i.__reactInternalMemoizedMergedChildContext=t,Er(Cr),Er(Ir),Or(Ir,t)):Er(Cr),Or(Cr,n)}var jr=null,zr=!1,Rr=!1;function Ur(t){null===jr?jr=[t]:jr.push(t)}function Hr(){if(!Rr&&null!==jr){Rr=!0;var t=0,e=be;try{var n=jr;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}jr=null,zr=!1}catch(r){throw null!==jr&&(jr=jr.slice(t+1)),Yt(Zt,Hr),r}finally{be=e,Rr=!1}}return null}var Vr=[],Wr=0,$r=null,qr=0,Yr=[],Xr=0,Gr=null,Kr=1,Qr="";function Jr(t,e){Vr[Wr++]=qr,Vr[Wr++]=$r,$r=t,qr=e}function Zr(t,e,n){Yr[Xr++]=Kr,Yr[Xr++]=Qr,Yr[Xr++]=Gr,Gr=t;var i=Kr;t=Qr;var r=32-se(i)-1;i&=~(1<<r),n+=1;var o=32-se(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Kr=1<<32-se(e)+r|n<<r|i,Qr=o+t}else Kr=1<<o|n<<r|i,Qr=t}function to(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function eo(t){for(;t===$r;)$r=Vr[--Wr],Vr[Wr]=null,qr=Vr[--Wr],Vr[Wr]=null;for(;t===Gr;)Gr=Yr[--Xr],Yr[Xr]=null,Qr=Yr[--Xr],Yr[Xr]=null,Kr=Yr[--Xr],Yr[Xr]=null}var no=null,io=null,ro=!1,oo=null;function so(t,e){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ao(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,io=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,io=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Gr?{id:Kr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,io=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function uo(t){if(ro){var e=io;if(e){var n=e;if(!ao(t,e)){if(lo(t))throw Error(o(418));e=ur(n.nextSibling);var i=no;e&&ao(t,e)?so(i,n):(t.flags=-4097&t.flags|2,ro=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ro=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!ro)return co(t),ro=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=io)){if(lo(t))throw fo(),Error(o(418));for(;e;)so(t,e),e=ur(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){io=ur(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}io=null}}else io=no?ur(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=io;t;)t=ur(t.nextSibling)}function po(){io=no=null,ro=!1}function vo(t){null===oo?oo=[t]:oo.push(t)}var yo=w.ReactCurrentBatchConfig;function go(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=i,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=r.refs;null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function wo(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Mu(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Lu(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){var o=n.type;return o===x?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===e.type)?((i=r(e,n.props)).ref=go(t,e,n),i.return=t,i):((i=Nu(n.type,n.key,n.props,null,t.mode,i)).ref=go(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=ju(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Fu(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Lu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Nu(e.type,e.key,e.props,null,t.mode,n)).ref=go(t,null,e),n.return=t,n;case k:return(e=ju(e,t.mode,n)).return=t,e;case P:return d(t,(0,e._init)(e._payload),n)}if(et(e)||F(e))return(e=Fu(e,t.mode,n,null)).return=t,e;mo(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?u(t,e,n,i):null;case k:return n.key===r?c(t,e,n,i):null;case P:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||F(n))return null!==r?null:h(t,e,n,i,null);mo(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case k:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case P:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||F(i))return h(e,t=t.get(n)||null,i,r,null);mo(e,i)}return null}function v(r,o,a,l){for(var u=null,c=null,h=o,v=o=0,y=null;null!==h&&v<a.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=f(r,h,a[v],l);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(r,h),o=s(g,o,v),null===c?u=g:c.sibling=g,c=g,h=y}if(v===a.length)return n(r,h),ro&&Jr(r,v),u;if(null===h){for(;v<a.length;v++)null!==(h=d(r,a[v],l))&&(o=s(h,o,v),null===c?u=h:c.sibling=h,c=h);return ro&&Jr(r,v),u}for(h=i(r,h);v<a.length;v++)null!==(y=p(h,r,v,a[v],l))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=s(y,o,v),null===c?u=y:c.sibling=y,c=y);return t&&h.forEach((function(t){return e(r,t)})),ro&&Jr(r,v),u}function y(r,a,l,u){var c=F(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,v=a,y=a=0,g=null,m=l.next();null!==v&&!m.done;y++,m=l.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=f(r,v,m.value,u);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(r,v),a=s(b,a,y),null===h?c=b:h.sibling=b,h=b,v=g}if(m.done)return n(r,v),ro&&Jr(r,y),c;if(null===v){for(;!m.done;y++,m=l.next())null!==(m=d(r,m.value,u))&&(a=s(m,a,y),null===h?c=m:h.sibling=m,h=m);return ro&&Jr(r,y),c}for(v=i(r,v);!m.done;y++,m=l.next())null!==(m=p(v,r,y,m.value,u))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),a=s(m,a,y),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(r,t)})),ro&&Jr(r,y),c}return function t(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:t:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===x){if(7===c.tag){n(i,c.sibling),(o=r(c,s.props.children)).return=i,i=o;break t}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&bo(u)===c.type){n(i,c.sibling),(o=r(c,s.props)).ref=go(i,c,s),o.return=i,i=o;break t}n(i,c);break}e(i,c),c=c.sibling}s.type===x?((o=Fu(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Nu(s.type,s.key,s.props,null,i.mode,l)).ref=go(i,o,s),l.return=i,i=l)}return a(i);case k:t:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break t}n(i,o);break}e(i,o),o=o.sibling}(o=ju(s,i.mode,l)).return=i,i=o}return a(i);case P:return t(i,o,(c=s._init)(s._payload),l)}if(et(s))return v(i,o,s,l);if(F(s))return y(i,o,s,l);mo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=Lu(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var _o=wo(!0),ko=wo(!1),xo=Sr(null),So=null,Eo=null,Oo=null;function To(){Oo=Eo=So=null}function Io(t){var e=xo.current;Er(xo),t._currentValue=e}function Co(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){So=t,Oo=Eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Ao(t){var e=t._currentValue;if(Oo!==t)if(t={context:t,memoizedValue:e,next:null},null===Eo){if(null===So)throw Error(o(308));Eo=t,So.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Po=null;function Mo(t){null===Po?Po=[t]:Po.push(t)}function No(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Mo(e)):(n.next=r.next,r.next=n),e.interleaved=n,Fo(t,i)}function Fo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Bo=!1;function Lo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Fo(t,n)}return null===(r=i.interleaved)?(e.next=e,Mo(i)):(e.next=r.next,r.next=e),i.interleaved=e,Fo(t,n)}function Uo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,me(t,n)}}function Ho(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vo(t,e,n,i){var r=t.updateQueue;Bo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,v=a;switch(d=e,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(f,h,d):p)||void 0===d)break t;h=L({},h,d);break t;case 2:Bo=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Bl|=s,t.lanes=s,t.memoizedState=h}}function Wo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var $o={},qo=Sr($o),Yo=Sr($o),Xo=Sr($o);function Go(t){if(t===$o)throw Error(o(174));return t}function Ko(t,e){switch(Or(Xo,e),Or(Yo,t),Or(qo,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Er(qo),Or(qo,e)}function Qo(){Er(qo),Er(Yo),Er(Xo)}function Jo(t){Go(Xo.current);var e=Go(qo.current),n=lt(e,t.type);e!==n&&(Or(Yo,t),Or(qo,n))}function Zo(t){Yo.current===t&&(Er(qo),Er(Yo))}var ts=Sr(0);function es(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ns=[];function is(){for(var t=0;t<ns.length;t++)ns[t]._workInProgressVersionPrimary=null;ns.length=0}var rs=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function vs(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ys(t,e,n,i,r,s){if(ss=s,as=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rs.current=null===t||null===t.memoizedState?Zs:ta,t=n(i,r),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,us=ls=null,e.updateQueue=null,rs.current=ea,t=n(i,r)}while(hs)}if(rs.current=Js,e=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,e)throw Error(o(300));return t}function gs(){var t=0!==ds;return ds=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=t:us=us.next=t,us}function bs(){if(null===ls){var t=as.alternate;t=null!==t?t.memoizedState:null}else t=ls.next;var e=null===us?as.memoizedState:us.next;if(null!==e)us=e,ls=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ls=t).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=t:us=us.next=t}return us}function ws(t,e){return"function"===typeof e?e(t):e}function _s(t){var e=bs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=ls,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((ss&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=i):u=u.next=d,as.lanes|=h,Bl|=h}c=c.next}while(null!==c&&c!==s);null===u?a=i:u.next=l,ai(i,e.memoizedState)||(ba=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{s=r.lane,as.lanes|=s,Bl|=s,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ks(t){var e=bs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);ai(s,e.memoizedState)||(ba=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function xs(){}function Ss(t,e){var n=as,i=bs(),r=e(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,ba=!0),i=i.queue,Bs(Ts.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Os.bind(null,n,i,r,e),void 0,null),null===Cl)throw Error(o(349));0!==(30&ss)||Es(n,e,r)}return r}function Es(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Os(t,e,n,i){e.value=n,e.getSnapshot=i,Is(e)&&Cs(t)}function Ts(t,e,n){return n((function(){Is(e)&&Cs(t)}))}function Is(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Cs(t){var e=Fo(t,1);null!==e&&nu(e,t,1,-1)}function Ds(t){var e=ms();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=Xs.bind(null,as,t),[e.memoizedState,t]}function As(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ps(){return bs().memoizedState}function Ms(t,e,n,i){var r=ms();as.flags|=t,r.memoizedState=As(1|e,n,void 0,void 0===i?null:i)}function Ns(t,e,n,i){var r=bs();i=void 0===i?null:i;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==i&&vs(i,s.deps))return void(r.memoizedState=As(e,n,o,i))}as.flags|=t,r.memoizedState=As(1|e,n,o,i)}function Fs(t,e){return Ms(8390656,8,t,e)}function Bs(t,e){return Ns(2048,8,t,e)}function Ls(t,e){return Ns(4,2,t,e)}function js(t,e){return Ns(4,4,t,e)}function zs(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Rs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ns(4,4,zs.bind(null,e,t),n)}function Us(){}function Hs(t,e){var n=bs();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&vs(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Vs(t,e){var n=bs();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&vs(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ws(t,e,n){return 0===(21&ss)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ai(n,e)||(n=ve(),as.lanes|=n,Bl|=n,t.baseState=!0),e)}function $s(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=os.transition;os.transition={};try{t(!1),e()}finally{be=n,os.transition=i}}function qs(){return bs().memoizedState}function Ys(t,e,n){var i=eu(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(t))Ks(e,n);else if(null!==(n=No(t,e,n,i))){nu(n,t,i,tu()),Qs(n,e,i)}}function Xs(t,e,n){var i=eu(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(t))Ks(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=e.interleaved;return null===l?(r.next=r,Mo(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(n=No(t,e,r,i))&&(nu(n,t,i,r=tu()),Qs(n,e,i))}}function Gs(t){var e=t.alternate;return t===as||null!==e&&e===as}function Ks(t,e){hs=cs=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qs(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,me(t,n)}}var Js={readContext:Ao,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Ao,useCallback:function(t,e){return ms().memoizedState=[t,void 0===e?null:e],t},useContext:Ao,useEffect:Fs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ms(4194308,4,zs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ms(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ms(4,2,t,e)},useMemo:function(t,e){var n=ms();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ms();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ys.bind(null,as,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ms().memoizedState=t},useState:Ds,useDebugValue:Us,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=Ds(!1),e=t[0];return t=$s.bind(null,t[1]),ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=as,r=ms();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Cl)throw Error(o(349));0!==(30&ss)||Es(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Fs(Ts.bind(null,i,s,t),[t]),i.flags|=2048,As(9,Os.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=ms(),e=Cl.identifierPrefix;if(ro){var n=Qr;e=":"+e+"R"+(n=(Kr&~(1<<32-se(Kr)-1)).toString(32)+n),0<(n=ds++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fs++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Ao,useCallback:Hs,useContext:Ao,useEffect:Bs,useImperativeHandle:Rs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:_s,useRef:Ps,useState:function(){return _s(ws)},useDebugValue:Us,useDeferredValue:function(t){return Ws(bs(),ls.memoizedState,t)},useTransition:function(){return[_s(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1},ea={readContext:Ao,useCallback:Hs,useContext:Ao,useEffect:Bs,useImperativeHandle:Rs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Vs,useReducer:ks,useRef:Ps,useState:function(){return ks(ws)},useDebugValue:Us,useDeferredValue:function(t){var e=bs();return null===ls?e.memoizedState=t:Ws(e,ls.memoizedState,t)},useTransition:function(){return[ks(ws)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=L({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ia(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:L({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tu(),r=eu(t),o=zo(i,r);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,r))&&(nu(e,t,r,i),Uo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tu(),r=eu(t),o=zo(i,r);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,r))&&(nu(e,t,r,i),Uo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tu(),i=eu(t),r=zo(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ro(t,r,i))&&(nu(e,t,i,n),Uo(e,t,i))}};function oa(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function sa(t,e,n){var i=!1,r=Tr,o=e.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(r=Pr(e)?Dr:Ir.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ar(t,r):Tr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function aa(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function la(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Lo(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=Ao(o):(o=Pr(e)?Dr:Ir.current,r.context=Ar(t,o)),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ia(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ra.enqueueReplaceState(r,r.state,null),Vo(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ua(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function ca(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Wl||(Wl=!0,$l=i),ha(0,e)},n}function pa(t,e,n){(n=zo(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function va(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new da;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Eu.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ga(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=zo(-1,1)).tag=2,Ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ma=w.ReactCurrentOwner,ba=!1;function wa(t,e,n,i){e.child=null===t?ko(e,null,n,i):_o(e,t.child,n,i)}function _a(t,e,n,i,r){n=n.render;var o=e.ref;return Do(e,r),i=ys(t,e,n,i,o,r),n=gs(),null===t||ba?(ro&&n&&to(e),e.flags|=1,wa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wa(t,e,r))}function ka(t,e,n,i,r){if(null===t){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nu(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,xa(t,e,o,i,r))}if(o=t.child,0===(t.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&t.ref===e.ref)return Wa(t,e,r)}return e.flags|=1,(t=Mu(o,i)).ref=e.ref,t.return=e,e.child=t}function xa(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(li(o,i)&&t.ref===e.ref){if(ba=!1,e.pendingProps=i=o,0===(t.lanes&r))return e.lanes=t.lanes,Wa(t,e,r);0!==(131072&t.flags)&&(ba=!0)}}return Oa(t,e,n,i,r)}function Sa(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(Ml,Pl),Pl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(Ml,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Or(Ml,Pl),Pl|=i}else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,Or(Ml,Pl),Pl|=i;return wa(t,e,r,n),e.child}function Ea(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oa(t,e,n,i,r){var o=Pr(n)?Dr:Ir.current;return o=Ar(e,o),Do(e,r),n=ys(t,e,n,i,o,r),i=gs(),null===t||ba?(ro&&i&&to(e),e.flags|=1,wa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wa(t,e,r))}function Ta(t,e,n,i,r){if(Pr(n)){var o=!0;Br(e)}else o=!1;if(Do(e,r),null===e.stateNode)Va(t,e),sa(e,n,i),la(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ao(u):u=Ar(e,u=Pr(n)?Dr:Ir.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&aa(e,s,i,u),Bo=!1;var d=e.memoizedState;s.state=d,Vo(e,i,s,r),l=e.memoizedState,a!==i||d!==l||Cr.current||Bo?("function"===typeof c&&(ia(e,n,c,i),l=e.memoizedState),(a=Bo||oa(e,n,a,i,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,jo(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:na(e.type,a),s.props=u,h=e.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ar(e,l=Pr(n)?Dr:Ir.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(e,s,i,l),Bo=!1,d=e.memoizedState,s.state=d,Vo(e,i,s,r);var p=e.memoizedState;a!==h||d!==p||Cr.current||Bo?("function"===typeof f&&(ia(e,n,f,i),p=e.memoizedState),(u=Bo||oa(e,n,u,i,d,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ia(t,e,n,i,o,r)}function Ia(t,e,n,i,r,o){Ea(t,e);var s=0!==(128&e.flags);if(!i&&!s)return r&&Lr(e,n,!1),Wa(t,e,o);i=e.stateNode,ma.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=_o(e,t.child,null,o),e.child=_o(e,null,a,o)):wa(t,e,a,o),e.memoizedState=i.state,r&&Lr(e,n,!0),e.child}function Ca(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Ko(t,e.containerInfo)}function Da(t,e,n,i,r){return po(),vo(r),e.flags|=256,wa(t,e,n,i),e.child}var Aa,Pa,Ma,Na,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function La(t,e,n){var i,r=e.pendingProps,s=ts.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&s)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Or(ts,1&s),null===t)return uo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Bu(l,r,0,null),t=Fu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ba(n),e.memoizedState=Fa,t):ja(e,l));if(null!==(s=t.memoizedState)&&null!==(i=s.dehydrated))return function(t,e,n,i,r,s,a){if(n)return 256&e.flags?(e.flags&=-257,za(t,e,a,i=ca(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Bu({mode:"visible",children:i.children},r,0,null),(s=Fu(s,r,a,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,0!==(1&e.mode)&&_o(e,t.child,null,a),e.child.memoizedState=Ba(a),e.memoizedState=Fa,s);if(0===(1&e.mode))return za(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,za(t,e,a,i=ca(s=Error(o(419)),i,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(i=Cl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Fo(t,r),nu(i,t,r,-1))}return vu(),za(t,e,a,i=ca(Error(o(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Tu.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,io=ur(r.nextSibling),no=e,ro=!0,oo=null,null!==t&&(Yr[Xr++]=Kr,Yr[Xr++]=Qr,Yr[Xr++]=Gr,Kr=t.id,Qr=t.overflow,Gr=e),e=ja(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,s,n);if(a){a=r.fallback,l=e.mode,i=(s=t.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==s?((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null):(r=Mu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Mu(i,a):(a=Fu(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Ba(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,r}return t=(a=t.child).sibling,r=Mu(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ja(t,e){return(e=Bu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function za(t,e,n,i){return null!==i&&vo(i),_o(e,t.child,null,n),(t=ja(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ra(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Co(t.return,e,n)}function Ua(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ha(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(wa(t,e,i.children,n),0!==(2&(i=ts.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ra(t,n,e);else if(19===t.tag)Ra(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Or(ts,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===es(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ua(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===es(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ua(e,!0,n,null,o);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Bl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Mu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Mu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $a(t,e){if(!ro)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ya(t,e,n){var i=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(e),null;case 1:case 17:return Pr(e.type)&&Mr(),qa(e),null;case 3:return i=e.stateNode,Qo(),Er(Cr),Er(Ir),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(su(oo),oo=null))),Pa(t,e),qa(e),null;case 5:Zo(e);var r=Go(Xo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ma(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(o(166));return qa(e),null}if(t=Go(qo.current),ho(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[dr]=e,i[fr]=s,t=0!==(1&e.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(r=0;r<Fi.length;r++)zi(Fi[r],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":K(i,s),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},zi("invalid",i);break;case"textarea":rt(i,s),zi("invalid",i)}for(var l in mt(n,s),r=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,u,t),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,u,t),r=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":q(i),Z(i,s,!0);break;case"textarea":q(i),st(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Aa(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":zi("cancel",t),zi("close",t),r=i;break;case"iframe":case"object":case"embed":zi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Fi.length;r++)zi(Fi[r],t);r=i;break;case"source":zi("error",t),r=i;break;case"img":case"image":case"link":zi("error",t),zi("load",t),r=i;break;case"details":zi("toggle",t),r=i;break;case"input":K(t,i),r=G(t,i),zi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),zi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),zi("invalid",t)}for(s in mt(n,r),u=r)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?yt(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"===typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&zi("scroll",t):null!=c&&b(t,s,c,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),st(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?nt(t,!!i.multiple,s,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qa(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(o(166));if(n=Go(Xo.current),Go(qo.current),ho(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(s=i.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return qa(e),null;case 13:if(Er(ts),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,s=!1;else if(s=ho(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[dr]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qa(e),s=!1}else null!==oo&&(su(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ts.current)?0===Nl&&(Nl=3):vu())),null!==e.updateQueue&&(e.flags|=4),qa(e),null);case 4:return Qo(),Pa(t,e),null===t&&Hi(e.stateNode.containerInfo),qa(e),null;case 10:return Io(e.type._context),qa(e),null;case 19:if(Er(ts),null===(s=e.memoizedState))return qa(e),null;if(i=0!==(128&e.flags),null===(l=s.rendering))if(i)$a(s,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=es(t))){for(e.flags|=128,$a(s,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Or(ts,1&ts.current|2),e.child}t=t.sibling}null!==s.tail&&Qt()>Hl&&(e.flags|=128,i=!0,$a(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=es(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$a(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return qa(e),null}else 2*Qt()-s.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=ts.current,Or(ts,i?1&n|2:1&n),e):(qa(e),null);case 22:case 23:return hu(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(qa(e),6&e.subtreeFlags&&(e.flags|=8192)):qa(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Xa(t,e){switch(eo(e),e.tag){case 1:return Pr(e.type)&&Mr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qo(),Er(Cr),Er(Ir),is(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Zo(e),null;case 13:if(Er(ts),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Er(ts),null;case 4:return Qo(),null;case 10:return Io(e.type._context),null;case 22:case 23:return hu(),null;default:return null}}Aa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ma=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Go(qo.current);var o,s=null;switch(n){case"input":r=G(t,r),i=G(t,i),s=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),s=[];break;case"textarea":r=it(t,r),i=it(t,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(c in mt(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zi("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},Na=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ga=!1,Ka=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Su(t,e,i)}else n.current=null}function tl(t,e,n){try{n()}catch(i){Su(t,e,i)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(e,n,o)}r=r.next}while(r!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[vr],delete e[yr],delete e[gr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var cl=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Ka||Za(n,e);case 6:var i=cl,r=hl;cl=null,dl(t,e,n),hl=r,null!==(cl=i)&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),He(t)):lr(cl,n.stateNode));break;case 4:i=cl,r=hl,cl=n.stateNode.containerInfo,hl=!0,dl(t,e,n),cl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,e,s),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!Ka&&(Za(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Su(n,e,a)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ka=(i=Ka)||null!==n.memoizedState,dl(t,e,n),Ka=i):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Qa),e.forEach((function(e){var i=Iu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function vl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===cl)throw Error(o(160));fl(s,a,r),cl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Su(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vl(e,t),gl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(y){Su(t,t.return,y)}try{nl(5,t,t.return)}catch(y){Su(t,t.return,y)}}break;case 1:vl(e,t),gl(t),512&i&&null!==n&&Za(n,n.return);break;case 5:if(vl(e,t),gl(t),512&i&&null!==n&&Za(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(y){Su(t,t.return,y)}}if(4&i&&null!=(r=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(r,s),bt(l,a);var c=bt(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?yt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,c)}switch(l){case"input":J(r,s);break;case"textarea":ot(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?nt(r,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?nt(r,!!s.multiple,s.defaultValue,!0):nt(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(y){Su(t,t.return,y)}}break;case 6:if(vl(e,t),gl(t),4&i){if(null===t.stateNode)throw Error(o(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Su(t,t.return,y)}}break;case 3:if(vl(e,t),gl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(y){Su(t,t.return,y)}break;case 4:default:vl(e,t),gl(t);break;case 13:vl(e,t),gl(t),8192&(r=t.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Qt())),4&i&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ka=(c=Ka)||h,vl(e,t),Ka=c):vl(e,t),gl(t),8192&i){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Ja=t,h=t.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){i=f,n=f.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Su(i,n,y)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Ja=p):_l(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,c?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=vt("display",a))}catch(y){Su(t,t.return,y)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Su(t,t.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vl(e,t),gl(t),4&i&&pl(t);case 21:}}function gl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var i=n;break t}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),ul(t,al(t),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(t,al(t),s);break;default:throw Error(o(161))}}catch(a){Su(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function ml(t,e,n){Ja=t,bl(t,e,n)}function bl(t,e,n){for(var i=0!==(1&t.mode);null!==Ja;){var r=Ja,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ga;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ga;var u=Ka;if(Ga=s,(Ka=l)&&!u)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?kl(r):null!==l?(l.return=s,Ja=l):kl(r);for(;null!==o;)Ja=o,bl(o,e,n),o=o.sibling;Ja=r,Ga=a,Ka=u}wl(t)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ja=o):wl(t)}}function wl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ka||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Ka)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Wo(e,s,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wo(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&He(d)}}}break;default:throw Error(o(163))}Ka||512&e.flags&&rl(e)}catch(f){Su(e,e.return,f)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function _l(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function kl(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Su(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Su(e,r,l)}}var o=e.return;try{rl(e)}catch(l){Su(e,o,l)}break;case 5:var s=e.return;try{rl(e)}catch(l){Su(e,s,l)}}}catch(l){Su(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var xl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Cl=null,Dl=null,Al=0,Pl=0,Ml=Sr(0),Nl=0,Fl=null,Bl=0,Ll=0,jl=0,zl=null,Rl=null,Ul=0,Hl=1/0,Vl=null,Wl=!1,$l=null,ql=null,Yl=!1,Xl=null,Gl=0,Kl=0,Ql=null,Jl=-1,Zl=0;function tu(){return 0!==(6&Il)?Qt():-1!==Jl?Jl:Jl=Qt()}function eu(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Al?Al&-Al:null!==yo.transition?(0===Zl&&(Zl=ve()),Zl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nu(t,e,n,i){if(50<Kl)throw Kl=0,Ql=null,Error(o(185));ge(t,n,i),0!==(2&Il)&&t===Cl||(t===Cl&&(0===(2&Il)&&(Ll|=n),4===Nl&&au(t,Al)),iu(t,i),1===n&&0===Il&&0===(1&e.mode)&&(Hl=Qt()+500,zr&&Hr()))}function iu(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=fe(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var i=de(t,t===Cl?Al:0);if(0===i)null!==n&&Xt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Xt(n),1===e)0===t.tag?function(t){zr=!0,Ur(t)}(lu.bind(null,t)):Ur(lu.bind(null,t)),sr((function(){0===(6&Il)&&Hr()})),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Cu(n,ru.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ru(t,e){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(o(327));var n=t.callbackNode;if(ku()&&t.callbackNode!==n)return null;var i=de(t,t===Cl?Al:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=yu(t,i);else{e=i;var r=Il;Il|=2;var s=pu();for(Cl===t&&Al===e||(Vl=null,Hl=Qt()+500,du(t,e));;)try{mu();break}catch(l){fu(t,l)}To(),El.current=s,Il=r,null!==Dl?e=0:(Cl=null,Al=0,e=Nl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=ou(t,r))),1===e)throw n=Fl,du(t,0),au(t,i),iu(t,Qt()),n;if(6===e)au(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=yu(t,i))&&(0!==(s=pe(t))&&(i=s,e=ou(t,s))),1===e))throw n=Fl,du(t,0),au(t,i),iu(t,Qt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(o(345));case 2:case 5:_u(t,Rl,Vl);break;case 3:if(au(t,i),(130023424&i)===i&&10<(e=Ul+500-Qt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){tu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(_u.bind(null,t,Rl,Vl),e);break}_u(t,Rl,Vl);break;case 4:if(au(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-se(i);s=1<<a,(a=e[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Qt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){t.timeoutHandle=ir(_u.bind(null,t,Rl,Vl),i);break}_u(t,Rl,Vl);break;default:throw Error(o(329))}}}return iu(t,Qt()),t.callbackNode===n?ru.bind(null,t):null}function ou(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),2!==(t=yu(t,e))&&(e=Rl,Rl=n,null!==e&&su(e)),t}function su(t){null===Rl?Rl=t:Rl.push.apply(Rl,t)}function au(t,e){for(e&=~jl,e&=~Ll,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),i=1<<n;t[n]=-1,e&=~i}}function lu(t){if(0!==(6&Il))throw Error(o(327));ku();var e=de(t,0);if(0===(1&e))return iu(t,Qt()),null;var n=yu(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ou(t,i))}if(1===n)throw n=Fl,du(t,0),au(t,e),iu(t,Qt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,Rl,Vl),iu(t,Qt()),null}function uu(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Hl=Qt()+500,zr&&Hr())}}function cu(t){null!==Xl&&0===Xl.tag&&0===(6&Il)&&ku();var e=Il;Il|=1;var n=Tl.transition,i=be;try{if(Tl.transition=null,be=1,t)return t()}finally{be=i,Tl.transition=n,0===(6&(Il=e))&&Hr()}}function hu(){Pl=Ml.current,Er(Ml)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(eo(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:Qo(),Er(Cr),Er(Ir),is();break;case 5:Zo(i);break;case 4:Qo();break;case 13:case 19:Er(ts);break;case 10:Io(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Cl=t,Dl=t=Mu(t.current,null),Al=Pl=e,Nl=0,Fl=null,jl=Ll=Bl=0,Rl=zl=null,null!==Po){for(e=0;e<Po.length;e++)if(null!==(i=(n=Po[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Po=null}return t}function fu(t,e){for(;;){var n=Dl;try{if(To(),rs.current=Js,cs){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}cs=!1}if(ss=0,us=ls=as=null,hs=!1,ds=0,Ol.current=null,null===n||null===n.return){Nl=1,Fl=e,Dl=null;break}t:{var s=t,a=n.return,l=n,u=e;if(e=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,ga(p,a,l,0,e),1&p.mode&&va(s,c,e),u=c;var v=(e=p).updateQueue;if(null===v){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break t}if(0===(1&e)){va(s,c,e),vu();break t}u=Error(o(426))}else if(ro&&1&l.mode){var g=ya(a);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ga(g,a,l,0,e),vo(ua(u,l));break t}}s=u=ua(u,l),4!==Nl&&(Nl=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Ho(s,fa(0,u,e));break t;case 1:l=u;var m=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e,Ho(s,pa(s,l,e));break t}}s=s.return}while(null!==s)}wu(n)}catch(w){e=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pu(){var t=El.current;return El.current=Js,null===t?Js:t}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Cl||0===(268435455&Bl)&&0===(268435455&Ll)||au(Cl,Al)}function yu(t,e){var n=Il;Il|=2;var i=pu();for(Cl===t&&Al===e||(Vl=null,du(t,e));;)try{gu();break}catch(r){fu(t,r)}if(To(),Il=n,El.current=i,null!==Dl)throw Error(o(261));return Cl=null,Al=0,Nl}function gu(){for(;null!==Dl;)bu(Dl)}function mu(){for(;null!==Dl&&!Gt();)bu(Dl)}function bu(t){var e=xl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?wu(t):Dl=e,Ol.current=null}function wu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ya(n,e,Pl)))return void(Dl=n)}else{if(null!==(n=Xa(n,e)))return n.flags&=32767,void(Dl=n);if(null===t)return Nl=6,void(Dl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Dl=e);Dl=e=t}while(null!==e);0===Nl&&(Nl=5)}function _u(t,e,n){var i=be,r=Tl.transition;try{Tl.transition=null,be=1,function(t,e,n,i){do{ku()}while(null!==Xl);if(0!==(6&Il))throw Error(o(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-se(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,s),t===Cl&&(Dl=Cl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Cu(ee,(function(){return ku(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=be;be=1;var l=Il;Il|=4,Ol.current=null,function(t,e){if(tr=We,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break t}var a=0,l=-1,u=-1,c=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(u=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++c===r&&(l=a),f===s&&++h===i&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var v=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:na(e.type,y),g);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Su(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}v=el,el=!1}(t,n),yl(n,t),pi(er),We=!!tr,er=tr=null,t.current=n,ml(n,t,r),Kt(),Il=l,be=a,Tl.transition=s}else t.current=n;if(Yl&&(Yl=!1,Xl=t,Gl=r),s=t.pendingLanes,0===s&&(ql=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),iu(t,Qt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,t=$l,$l=null,t;0!==(1&Gl)&&0!==t.tag&&ku(),s=t.pendingLanes,0!==(1&s)?t===Ql?Kl++:(Kl=0,Ql=t):Kl=0,Hr()}(t,e,n,i)}finally{Tl.transition=r,be=i}return null}function ku(){if(null!==Xl){var t=we(Gl),e=Tl.transition,n=be;try{if(Tl.transition=null,be=16>t?16:t,null===Xl)var i=!1;else{if(t=Xl,Xl=null,Gl=0,0!==(6&Il))throw Error(o(331));var r=Il;for(Il|=4,Ja=t.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(ol(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var v=s.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var m=s.sibling;if(null!==m){m.return=s.return,Ja=m;break t}Ja=s.return}}var b=t.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else t:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){Su(l,l.return,k)}if(l===a){Ja=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break t}Ja=l.return}}if(Il=r,Hr(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(k){}i=!0}return i}finally{be=n,Tl.transition=e}}return!1}function xu(t,e,n){t=Ro(t,e=fa(0,e=ua(n,e),1),1),e=tu(),null!==t&&(ge(t,1,e),iu(t,e))}function Su(t,e,n){if(3===t.tag)xu(t,t,n);else for(;null!==e;){if(3===e.tag){xu(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){e=Ro(e,t=pa(e,t=ua(n,t),1),1),t=tu(),null!==e&&(ge(e,1,t),iu(e,t));break}}e=e.return}}function Eu(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tu(),t.pingedLanes|=t.suspendedLanes&n,Cl===t&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>Qt()-Ul?du(t,0):jl|=n),iu(t,e)}function Ou(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=tu();null!==(t=Fo(t,e))&&(ge(t,e,n),iu(t,n))}function Tu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ou(t,n)}function Iu(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(e),Ou(t,n)}function Cu(t,e){return Yt(t,e)}function Du(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(t,e,n,i){return new Du(t,e,n,i)}function Pu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Mu(t,e){var n=t.alternate;return null===n?((n=Au(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,i,r,s){var a=2;if(i=t,"function"===typeof t)Pu(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case x:return Fu(n.children,r,s,e);case S:a=8,r|=8;break;case E:return(t=Au(12,n,e,2|r)).elementType=E,t.lanes=s,t;case C:return(t=Au(13,n,e,r)).elementType=C,t.lanes=s,t;case D:return(t=Au(19,n,e,r)).elementType=D,t.lanes=s,t;case M:return Bu(n,r,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:a=10;break t;case T:a=9;break t;case I:a=11;break t;case A:a=14;break t;case P:a=16,i=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Au(a,n,e,r)).elementType=t,e.type=i,e.lanes=s,e}function Fu(t,e,n,i){return(t=Au(7,t,i,e)).lanes=n,t}function Bu(t,e,n,i){return(t=Au(22,t,i,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Lu(t,e,n){return(t=Au(6,t,null,e)).lanes=n,t}function ju(t,e,n){return(e=Au(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zu(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ru(t,e,n,i,r,o,s,a,l){return t=new zu(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Au(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),t}function Uu(t){if(!t)return Tr;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Pr(n))return Fr(t,n,e)}return e}function Hu(t,e,n,i,r,o,s,a,l){return(t=Ru(n,i,!0,t,0,o,0,a,l)).context=Uu(null),n=t.current,(o=zo(i=tu(),r=eu(n))).callback=void 0!==e&&null!==e?e:null,Ro(n,o,r),t.current.lanes=r,ge(t,r,i),iu(t,i),t}function Vu(t,e,n,i){var r=e.current,o=tu(),s=eu(r);return n=Uu(n),null===e.context?e.context=n:e.pendingContext=n,(e=zo(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ro(r,e,s))&&(nu(t,r,s,o),Uo(t,r,s)),s}function Wu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $u(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function qu(t,e){$u(t,e),(t=t.alternate)&&$u(t,e)}xl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Cr.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Ca(e),po();break;case 5:Jo(e);break;case 1:Pr(e.type)&&Br(e);break;case 4:Ko(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Or(xo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Or(ts,1&ts.current),e.flags|=128,null):0!==(n&e.child.childLanes)?La(t,e,n):(Or(ts,1&ts.current),null!==(t=Wa(t,e,n))?t.sibling:null);Or(ts,1&ts.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ha(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Or(ts,ts.current),i)break;return null;case 22:case 23:return e.lanes=0,Sa(t,e,n)}return Wa(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,ro&&0!==(1048576&e.flags)&&Zr(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Va(t,e),t=e.pendingProps;var r=Ar(e,Ir.current);Do(e,n),r=ys(null,e,i,t,r,n);var s=gs();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(i)?(s=!0,Br(e)):s=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Lo(e),r.updater=ra,e.stateNode=r,r._reactInternals=e,la(e,i,t,n),e=Ia(null,e,i,!0,s,n)):(e.tag=0,ro&&s&&to(e),wa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Va(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Pu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===A)return 14}return 2}(i),t=na(i,t),r){case 0:e=Oa(null,e,i,t,n);break t;case 1:e=Ta(null,e,i,t,n);break t;case 11:e=_a(null,e,i,t,n);break t;case 14:e=ka(null,e,i,na(i.type,t),n);break t}throw Error(o(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Oa(t,e,i,r=e.elementType===i?r:na(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:na(i,r),n);case 3:t:{if(Ca(e),null===t)throw Error(o(387));i=e.pendingProps,r=(s=e.memoizedState).element,jo(t,e),Vo(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Da(t,e,i,n,r=ua(Error(o(423)),e));break t}if(i!==r){e=Da(t,e,i,n,r=ua(Error(o(424)),e));break t}for(io=ur(e.stateNode.containerInfo.firstChild),no=e,ro=!0,oo=null,n=ko(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){e=Wa(t,e,n);break t}wa(t,e,i,n)}e=e.child}return e;case 5:return Jo(e),null===t&&uo(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(e.flags|=32),Ea(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&uo(e),null;case 13:return La(t,e,n);case 4:return Ko(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=_o(e,null,i,n):wa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,_a(t,e,i,r=e.elementType===i?r:na(i,r),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Or(xo,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Cr.current){e=Wa(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===s.tag){(u=zo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Co(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Do(e,n),i=i(r=Ao(r)),e.flags|=1,wa(t,e,i,n),e.child;case 14:return r=na(i=e.type,e.pendingProps),ka(t,e,i,r=na(i.type,r),n);case 15:return xa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),Va(t,e),e.tag=1,Pr(i)?(t=!0,Br(e)):t=!1,Do(e,n),sa(e,i,r),la(e,i,r,n),Ia(null,e,i,!0,t,n);case 19:return Ha(t,e,n);case 22:return Sa(t,e,n)}throw Error(o(156,e.tag))};var Yu="function"===typeof reportError?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}function Gu(t){this._internalRoot=t}function Ku(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ju(){}function Zu(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var t=Wu(s);a.call(t)}}Vu(e,s,t,r)}else s=function(t,e,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var t=Wu(s);o.call(t)}}var s=Hu(e,i,t,0,null,!1,0,"",Ju);return t._reactRootContainer=s,t[pr]=s.current,Hi(8===t.nodeType?t.parentNode:t),cu(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Wu(l);a.call(t)}}var l=Ru(t,0,!1,null,0,!1,0,"",Ju);return t._reactRootContainer=l,t[pr]=l.current,Hi(8===t.nodeType?t.parentNode:t),cu((function(){Vu(e,l,n,i)})),l}(n,e,t,r,i);return Wu(s)}Gu.prototype.render=Xu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Vu(t,e,null,null)},Gu.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cu((function(){Vu(null,t,null,null)})),e[pr]=null}},Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Le(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(me(e,1|n),iu(e,Qt()),0===(6&Il)&&(Hl=Qt()+500,Hr()))}break;case 13:cu((function(){var e=Fo(t,1);if(null!==e){var n=tu();nu(e,t,1,n)}})),qu(t,1)}},ke=function(t){if(13===t.tag){var e=Fo(t,134217728);if(null!==e)nu(e,t,134217728,tu());qu(t,134217728)}},xe=function(t){if(13===t.tag){var e=eu(t),n=Fo(t,e);if(null!==n)nu(n,t,e,tu());qu(t,e)}},Se=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},kt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_r(i);if(!r)throw Error(o(90));Y(i),J(i,r)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=uu,Ct=cu;var tc={usingClientEntryPoint:!1,Events:[br,wr,_r,Ot,Tt,uu]},ec={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{re=ic.inject(nc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(e))throw Error(o(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Ku(t))throw Error(o(299));var n=!1,i="",r=Yu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Ru(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Hi(8===t.nodeType?t.parentNode:t),new Xu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return cu(t)},e.hydrate=function(t,e,n){if(!Qu(e))throw Error(o(200));return Zu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Ku(t))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Hu(e,null,t,1,null!=n?n:null,r,0,s,a),t[pr]=e.current,Hi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Gu(e)},e.render=function(t,e,n){if(!Qu(e))throw Error(o(200));return Zu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Qu(t))throw Error(o(40));return!!t._reactRootContainer&&(cu((function(){Zu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Qu(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Zu(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var i=n(43),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:o,_owner:a.current}}e.jsx=u,e.jsxs=u},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}function m(){}function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=g.prototype;var w=b.prototype=new m;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:t,key:s,ref:a,props:o,_owner:x.current}}function O(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,r,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=t),t=""===o?"."+I(l,0):o,_(s)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),C(s,e,r,"",(function(t){return t}))):null!=s&&(O(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+t)),e.push(s)),1;if(l=0,o=""===o?".":o+":",_(t))for(var u=0;u<t.length;u++){var c=o+I(a=t[u],u);l+=C(a,e,r,c,s)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=C(a=a.value,e,r,c=o+I(a,u++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function D(t,e,n){if(null==t)return t;var i=[],r=0;return C(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function A(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},M={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:x};function F(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:D,forEach:function(t,e,n){D(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return D(t,(function(){e++})),e},toArray:function(t){return D(t,(function(t){return t}))||[]},only:function(t){if(!O(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=F,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=x.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)k.call(e,u)&&!S.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:t.type,key:o,ref:s,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=O,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=F,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=t[a],u=a+1,c=t[u];if(0>o(l,n))u<r&&0>o(c,l)?(t[i]=c,t[u]=n,i=u):(t[i]=l,t[a]=n,i=a);else{if(!(u<r&&0>o(c,n)))break t;t[i]=c,t[u]=n,i=u}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,v=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(u,e)}e=i(c)}}function _(t){if(y=!1,w(t),!v)if(null!==i(u))v=!0,M(k);else{var e=i(c);null!==e&&N(_,e.startTime-t)}}function k(t,n){v=!1,y&&(y=!1,m(O),O=-1),p=!0;var o=f;try{for(w(n),d=i(u);null!==d&&(!(d.expirationTime>n)||t&&!C());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(u)&&r(u),w(n)}else r(u);d=i(u)}if(null!==d)var l=!0;else{var h=i(c);null!==h&&N(_,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,O=-1,T=5,I=-1;function C(){return!(e.unstable_now()-I<T)}function D(){if(null!==E){var t=e.unstable_now();I=t;var n=!0;try{n=E(!0,t)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=D,x=function(){P.postMessage(null)}}else x=function(){g(D,0)};function M(t){E=t,S||(S=!0,x())}function N(t,n){O=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,M(k))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(u)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(c,t),null===i(u)&&t===i(c)&&(y?(m(O),O=-1):y=!0,N(_,o-s))):(t.sortIndex=a,n(u,t),v||p||(v=!0,M(k))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},739:(t,e,n)=>{"use strict";var i=n(123),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}function _(){}function k(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=k.prototype=new _;x.constructor=k,i(x,w.prototype),x.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)E.call(e,i)&&!O.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:S.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,D=[];function A(t,e,n,i){if(D.length){var r=D.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function M(t,e,n,i){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o:case s:a=!0}}if(a)return n(i,t,""===e?"."+F(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+F(r=t[l],l);a+=M(r,u,n,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=y&&t[y]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(r=t.next()).done;)a+=M(r=r.value,u=e+F(r,l++),n,i);else if("object"===r)throw n=""+t,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function N(t,e,n){return null==t?0:M(t,"",e,n)}function F(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,i,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+n)),i.push(t))}function j(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(C,"$&/")+"/"),N(t,L,e=A(e,o,i,r)),P(e)}var z={current:null};function R(){var t=z.current;if(null===t)throw Error(g(321));return t}var U={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return j(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;N(t,B,e=A(null,null,e,n)),P(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return j(t,e,null,(function(t){return t})),e},only:function(t){if(!I(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=u,e.PureComponent=k,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(g(267,t));var r=i({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!O.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:o,type:t.type,key:s,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return R().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,n){return R().useReducer(t,e,n)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="16.14.0"},904:(t,e,n)=>{"use strict";t.exports=n(739)},114:function(t,e,n){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}},s=function(t){return t&&t.Math===Math&&t},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i&&i)||function(){return this}()||i||Function("return this")(),l=function(t){try{return!!t()}catch(e){return!0}},u=!l((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=u,h=Function.prototype,d=h.apply,f=h.call,p="object"==typeof Reflect&&Reflect.apply||(c?f.bind(d):function(){return f.apply(d,arguments)}),v=u,y=Function.prototype,g=y.call,m=v&&y.bind.bind(g,g),b=v?m:function(t){return function(){return g.apply(t,arguments)}},w=b,_=w({}.toString),k=w("".slice),x=function(t){return k(_(t),8,-1)},S=x,E=b,O=function(t){if("Function"===S(t))return E(t)},T="object"==typeof document&&document.all,I="undefined"==typeof T&&void 0!==T,C={all:T,IS_HTMLDDA:I},D=C,A=D.all,P=D.IS_HTMLDDA?function(t){return"function"==typeof t||t===A}:function(t){return"function"==typeof t},M={},N=!l((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),F=u,B=Function.prototype.call,L=F?B.bind(B):function(){return B.apply(B,arguments)},j={},z={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,U=R&&!z.call({1:2},1);j.f=U?function(t){var e=R(this,t);return!!e&&e.enumerable}:z;var H,V,W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},$=l,q=x,Y=Object,X=b("".split),G=$((function(){return!Y("z").propertyIsEnumerable(0)}))?function(t){return"String"===q(t)?X(t,""):Y(t)}:Y,K=function(t){return null===t||void 0===t},Q=K,J=TypeError,Z=function(t){if(Q(t))throw new J("Can't call method on "+t);return t},tt=G,et=Z,nt=function(t){return tt(et(t))},it=P,rt=C,ot=rt.all,st=rt.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:it(t)||t===ot}:function(t){return"object"==typeof t?null!==t:it(t)},at={},lt=at,ut=a,ct=P,ht=function(t){return ct(t)?t:void 0},dt=function(t,e){return arguments.length<2?ht(lt[t])||ht(ut[t]):lt[t]&&lt[t][e]||ut[t]&&ut[t][e]},ft=b({}.isPrototypeOf),pt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",vt=a,yt=pt,gt=vt.process,mt=vt.Deno,bt=gt&&gt.versions||mt&&mt.version,wt=bt&&bt.v8;wt&&(V=(H=wt.split("."))[0]>0&&H[0]<4?1:+(H[0]+H[1])),!V&&yt&&(!(H=yt.match(/Edge\/(\d+)/))||H[1]>=74)&&(H=yt.match(/Chrome\/(\d+)/))&&(V=+H[1]);var _t=V,kt=_t,xt=l,St=a.String,Et=!!Object.getOwnPropertySymbols&&!xt((function(){var t=Symbol("symbol detection");return!St(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&kt&&kt<41})),Ot=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Tt=dt,It=P,Ct=ft,Dt=Object,At=Ot?function(t){return"symbol"==typeof t}:function(t){var e=Tt("Symbol");return It(e)&&Ct(e.prototype,Dt(t))},Pt=String,Mt=function(t){try{return Pt(t)}catch(e){return"Object"}},Nt=P,Ft=Mt,Bt=TypeError,Lt=function(t){if(Nt(t))return t;throw new Bt(Ft(t)+" is not a function")},jt=Lt,zt=K,Rt=function(t,e){var n=t[e];return zt(n)?void 0:jt(n)},Ut=L,Ht=P,Vt=st,Wt=TypeError,$t=function(t,e){var n,i;if("string"===e&&Ht(n=t.toString)&&!Vt(i=Ut(n,t)))return i;if(Ht(n=t.valueOf)&&!Vt(i=Ut(n,t)))return i;if("string"!==e&&Ht(n=t.toString)&&!Vt(i=Ut(n,t)))return i;throw new Wt("Can't convert object to primitive value")},qt={exports:{}},Yt=!0,Xt=a,Gt=Object.defineProperty,Kt=function(t,e){try{Gt(Xt,t,{value:e,configurable:!0,writable:!0})}catch(n){Xt[t]=e}return e},Qt="__core-js_shared__",Jt=a[Qt]||Kt(Qt,{}),Zt=Jt;(qt.exports=function(t,e){return Zt[t]||(Zt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var te=qt.exports,ee=Z,ne=Object,ie=function(t){return ne(ee(t))},re=ie,oe=b({}.hasOwnProperty),se=Object.hasOwn||function(t,e){return oe(re(t),e)},ae=b,le=0,ue=Math.random(),ce=ae(1..toString),he=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ce(++le+ue,36)},de=te,fe=se,pe=he,ve=Et,ye=Ot,ge=a.Symbol,me=de("wks"),be=ye?ge.for||ge:ge&&ge.withoutSetter||pe,we=function(t){return fe(me,t)||(me[t]=ve&&fe(ge,t)?ge[t]:be("Symbol."+t)),me[t]},_e=L,ke=st,xe=At,Se=Rt,Ee=$t,Oe=TypeError,Te=we("toPrimitive"),Ie=function(t,e){if(!ke(t)||xe(t))return t;var n,i=Se(t,Te);if(i){if(void 0===e&&(e="default"),n=_e(i,t,e),!ke(n)||xe(n))return n;throw new Oe("Can't convert object to primitive value")}return void 0===e&&(e="number"),Ee(t,e)},Ce=At,De=function(t){var e=Ie(t,"string");return Ce(e)?e:e+""},Ae=st,Pe=a.document,Me=Ae(Pe)&&Ae(Pe.createElement),Ne=function(t){return Me?Pe.createElement(t):{}},Fe=l,Be=Ne,Le=!N&&!Fe((function(){return 7!==Object.defineProperty(Be("div"),"a",{get:function(){return 7}}).a})),je=N,ze=L,Re=j,Ue=W,He=nt,Ve=De,We=se,$e=Le,qe=Object.getOwnPropertyDescriptor;M.f=je?qe:function(t,e){if(t=He(t),e=Ve(e),$e)try{return qe(t,e)}catch(n){}if(We(t,e))return Ue(!ze(Re.f,t,e),t[e])};var Ye=l,Xe=P,Ge=/#|\.prototype\./,Ke=function(t,e){var n=Je[Qe(t)];return n===tn||n!==Ze&&(Xe(e)?Ye(e):!!e)},Qe=Ke.normalize=function(t){return String(t).replace(Ge,".").toLowerCase()},Je=Ke.data={},Ze=Ke.NATIVE="N",tn=Ke.POLYFILL="P",en=Ke,nn=Lt,rn=u,on=O(O.bind),sn=function(t,e){return nn(t),void 0===e?t:rn?on(t,e):function(){return t.apply(e,arguments)}},an={},ln=l,un=N&&ln((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),cn=st,hn=String,dn=TypeError,fn=function(t){if(cn(t))return t;throw new dn(hn(t)+" is not an object")},pn=N,vn=Le,yn=un,gn=fn,mn=De,bn=TypeError,wn=Object.defineProperty,_n=Object.getOwnPropertyDescriptor,kn="enumerable",xn="configurable",Sn="writable";an.f=pn?yn?function(t,e,n){if(gn(t),e=mn(e),gn(n),"function"===typeof t&&"prototype"===e&&"value"in n&&Sn in n&&!n[Sn]){var i=_n(t,e);i&&i[Sn]&&(t[e]=n.value,n={configurable:xn in n?n[xn]:i[xn],enumerable:kn in n?n[kn]:i[kn],writable:!1})}return wn(t,e,n)}:wn:function(t,e,n){if(gn(t),e=mn(e),gn(n),vn)try{return wn(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new bn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var En=an,On=W,Tn=N?function(t,e,n){return En.f(t,e,On(1,n))}:function(t,e,n){return t[e]=n,t},In=a,Cn=p,Dn=O,An=P,Pn=M.f,Mn=en,Nn=at,Fn=sn,Bn=Tn,Ln=se,jn=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return Cn(t,this,arguments)};return e.prototype=t.prototype,e},zn=function(t,e){var n,i,r,o,s,a,l,u,c,h=t.target,d=t.global,f=t.stat,p=t.proto,v=d?In:f?In[h]:(In[h]||{}).prototype,y=d?Nn:Nn[h]||Bn(Nn,h,{})[h],g=y.prototype;for(o in e)i=!(n=Mn(d?o:h+(f?".":"#")+o,t.forced))&&v&&Ln(v,o),a=y[o],i&&(l=t.dontCallGetSet?(c=Pn(v,o))&&c.value:v[o]),s=i&&l?l:e[o],i&&typeof a==typeof s||(u=t.bind&&i?Fn(s,In):t.wrap&&i?jn(s):p&&An(s)?Dn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Bn(u,"sham",!0),Bn(y,o,u),p&&(Ln(Nn,r=h+"Prototype")||Bn(Nn,r,{}),Bn(Nn[r],o,s),t.real&&g&&(n||!g[o])&&Bn(g,o,s)))},Rn=zn,Un=N,Hn=an.f;Rn({target:"Object",stat:!0,forced:Object.defineProperty!==Hn,sham:!Un},{defineProperty:Hn});var Vn=at.Object,Wn=o.exports=function(t,e,n){return Vn.defineProperty(t,e,n)};Vn.defineProperty.sham&&(Wn.sham=!0);var $n=o.exports,qn=$n,Yn=r(qn),Xn=x,Gn=Array.isArray||function(t){return"Array"===Xn(t)},Kn=Math.ceil,Qn=Math.floor,Jn=Math.trunc||function(t){var e=+t;return(e>0?Qn:Kn)(e)},Zn=function(t){var e=+t;return e!==e||0===e?0:Jn(e)},ti=Zn,ei=Math.min,ni=function(t){return t>0?ei(ti(t),9007199254740991):0},ii=function(t){return ni(t.length)},ri=TypeError,oi=9007199254740991,si=function(t){if(t>oi)throw ri("Maximum allowed index exceeded");return t},ai=De,li=an,ui=W,ci=function(t,e,n){var i=ai(e);i in t?li.f(t,i,ui(0,n)):t[i]=n},hi=we("toStringTag"),di={};di[hi]="z";var fi="[object z]"===String(di),pi=fi,vi=P,yi=x,gi=we("toStringTag"),mi=Object,bi="Arguments"===yi(function(){return arguments}()),wi=function(t,e){try{return t[e]}catch(n){}},_i=pi?yi:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=wi(e=mi(t),gi))?n:bi?yi(e):"Object"===(i=yi(e))&&vi(e.callee)?"Arguments":i},ki=P,xi=Jt,Si=b(Function.toString);ki(xi.inspectSource)||(xi.inspectSource=function(t){return Si(t)});var Ei=xi.inspectSource,Oi=b,Ti=l,Ii=P,Ci=_i,Di=Ei,Ai=function(){},Pi=[],Mi=dt("Reflect","construct"),Ni=/^\s*(?:class|function)\b/,Fi=Oi(Ni.exec),Bi=!Ni.test(Ai),Li=function(t){if(!Ii(t))return!1;try{return Mi(Ai,Pi,t),!0}catch(e){return!1}},ji=function(t){if(!Ii(t))return!1;switch(Ci(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bi||!!Fi(Ni,Di(t))}catch(e){return!0}};ji.sham=!0;var zi=!Mi||Ti((function(){var t;return Li(Li.call)||!Li(Object)||!Li((function(){t=!0}))||t}))?ji:Li,Ri=Gn,Ui=zi,Hi=st,Vi=we("species"),Wi=Array,$i=function(t){var e;return Ri(t)&&(e=t.constructor,(Ui(e)&&(e===Wi||Ri(e.prototype))||Hi(e)&&null===(e=e[Vi]))&&(e=void 0)),void 0===e?Wi:e},qi=function(t,e){return new($i(t))(0===e?0:e)},Yi=l,Xi=_t,Gi=we("species"),Ki=function(t){return Xi>=51||!Yi((function(){var e=[];return(e.constructor={})[Gi]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qi=zn,Ji=l,Zi=Gn,tr=st,er=ie,nr=ii,ir=si,rr=ci,or=qi,sr=Ki,ar=_t,lr=we("isConcatSpreadable"),ur=ar>=51||!Ji((function(){var t=[];return t[lr]=!1,t.concat()[0]!==t})),cr=function(t){if(!tr(t))return!1;var e=t[lr];return void 0!==e?!!e:Zi(t)},hr=!ur||!sr("concat");Qi({target:"Array",proto:!0,arity:1,forced:hr},{concat:function(t){var e,n,i,r,o,s=er(this),a=or(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(cr(o=-1===e?s:arguments[e]))for(r=nr(o),ir(l+r),n=0;n<r;n++,l++)n in o&&rr(a,l,o[n]);else ir(l+1),rr(a,l++,o);return a.length=l,a}});var dr=_i,fr=String,pr=function(t){if("Symbol"===dr(t))throw new TypeError("Cannot convert a Symbol value to a string");return fr(t)},vr={},yr=Zn,gr=Math.max,mr=Math.min,br=function(t,e){var n=yr(t);return n<0?gr(n+e,0):mr(n,e)},wr=nt,_r=br,kr=ii,xr=function(t){return function(e,n,i){var r,o=wr(e),s=kr(o),a=_r(i,s);if(t&&n!==n){for(;s>a;)if((r=o[a++])!==r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Sr={includes:xr(!0),indexOf:xr(!1)},Er={},Or=b,Tr=se,Ir=nt,Cr=Sr.indexOf,Dr=Er,Ar=Or([].push),Pr=function(t,e){var n,i=Ir(t),r=0,o=[];for(n in i)!Tr(Dr,n)&&Tr(i,n)&&Ar(o,n);for(;e.length>r;)Tr(i,n=e[r++])&&(~Cr(o,n)||Ar(o,n));return o},Mr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nr=Pr,Fr=Mr,Br=Object.keys||function(t){return Nr(t,Fr)},Lr=N,jr=un,zr=an,Rr=fn,Ur=nt,Hr=Br;vr.f=Lr&&!jr?Object.defineProperties:function(t,e){Rr(t);for(var n,i=Ur(e),r=Hr(e),o=r.length,s=0;o>s;)zr.f(t,n=r[s++],i[n]);return t};var Vr,Wr=dt("document","documentElement"),$r=he,qr=te("keys"),Yr=function(t){return qr[t]||(qr[t]=$r(t))},Xr=fn,Gr=vr,Kr=Mr,Qr=Er,Jr=Wr,Zr=Ne,to=">",eo="<",no="prototype",io="script",ro=Yr("IE_PROTO"),oo=function(){},so=function(t){return eo+io+to+t+eo+"/"+io+to},ao=function(t){t.write(so("")),t.close();var e=t.parentWindow.Object;return t=null,e},lo=function(){var t,e=Zr("iframe"),n="java"+io+":";return e.style.display="none",Jr.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(so("document.F=Object")),t.close(),t.F},uo=function(){try{Vr=new ActiveXObject("htmlfile")}catch(e){}uo="undefined"!=typeof document?document.domain&&Vr?ao(Vr):lo():ao(Vr);for(var t=Kr.length;t--;)delete uo[no][Kr[t]];return uo()};Qr[ro]=!0;var co=Object.create||function(t,e){var n;return null!==t?(oo[no]=Xr(t),n=new oo,oo[no]=null,n[ro]=t):n=uo(),void 0===e?n:Gr.f(n,e)},ho={},fo=Pr,po=Mr.concat("length","prototype");ho.f=Object.getOwnPropertyNames||function(t){return fo(t,po)};var vo={},yo=br,go=ii,mo=ci,bo=Array,wo=Math.max,_o=function(t,e,n){for(var i=go(t),r=yo(e,i),o=yo(void 0===n?i:n,i),s=bo(wo(o-r,0)),a=0;r<o;r++,a++)mo(s,a,t[r]);return s.length=a,s},ko=x,xo=nt,So=ho.f,Eo=_o,Oo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],To=function(t){try{return So(t)}catch(e){return Eo(Oo)}};vo.f=function(t){return Oo&&"Window"===ko(t)?To(t):So(xo(t))};var Io={};Io.f=Object.getOwnPropertySymbols;var Co=Tn,Do=function(t,e,n,i){return i&&i.enumerable?t[e]=n:Co(t,e,n),t},Ao=an,Po=function(t,e,n){return Ao.f(t,e,n)},Mo={},No=we;Mo.f=No;var Fo,Bo,Lo,jo=at,zo=se,Ro=Mo,Uo=an.f,Ho=function(t){var e=jo.Symbol||(jo.Symbol={});zo(e,t)||Uo(e,t,{value:Ro.f(t)})},Vo=L,Wo=dt,$o=we,qo=Do,Yo=function(){var t=Wo("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=$o("toPrimitive");e&&!e[i]&&qo(e,i,(function(t){return Vo(n,this)}),{arity:1})},Xo=_i,Go=fi?{}.toString:function(){return"[object "+Xo(this)+"]"},Ko=fi,Qo=an.f,Jo=Tn,Zo=se,ts=Go,es=we("toStringTag"),ns=function(t,e,n,i){if(t){var r=n?t:t.prototype;Zo(r,es)||Qo(r,es,{configurable:!0,value:e}),i&&!Ko&&Jo(r,"toString",ts)}},is=P,rs=a.WeakMap,os=is(rs)&&/native code/.test(String(rs)),ss=a,as=st,ls=Tn,us=se,cs=Jt,hs=Yr,ds=Er,fs="Object already initialized",ps=ss.TypeError,vs=ss.WeakMap,ys=function(t){return Lo(t)?Bo(t):Fo(t,{})},gs=function(t){return function(e){var n;if(!as(e)||(n=Bo(e)).type!==t)throw new ps("Incompatible receiver, "+t+" required");return n}};if(os||cs.state){var ms=cs.state||(cs.state=new vs);ms.get=ms.get,ms.has=ms.has,ms.set=ms.set,Fo=function(t,e){if(ms.has(t))throw new ps(fs);return e.facade=t,ms.set(t,e),e},Bo=function(t){return ms.get(t)||{}},Lo=function(t){return ms.has(t)}}else{var bs=hs("state");ds[bs]=!0,Fo=function(t,e){if(us(t,bs))throw new ps(fs);return e.facade=t,ls(t,bs,e),e},Bo=function(t){return us(t,bs)?t[bs]:{}},Lo=function(t){return us(t,bs)}}var ws={set:Fo,get:Bo,has:Lo,enforce:ys,getterFor:gs},_s=sn,ks=G,xs=ie,Ss=ii,Es=qi,Os=b([].push),Ts=function(t){var e=1===t,n=2===t,i=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(l,u,c,h){for(var d,f,p=xs(l),v=ks(p),y=_s(u,c),g=Ss(v),m=0,b=h||Es,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Os(w,d)}else switch(t){case 4:return!1;case 7:Os(w,d)}return o?-1:i||r?r:w}},Is={forEach:Ts(0),map:Ts(1),filter:Ts(2),some:Ts(3),every:Ts(4),find:Ts(5),findIndex:Ts(6),filterReject:Ts(7)},Cs=zn,Ds=a,As=L,Ps=b,Ms=N,Ns=Et,Fs=l,Bs=se,Ls=ft,js=fn,zs=nt,Rs=De,Us=pr,Hs=W,Vs=co,Ws=Br,$s=ho,qs=vo,Ys=Io,Xs=M,Gs=an,Ks=vr,Qs=j,Js=Do,Zs=Po,ta=te,ea=Yr,na=Er,ia=he,ra=we,oa=Mo,sa=Ho,aa=Yo,la=ns,ua=ws,ca=Is.forEach,ha=ea("hidden"),da="Symbol",fa="prototype",pa=ua.set,va=ua.getterFor(da),ya=Object[fa],ga=Ds.Symbol,ma=ga&&ga[fa],ba=Ds.RangeError,wa=Ds.TypeError,_a=Ds.QObject,ka=Xs.f,xa=Gs.f,Sa=qs.f,Ea=Qs.f,Oa=Ps([].push),Ta=ta("symbols"),Ia=ta("op-symbols"),Ca=ta("wks"),Da=!_a||!_a[fa]||!_a[fa].findChild,Aa=function(t,e,n){var i=ka(ya,e);i&&delete ya[e],xa(t,e,n),i&&t!==ya&&xa(ya,e,i)},Pa=Ms&&Fs((function(){return 7!==Vs(xa({},"a",{get:function(){return xa(this,"a",{value:7}).a}})).a}))?Aa:xa,Ma=function(t,e){var n=Ta[t]=Vs(ma);return pa(n,{type:da,tag:t,description:e}),Ms||(n.description=e),n},Na=function(t,e,n){t===ya&&Na(Ia,e,n),js(t);var i=Rs(e);return js(n),Bs(Ta,i)?(n.enumerable?(Bs(t,ha)&&t[ha][i]&&(t[ha][i]=!1),n=Vs(n,{enumerable:Hs(0,!1)})):(Bs(t,ha)||xa(t,ha,Hs(1,{})),t[ha][i]=!0),Pa(t,i,n)):xa(t,i,n)},Fa=function(t,e){js(t);var n=zs(e),i=Ws(n).concat(Ra(n));return ca(i,(function(e){Ms&&!As(La,n,e)||Na(t,e,n[e])})),t},Ba=function(t,e){return void 0===e?Vs(t):Fa(Vs(t),e)},La=function(t){var e=Rs(t),n=As(Ea,this,e);return!(this===ya&&Bs(Ta,e)&&!Bs(Ia,e))&&(!(n||!Bs(this,e)||!Bs(Ta,e)||Bs(this,ha)&&this[ha][e])||n)},ja=function(t,e){var n=zs(t),i=Rs(e);if(n!==ya||!Bs(Ta,i)||Bs(Ia,i)){var r=ka(n,i);return!r||!Bs(Ta,i)||Bs(n,ha)&&n[ha][i]||(r.enumerable=!0),r}},za=function(t){var e=Sa(zs(t)),n=[];return ca(e,(function(t){Bs(Ta,t)||Bs(na,t)||Oa(n,t)})),n},Ra=function(t){var e=t===ya,n=Sa(e?Ia:zs(t)),i=[];return ca(n,(function(t){!Bs(Ta,t)||e&&!Bs(ya,t)||Oa(i,Ta[t])})),i};Ns||(ga=function(){if(Ls(ma,this))throw new wa("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Us(arguments[0]):void 0,e=ia(t),n=function(t){var i=void 0===this?Ds:this;i===ya&&As(n,Ia,t),Bs(i,ha)&&Bs(i[ha],e)&&(i[ha][e]=!1);var r=Hs(1,t);try{Pa(i,e,r)}catch(o){if(!(o instanceof ba))throw o;Aa(i,e,r)}};return Ms&&Da&&Pa(ya,e,{configurable:!0,set:n}),Ma(e,t)},Js(ma=ga[fa],"toString",(function(){return va(this).tag})),Js(ga,"withoutSetter",(function(t){return Ma(ia(t),t)})),Qs.f=La,Gs.f=Na,Ks.f=Fa,Xs.f=ja,$s.f=qs.f=za,Ys.f=Ra,oa.f=function(t){return Ma(ra(t),t)},Ms&&Zs(ma,"description",{configurable:!0,get:function(){return va(this).description}})),Cs({global:!0,constructor:!0,wrap:!0,forced:!Ns,sham:!Ns},{Symbol:ga}),ca(Ws(Ca),(function(t){sa(t)})),Cs({target:da,stat:!0,forced:!Ns},{useSetter:function(){Da=!0},useSimple:function(){Da=!1}}),Cs({target:"Object",stat:!0,forced:!Ns,sham:!Ms},{create:Ba,defineProperty:Na,defineProperties:Fa,getOwnPropertyDescriptor:ja}),Cs({target:"Object",stat:!0,forced:!Ns},{getOwnPropertyNames:za}),aa(),la(ga,da),na[ha]=!0;var Ua=Et&&!!Symbol.for&&!!Symbol.keyFor,Ha=zn,Va=dt,Wa=se,$a=pr,qa=te,Ya=Ua,Xa=qa("string-to-symbol-registry"),Ga=qa("symbol-to-string-registry");Ha({target:"Symbol",stat:!0,forced:!Ya},{for:function(t){var e=$a(t);if(Wa(Xa,e))return Xa[e];var n=Va("Symbol")(e);return Xa[e]=n,Ga[n]=e,n}});var Ka=zn,Qa=se,Ja=At,Za=Mt,tl=Ua,el=te("symbol-to-string-registry");Ka({target:"Symbol",stat:!0,forced:!tl},{keyFor:function(t){if(!Ja(t))throw new TypeError(Za(t)+" is not a symbol");if(Qa(el,t))return el[t]}});var nl=b([].slice),il=Gn,rl=P,ol=x,sl=pr,al=b([].push),ll=zn,ul=dt,cl=p,hl=L,dl=b,fl=l,pl=P,vl=At,yl=nl,gl=function(t){if(rl(t))return t;if(il(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?al(n,r):"number"!=typeof r&&"Number"!==ol(r)&&"String"!==ol(r)||al(n,sl(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(il(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}},ml=Et,bl=String,wl=ul("JSON","stringify"),_l=dl(/./.exec),kl=dl("".charAt),xl=dl("".charCodeAt),Sl=dl("".replace),El=dl(1..toString),Ol=/[\uD800-\uDFFF]/g,Tl=/^[\uD800-\uDBFF]$/,Il=/^[\uDC00-\uDFFF]$/,Cl=!ml||fl((function(){var t=ul("Symbol")("stringify detection");return"[null]"!==wl([t])||"{}"!==wl({a:t})||"{}"!==wl(Object(t))})),Dl=fl((function(){return'"\\udf06\\ud834"'!==wl("\udf06\ud834")||'"\\udead"'!==wl("\udead")})),Al=function(t,e){var n=yl(arguments),i=gl(e);if(pl(i)||void 0!==t&&!vl(t))return n[1]=function(t,e){if(pl(i)&&(e=hl(i,this,bl(t),e)),!vl(e))return e},cl(wl,null,n)},Pl=function(t,e,n){var i=kl(n,e-1),r=kl(n,e+1);return _l(Tl,t)&&!_l(Il,r)||_l(Il,t)&&!_l(Tl,i)?"\\u"+El(xl(t,0),16):t};wl&&ll({target:"JSON",stat:!0,arity:3,forced:Cl||Dl},{stringify:function(t,e,n){var i=yl(arguments),r=cl(Cl?Al:wl,null,i);return Dl&&"string"==typeof r?Sl(r,Ol,Pl):r}});var Ml=zn,Nl=l,Fl=Io,Bl=ie,Ll=!Et||Nl((function(){Fl.f(1)}));Ml({target:"Object",stat:!0,forced:Ll},{getOwnPropertySymbols:function(t){var e=Fl.f;return e?e(Bl(t)):[]}}),Ho("asyncIterator"),Ho("hasInstance"),Ho("isConcatSpreadable"),Ho("iterator"),Ho("match"),Ho("matchAll"),Ho("replace"),Ho("search"),Ho("species"),Ho("split");var jl=Yo;Ho("toPrimitive"),jl();var zl=dt,Rl=ns;Ho("toStringTag"),Rl(zl("Symbol"),"Symbol"),Ho("unscopables"),ns(a.JSON,"JSON",!0);var Ul,Hl,Vl,Wl=at.Symbol,$l={},ql=N,Yl=se,Xl=Function.prototype,Gl=ql&&Object.getOwnPropertyDescriptor,Kl=Yl(Xl,"name"),Ql=Kl&&"something"===function(){}.name,Jl=Kl&&(!ql||ql&&Gl(Xl,"name").configurable),Zl={EXISTS:Kl,PROPER:Ql,CONFIGURABLE:Jl},tu=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),eu=se,nu=P,iu=ie,ru=tu,ou=Yr("IE_PROTO"),su=Object,au=su.prototype,lu=ru?su.getPrototypeOf:function(t){var e=iu(t);if(eu(e,ou))return e[ou];var n=e.constructor;return nu(n)&&e instanceof n?n.prototype:e instanceof su?au:null},uu=l,cu=P,hu=st,du=co,fu=lu,pu=Do,vu=we("iterator"),yu=!1;[].keys&&("next"in(Vl=[].keys())?(Hl=fu(fu(Vl)))!==Object.prototype&&(Ul=Hl):yu=!0),Ul=!hu(Ul)||uu((function(){var t={};return Ul[vu].call(t)!==t}))?{}:du(Ul),cu(Ul[vu])||pu(Ul,vu,(function(){return this}));var gu={IteratorPrototype:Ul,BUGGY_SAFARI_ITERATORS:yu},mu=gu.IteratorPrototype,bu=co,wu=W,_u=ns,ku=$l,xu=function(){return this},Su=function(t,e,n,i){var r=e+" Iterator";return t.prototype=bu(mu,{next:wu(+!i,n)}),_u(t,r,!1,!0),ku[r]=xu,t},Eu=b,Ou=Lt,Tu=P,Iu=String,Cu=TypeError,Du=function(t,e,n){try{return Eu(Ou(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(i){}},Au=fn,Pu=function(t){if("object"==typeof t||Tu(t))return t;throw new Cu("Can't set "+Iu(t)+" as a prototype")},Mu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Du(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return Au(n),Pu(i),e?t(n,i):n.__proto__=i,n}}():void 0),Nu=zn,Fu=L,Bu=Zl,Lu=Su,ju=lu,zu=ns,Ru=Do,Uu=we,Hu=$l,Vu=gu,Wu=Bu.PROPER;Bu.CONFIGURABLE,Vu.IteratorPrototype;var $u=Vu.BUGGY_SAFARI_ITERATORS,qu=Uu("iterator"),Yu="keys",Xu="values",Gu="entries",Ku=function(){return this},Qu=function(t,e,n,i,r,o,s){Lu(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!$u&&t&&t in f)return f[t];switch(t){case Yu:case Xu:case Gu:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[qu]||f["@@iterator"]||r&&f[r],v=!$u&&p||c(r),y="Array"===e&&f.entries||p;if(y&&(a=ju(y.call(new t)))!==Object.prototype&&a.next&&(zu(a,h,!0,!0),Hu[h]=Ku),Wu&&r===Xu&&p&&p.name!==Xu&&(d=!0,v=function(){return Fu(p,this)}),r)if(l={values:c(Xu),keys:o?v:c(Yu),entries:c(Gu)},s)for(u in l)($u||d||!(u in f))&&Ru(f,u,l[u]);else Nu({target:e,proto:!0,forced:$u||d},l);return s&&f[qu]!==v&&Ru(f,qu,v,{name:r}),Hu[e]=v,l},Ju=function(t,e){return{value:t,done:e}},Zu=nt,tc=$l,ec=ws;an.f;var nc=Qu,ic=Ju,rc="Array Iterator",oc=ec.set,sc=ec.getterFor(rc);nc(Array,"Array",(function(t,e){oc(this,{type:rc,target:Zu(t),index:0,kind:e})}),(function(){var t=sc(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,ic(void 0,!0);switch(t.kind){case"keys":return ic(n,!1);case"values":return ic(e[n],!1)}return ic([n,e[n]],!1)}),"values"),tc.Arguments=tc.Array;var ac={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lc=a,uc=_i,cc=Tn,hc=$l,dc=we("toStringTag");for(var fc in ac){var pc=lc[fc],vc=pc&&pc.prototype;vc&&uc(vc)!==dc&&cc(vc,dc,fc),hc[fc]=hc.Array}var yc=Wl,gc=we,mc=an.f,bc=gc("metadata"),wc=Function.prototype;void 0===wc[bc]&&mc(wc,bc,{value:null}),Ho("asyncDispose"),Ho("dispose"),Ho("metadata");var _c=yc,kc=b,xc=dt("Symbol"),Sc=xc.keyFor,Ec=kc(xc.prototype.valueOf),Oc=xc.isRegisteredSymbol||function(t){try{return void 0!==Sc(Ec(t))}catch(e){return!1}};zn({target:"Symbol",stat:!0},{isRegisteredSymbol:Oc});for(var Tc=te,Ic=dt,Cc=b,Dc=At,Ac=we,Pc=Ic("Symbol"),Mc=Pc.isWellKnownSymbol,Nc=Ic("Object","getOwnPropertyNames"),Fc=Cc(Pc.prototype.valueOf),Bc=Tc("wks"),Lc=0,jc=Nc(Pc),zc=jc.length;Lc<zc;Lc++)try{var Rc=jc[Lc];Dc(Pc[Rc])&&Ac(Rc)}catch(CI){}var Uc=function(t){if(Mc&&Mc(t))return!0;try{for(var e=Fc(t),n=0,i=Nc(Bc),r=i.length;n<r;n++)if(Bc[i[n]]==e)return!0}catch(CI){}return!1};zn({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Uc}),Ho("matcher"),Ho("observable"),zn({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Oc}),zn({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Uc}),Ho("metadataKey"),Ho("patternMatch"),Ho("replaceAll");var Hc=_c,Vc=r(Hc),Wc=b,$c=Zn,qc=pr,Yc=Z,Xc=Wc("".charAt),Gc=Wc("".charCodeAt),Kc=Wc("".slice),Qc=function(t){return function(e,n){var i,r,o=qc(Yc(e)),s=$c(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=Gc(o,s))<55296||i>56319||s+1===a||(r=Gc(o,s+1))<56320||r>57343?t?Xc(o,s):i:t?Kc(o,s,s+2):r-56320+(i-55296<<10)+65536}},Jc=(Qc(!1),Qc(!0)),Zc=pr,th=ws,eh=Qu,nh=Ju,ih="String Iterator",rh=th.set,oh=th.getterFor(ih);eh(String,"String",(function(t){rh(this,{type:ih,string:Zc(t),index:0})}),(function(){var t,e=oh(this),n=e.string,i=e.index;return i>=n.length?nh(void 0,!0):(t=Jc(n,i),e.index+=t.length,nh(t,!1))}));var sh=Mo.f("iterator"),ah=sh,lh=r(ah);function uh(t){return uh="function"==typeof Vc&&"symbol"==typeof lh?function(t){return typeof t}:function(t){return t&&"function"==typeof Vc&&t.constructor===Vc&&t!==Vc.prototype?"symbol":typeof t},uh(t)}var ch=r(Mo.f("toPrimitive"));function hh(t,e){if("object"!==uh(t)||null===t)return t;var n=t[ch];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==uh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function dh(t){var e=hh(t,"string");return"symbol"===uh(e)?e:String(e)}function fh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Yn(t,dh(i.key),i)}}function ph(t,e,n){return e&&fh(t.prototype,e),n&&fh(t,n),Yn(t,"prototype",{writable:!1}),t}function vh(t,e,n){return(e=dh(e))in t?Yn(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yh=b,gh=Lt,mh=st,bh=se,wh=nl,_h=u,kh=Function,xh=yh([].concat),Sh=yh([].join),Eh={},Oh=function(t,e,n){if(!bh(Eh,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Eh[e]=kh("C,a","return new C("+Sh(i,",")+")")}return Eh[e](t,n)},Th=_h?kh.bind:function(t){var e=gh(this),n=e.prototype,i=wh(arguments,1),r=function(){var n=xh(i,wh(arguments));return this instanceof r?Oh(e,n.length,n):e.apply(t,n)};return mh(n)&&(r.prototype=n),r},Ih=Th;zn({target:"Function",proto:!0,forced:Function.bind!==Ih},{bind:Ih});var Ch=a,Dh=at,Ah=function(t,e){var n=Dh[t+"Prototype"],i=n&&n[e];if(i)return i;var r=Ch[t],o=r&&r.prototype;return o&&o[e]},Ph=Ah("Function","bind"),Mh=ft,Nh=Ph,Fh=Function.prototype,Bh=function(t){var e=t.bind;return t===Fh||Mh(Fh,t)&&e===Fh.bind?Nh:e},Lh=r(Bh),jh=Lt,zh=ie,Rh=G,Uh=ii,Hh=TypeError,Vh=function(t){return function(e,n,i,r){jh(n);var o=zh(e),s=Rh(o),a=Uh(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw new Hh("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},Wh={left:Vh(!1),right:Vh(!0)},$h=l,qh=function(t,e){var n=[][t];return!!n&&$h((function(){n.call(null,e||function(){return 1},1)}))},Yh="process"===x(a.process),Xh=zn,Gh=Wh.left,Kh=qh,Qh=_t,Jh=!Yh&&Qh>79&&Qh<83||!Kh("reduce");Xh({target:"Array",proto:!0,forced:Jh},{reduce:function(t){var e=arguments.length;return Gh(this,t,e,e>1?arguments[1]:void 0)}});var Zh=Ah("Array","reduce"),td=ft,ed=Zh,nd=Array.prototype,id=r((function(t){var e=t.reduce;return t===nd||td(nd,t)&&e===nd.reduce?ed:e})),rd=zn,od=Is.filter,sd=Ki("filter");rd({target:"Array",proto:!0,forced:!sd},{filter:function(t){return od(this,t,arguments.length>1?arguments[1]:void 0)}});var ad=Ah("Array","filter"),ld=ft,ud=ad,cd=Array.prototype,hd=r((function(t){var e=t.filter;return t===cd||ld(cd,t)&&e===cd.filter?ud:e})),dd=zn,fd=Is.map,pd=Ki("map");dd({target:"Array",proto:!0,forced:!pd},{map:function(t){return fd(this,t,arguments.length>1?arguments[1]:void 0)}});var vd=Ah("Array","map"),yd=ft,gd=vd,md=Array.prototype,bd=r((function(t){var e=t.map;return t===md||yd(md,t)&&e===md.map?gd:e})),wd=Gn,_d=ii,kd=si,xd=sn,Sd=function(t,e,n,i,r,o,s,a){for(var l,u,c=r,h=0,d=!!s&&xd(s,a);h<i;)h in n&&(l=d?d(n[h],h,e):n[h],o>0&&wd(l)?(u=_d(l),c=Sd(t,e,l,u,c,o-1)-1):(kd(c+1),t[c]=l),c++),h++;return c},Ed=Sd,Od=Lt,Td=ie,Id=ii,Cd=qi;zn({target:"Array",proto:!0},{flatMap:function(t){var e,n=Td(this),i=Id(n);return Od(t),(e=Cd(n,0)).length=Ed(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Dd=Ah("Array","flatMap"),Ad=ft,Pd=Dd,Md=Array.prototype,Nd=r((function(t){var e=t.flatMap;return t===Md||Ad(Md,t)&&e===Md.flatMap?Pd:e}));function Fd(t){return new Ld(t)}var Bd=function(){function t(n,i,r){var o,s,a;e(this,t),vh(this,"_listeners",{add:Lh(o=this._add).call(o,this),remove:Lh(s=this._remove).call(s,this),update:Lh(a=this._update).call(a,this)}),this._source=n,this._transformers=i,this._target=r}return ph(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return id(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),Ld=function(){function t(n){e(this,t),vh(this,"_transformers",[]),this._source=n}return ph(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return hd(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return bd(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return Nd(e).call(e,t)})),this}},{key:"to",value:function(t){return new Bd(this._source,this._transformers,t)}}]),t}(),jd=L,zd=fn,Rd=Rt,Ud=function(t,e,n){var i,r;zd(t);try{if(!(i=Rd(t,"return"))){if("throw"===e)throw n;return n}i=jd(i,t)}catch(CI){r=!0,i=CI}if("throw"===e)throw n;if(r)throw i;return zd(i),n},Hd=fn,Vd=Ud,Wd=function(t,e,n,i){try{return i?e(Hd(n)[0],n[1]):e(n)}catch(CI){Vd(t,"throw",CI)}},$d=$l,qd=we("iterator"),Yd=Array.prototype,Xd=function(t){return void 0!==t&&($d.Array===t||Yd[qd]===t)},Gd=_i,Kd=Rt,Qd=K,Jd=$l,Zd=we("iterator"),tf=function(t){if(!Qd(t))return Kd(t,Zd)||Kd(t,"@@iterator")||Jd[Gd(t)]},ef=L,nf=Lt,rf=fn,of=Mt,sf=tf,af=TypeError,lf=function(t,e){var n=arguments.length<2?sf(t):e;if(nf(n))return rf(ef(n,t));throw new af(of(t)+" is not iterable")},uf=sn,cf=L,hf=ie,df=Wd,ff=Xd,pf=zi,vf=ii,yf=ci,gf=lf,mf=tf,bf=Array,wf=function(t){var e=hf(t),n=pf(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=uf(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=mf(e),f=0;if(!d||this===bf&&ff(d))for(s=vf(e),a=n?new this(s):bf(s);s>f;f++)h=o?r(e[f],f):e[f],yf(a,f,h);else for(c=(u=gf(e,d)).next,a=n?new this:[];!(l=cf(c,u)).done;f++)h=o?df(u,r,[l.value,f],!0):l.value,yf(a,f,h);return a.length=f,a},_f=we("iterator"),kf=!1;try{var xf=0,Sf={next:function(){return{done:!!xf++}},return:function(){kf=!0}};Sf[_f]=function(){return this},Array.from(Sf,(function(){throw 2}))}catch(CI){}var Ef=function(t,e){try{if(!e&&!kf)return!1}catch(CI){return!1}var n=!1;try{var i={};i[_f]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(CI){}return n},Of=zn,Tf=wf,If=!Ef((function(t){Array.from(t)}));Of({target:"Array",stat:!0,forced:If},{from:Tf});var Cf=at.Array.from,Df=r(Cf),Af=tf,Pf=r(Af),Mf=r(Af);zn({target:"Array",stat:!0},{isArray:Gn});var Nf=at.Array.isArray,Ff=r(Nf);function Bf(t){if(Ff(t))return t}var Lf=N,jf=Gn,zf=TypeError,Rf=Object.getOwnPropertyDescriptor,Uf=Lf&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(CI){return CI instanceof TypeError}}()?function(t,e){if(jf(t)&&!Rf(t,"length").writable)throw new zf("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Hf=zn,Vf=ie,Wf=ii,$f=Uf,qf=si,Yf=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),Xf=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(CI){return CI instanceof TypeError}},Gf=Yf||!Xf();Hf({target:"Array",proto:!0,arity:1,forced:Gf},{push:function(t){var e=Vf(this),n=Wf(e),i=arguments.length;qf(n+i);for(var r=0;r<i;r++)e[n]=arguments[r],n++;return $f(e,n),n}});var Kf=Ah("Array","push"),Qf=ft,Jf=Kf,Zf=Array.prototype,tp=function(t){var e=t.push;return t===Zf||Qf(Zf,t)&&e===Zf.push?Jf:e},ep=r(tp);function np(t,e){var n=null==t?null:"undefined"!=typeof Vc&&Pf(t)||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(ep(a).call(a,i.value),a.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}var ip=zn,rp=Gn,op=zi,sp=st,ap=br,lp=ii,up=nt,cp=ci,hp=we,dp=nl,fp=Ki("slice"),pp=hp("species"),vp=Array,yp=Math.max;ip({target:"Array",proto:!0,forced:!fp},{slice:function(t,e){var n,i,r,o=up(this),s=lp(o),a=ap(t,s),l=ap(void 0===e?s:e,s);if(rp(o)&&(n=o.constructor,(op(n)&&(n===vp||rp(n.prototype))||sp(n)&&null===(n=n[pp]))&&(n=void 0),n===vp||void 0===n))return dp(o,a,l);for(i=new(void 0===n?vp:n)(yp(l-a,0)),r=0;a<l;a++,r++)a in o&&cp(i,r,o[a]);return i.length=r,i}});var gp=Ah("Array","slice"),mp=ft,bp=gp,wp=Array.prototype,_p=function(t){var e=t.slice;return t===wp||mp(wp,t)&&e===wp.slice?bp:e},kp=_p,xp=r(kp),Sp=r(Cf);function Ep(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Op(t,e){var n;if(t){if("string"===typeof t)return Ep(t,e);var i=xp(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Sp(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ep(t,e):void 0}}function Tp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ip(t,e){return Bf(t)||np(t,e)||Op(t,e)||Tp()}function Cp(t){if(Ff(t))return Ep(t)}function Dp(t){if("undefined"!==typeof Vc&&null!=Pf(t)||null!=t["@@iterator"])return Sp(t)}function Ap(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pp(t){return Cp(t)||Dp(t)||Op(t)||Ap()}var Mp=r(yc),Np=Ah("Array","concat"),Fp=ft,Bp=Np,Lp=Array.prototype,jp=r((function(t){var e=t.concat;return t===Lp||Fp(Lp,t)&&e===Lp.concat?Bp:e})),zp=r(_p),Rp=dt,Up=ho,Hp=Io,Vp=fn,Wp=b([].concat),$p=Rp("Reflect","ownKeys")||function(t){var e=Up.f(Vp(t)),n=Hp.f;return n?Wp(e,n(t)):e};zn({target:"Reflect",stat:!0},{ownKeys:$p});var qp=r(at.Reflect.ownKeys),Yp=r(Nf),Xp=zn,Gp=ie,Kp=Br,Qp=l((function(){Kp(1)}));Xp({target:"Object",stat:!0,forced:Qp},{keys:function(t){return Kp(Gp(t))}});var Jp=r(at.Object.keys),Zp=Is.forEach,tv=qh("forEach")?[].forEach:function(t){return Zp(this,t,arguments.length>1?arguments[1]:void 0)};zn({target:"Array",proto:!0,forced:[].forEach!==tv},{forEach:tv});var ev=Ah("Array","forEach"),nv=_i,iv=se,rv=ft,ov=ev,sv=Array.prototype,av={DOMTokenList:!0,NodeList:!0},lv=function(t){var e=t.forEach;return t===sv||rv(sv,t)&&e===sv.forEach||iv(av,nv(t))?ov:e},uv=r(lv),cv=zn,hv=Gn,dv=b([].reverse),fv=[1,2];cv({target:"Array",proto:!0,forced:String(fv)===String(fv.reverse())},{reverse:function(){return hv(this)&&(this.length=this.length),dv(this)}});var pv=Ah("Array","reverse"),vv=ft,yv=pv,gv=Array.prototype,mv=function(t){var e=t.reverse;return t===gv||vv(gv,t)&&e===gv.reverse?yv:e},bv=r(mv),wv=Mt,_v=TypeError,kv=function(t,e){if(!delete t[e])throw new _v("Cannot delete property "+wv(e)+" of "+wv(t))},xv=zn,Sv=ie,Ev=br,Ov=Zn,Tv=ii,Iv=Uf,Cv=si,Dv=qi,Av=ci,Pv=kv,Mv=Ki("splice"),Nv=Math.max,Fv=Math.min;xv({target:"Array",proto:!0,forced:!Mv},{splice:function(t,e){var n,i,r,o,s,a,l=Sv(this),u=Tv(l),c=Ev(t,u),h=arguments.length;for(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Fv(Nv(Ov(e),0),u-c)),Cv(u+n-i),r=Dv(l,i),o=0;o<i;o++)(s=c+o)in l&&Av(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:Pv(l,a);for(o=u;o>u-i+n;o--)Pv(l,o-1)}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:Pv(l,a);for(o=0;o<n;o++)l[o+c]=arguments[o+2];return Iv(l,u-i+n),r}});var Bv=Ah("Array","splice"),Lv=ft,jv=Bv,zv=Array.prototype,Rv=r((function(t){var e=t.splice;return t===zv||Lv(zv,t)&&e===zv.splice?jv:e})),Uv=N,Hv=b,Vv=L,Wv=l,$v=Br,qv=Io,Yv=j,Xv=ie,Gv=G,Kv=Object.assign,Qv=Object.defineProperty,Jv=Hv([].concat),Zv=!Kv||Wv((function(){if(Uv&&1!==Kv({b:1},Kv(Qv({},"a",{enumerable:!0,get:function(){Qv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==Kv({},t)[n]||$v(Kv({},e)).join("")!==i}))?function(t,e){for(var n=Xv(t),i=arguments.length,r=1,o=qv.f,s=Yv.f;i>r;)for(var a,l=Gv(arguments[r++]),u=o?Jv($v(l),o(l)):$v(l),c=u.length,h=0;c>h;)a=u[h++],Uv&&!Vv(s,l,a)||(n[a]=l[a]);return n}:Kv,ty=Zv;zn({target:"Object",stat:!0,arity:2,forced:Object.assign!==ty},{assign:ty});var ey=r(at.Object.assign),ny=zn,iy=ie,ry=lu,oy=tu,sy=l((function(){ry(1)}));ny({target:"Object",stat:!0,forced:sy,sham:!oy},{getPrototypeOf:function(t){return ry(iy(t))}});var ay=at.Object.getPrototypeOf;zn({target:"Object",stat:!0,sham:!N},{create:co});var ly=at.Object,uy=function(t,e){return ly.create(t,e)},cy=r(uy),hy=at,dy=p;hy.JSON||(hy.JSON={stringify:JSON.stringify});var fy=function(t,e,n){return dy(hy.JSON.stringify,null,arguments)},py=r(fy),vy="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,yy=TypeError,gy=function(t,e){if(t<e)throw new yy("Not enough arguments");return t},my=a,by=p,wy=P,_y=vy,ky=pt,xy=nl,Sy=gy,Ey=my.Function,Oy=/MSIE .\./.test(ky)||_y&&function(){var t=my.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),Ty=function(t,e){var n=e?2:1;return Oy?function(i,r){var o=Sy(arguments.length,1)>n,s=wy(i)?i:Ey(i),a=o?xy(arguments,n):[],l=o?function(){by(s,this,a)}:s;return e?t(l,r):t(l)}:t},Iy=zn,Cy=a,Dy=Ty(Cy.setInterval,!0);Iy({global:!0,bind:!0,forced:Cy.setInterval!==Dy},{setInterval:Dy});var Ay=zn,Py=a,My=Ty(Py.setTimeout,!0);Ay({global:!0,bind:!0,forced:Py.setTimeout!==My},{setTimeout:My});var Ny=r(at.setTimeout),Fy={exports:{}};!function(t){function e(t){if(t)return n(t);this._callbacks=new Map}function n(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){var n=this;const i=function(){n.off(t,i);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];e.apply(n,o)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,i]of n.entries())if(i===e||i.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t){const e=this._callbacks.get(t);if(e){const t=[...e];for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const e of t)e.apply(this,i)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const n of this._callbacks.values())e+=n.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Fy);var By,Ly=r(Fy.exports);function jy(){return jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jy.apply(this,arguments)}function zy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ry(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}By="function"!==typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Uy,Hy=By,Vy=["","webkit","Moz","MS","ms","o"],Wy="undefined"===typeof document?{style:{}}:document.createElement("div"),$y="function",qy=Math.round,Yy=Math.abs,Xy=Date.now;function Gy(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Vy.length;){if((i=(n=Vy[o])?n+r:e)in t)return i;o++}}Uy="undefined"===typeof window?{}:window;var Ky=Gy(Wy.style,"touchAction"),Qy=void 0!==Ky;function Jy(){if(!Qy)return!1;var t={},e=Uy.CSS&&Uy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Uy.CSS.supports("touch-action",n)})),t}var Zy="compute",tg="auto",eg="manipulation",ng="none",ig="pan-x",rg="pan-y",og=Jy(),sg=/mobile|tablet|ip(ad|hone|od)|android/i,ag="ontouchstart"in Uy,lg=void 0!==Gy(Uy,"PointerEvent"),ug=ag&&sg.test(navigator.userAgent),cg="touch",hg="pen",dg="mouse",fg="kinect",pg=25,vg=1,yg=2,gg=4,mg=8,bg=1,wg=2,_g=4,kg=8,xg=16,Sg=wg|_g,Eg=kg|xg,Og=Sg|Eg,Tg=["x","y"],Ig=["clientX","clientY"];function Cg(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Dg(t,e){return typeof t===$y?t.apply(e&&e[0]||void 0,e):t}function Ag(t,e){return t.indexOf(e)>-1}function Pg(t){if(Ag(t,ng))return ng;var e=Ag(t,ig),n=Ag(t,rg);return e&&n?ng:e||n?e?ig:rg:Ag(t,eg)?eg:tg}var Mg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Zy&&(t=this.compute()),Qy&&this.manager.element.style&&og[t]&&(this.manager.element.style[Ky]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Cg(this.manager.recognizers,(function(e){Dg(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),Pg(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=Ag(i,ng)&&!og[ng],o=Ag(i,rg)&&!og[rg],s=Ag(i,ig)&&!og[ig];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&Sg||s&&n&Eg?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Ng(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Fg(t){var e=t.length;if(1===e)return{x:qy(t[0].clientX),y:qy(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:qy(n/e),y:qy(i/e)}}function Bg(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:qy(t.pointers[n].clientX),clientY:qy(t.pointers[n].clientY)},n++;return{timeStamp:Xy(),pointers:e,center:Fg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Lg(t,e,n){n||(n=Tg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function jg(t,e,n){n||(n=Tg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function zg(t,e){return t===e?bg:Yy(t)>=Yy(e)?t<0?wg:_g:e<0?kg:xg}function Rg(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==vg&&o.eventType!==gg||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function Ug(t,e,n){return{x:e/t||0,y:n/t||0}}function Hg(t,e){return Lg(e[0],e[1],Ig)/Lg(t[0],t[1],Ig)}function Vg(t,e){return jg(e[1],e[0],Ig)+jg(t[1],t[0],Ig)}function Wg(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==mg&&(a>pg||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=Ug(a,l,u);i=c.x,r=c.y,n=Yy(c.x)>Yy(c.y)?c.x:c.y,o=zg(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function $g(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=Bg(e)),r>1&&!n.firstMultiple?n.firstMultiple=Bg(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=Fg(i);e.timeStamp=Xy(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=jg(a,l),e.distance=Lg(a,l),Rg(n,e),e.offsetDirection=zg(e.deltaX,e.deltaY);var u=Ug(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Yy(u.x)>Yy(u.y)?u.x:u.y,e.scale=s?Hg(s.pointers,i):1,e.rotation=s?Vg(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,Wg(n,e);var c,h=t.element,d=e.srcEvent;Ng(c=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,h)&&(h=c),e.target=h}function qg(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&vg&&i-r===0,s=e&(gg|mg)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,$g(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Yg(t){return t.trim().split(/\s+/g)}function Xg(t,e,n){Cg(Yg(e),(function(e){t.addEventListener(e,n,!1)}))}function Gg(t,e,n){Cg(Yg(e),(function(e){t.removeEventListener(e,n,!1)}))}function Kg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Qg=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Dg(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xg(this.element,this.evEl,this.domHandler),this.evTarget&&Xg(this.target,this.evTarget,this.domHandler),this.evWin&&Xg(Kg(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Gg(this.element,this.evEl,this.domHandler),this.evTarget&&Gg(this.target,this.evTarget,this.domHandler),this.evWin&&Gg(Kg(this.element),this.evWin,this.domHandler)},t}();function Jg(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Zg={pointerdown:vg,pointermove:yg,pointerup:gg,pointercancel:mg,pointerout:mg},tm={2:cg,3:hg,4:dg,5:fg},em="pointerdown",nm="pointermove pointerup pointercancel";Uy.MSPointerEvent&&!Uy.PointerEvent&&(em="MSPointerDown",nm="MSPointerMove MSPointerUp MSPointerCancel");var im=function(t){function e(){var n,i=e.prototype;return i.evEl=em,i.evWin=nm,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return zy(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Zg[i],o=tm[t.pointerType]||t.pointerType,s=o===cg,a=Jg(e,t.pointerId,"pointerId");r&vg&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(gg|mg)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(Qg);function rm(t){return Array.prototype.slice.call(t,0)}function om(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Jg(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var sm={touchstart:vg,touchmove:yg,touchend:gg,touchcancel:mg},am="touchstart touchmove touchend touchcancel",lm=function(t){function e(){var n;return e.prototype.evTarget=am,(n=t.apply(this,arguments)||this).targetIds={},n}return zy(e,t),e.prototype.handler=function(t){var e=sm[t.type],n=um.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:cg,srcEvent:t})},e}(Qg);function um(t,e){var n,i,r=rm(t.touches),o=this.targetIds;if(e&(vg|yg)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=rm(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return Ng(t.target,l)})),e===vg)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(gg|mg)&&delete o[s[n].identifier],n++;return a.length?[om(i.concat(a),"identifier",!0),a]:void 0}var cm={mousedown:vg,mousemove:yg,mouseup:gg},hm="mousedown",dm="mousemove mouseup",fm=function(t){function e(){var n,i=e.prototype;return i.evEl=hm,i.evWin=dm,(n=t.apply(this,arguments)||this).pressed=!1,n}return zy(e,t),e.prototype.handler=function(t){var e=cm[t.type];e&vg&&0===t.button&&(this.pressed=!0),e&yg&&1!==t.which&&(e=gg),this.pressed&&(e&gg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:dg,srcEvent:t}))},e}(Qg),pm=2500,vm=25;function ym(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);var r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,pm)}}function gm(t,e){t&vg?(this.primaryTouch=e.changedPointers[0].identifier,ym.call(this,e)):t&(gg|mg)&&ym.call(this,e)}function mm(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=vm&&s<=vm)return!0}return!1}var bm=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===cg,o=n.pointerType===dg;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)gm.call(Ry(Ry(i)),e,n);else if(o&&mm.call(Ry(Ry(i)),n))return;i.callback(t,e,n)}},i.touch=new lm(i.manager,i.handler),i.mouse=new fm(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return zy(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Qg)}();function wm(t){var e=t.options.inputClass;return new(e||(lg?im:ug?lm:ag?bm:fm))(t,qg)}function _m(t,e,n){return!!Array.isArray(t)&&(Cg(t,n[e],n),!0)}var km=1,xm=2,Sm=4,Em=8,Om=Em,Tm=16,Im=32,Cm=1;function Dm(){return Cm++}function Am(t,e){var n=e.manager;return n?n.get(t):t}function Pm(t){return t&Tm?"cancel":t&Em?"end":t&Sm?"move":t&xm?"start":""}var Mm=function(){function t(t){void 0===t&&(t={}),this.options=jy({enable:!0},t),this.id=Dm(),this.manager=null,this.state=km,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Hy(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(_m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Am(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return _m(t,"dropRecognizeWith",this)||(t=Am(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(_m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Jg(e,t=Am(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(_m(t,"dropRequireFailure",this))return this;t=Am(t,this);var e=Jg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Em&&i(e.options.event+Pm(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Em&&i(e.options.event+Pm(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Im},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Im|km)))return!1;t++}return!0},e.recognize=function(t){var e=Hy({},t);if(!Dg(this.options.enable,[this,e]))return this.reset(),void(this.state=Im);this.state&(Om|Tm|Im)&&(this.state=km),this.state=this.process(e),this.state&(xm|Sm|Em|Tm)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Nm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,jy({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[eg]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&vg&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==gg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||Lg(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=Om,e.tryEmit()}),n.interval),xm):Om}return Im},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Im}),this.options.interval),Im},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===Om&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Mm),Fm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,jy({pointers:1},e))||this}zy(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=e&(xm|Sm),r=this.attrTest(t);return i&&(n&mg||!r)?e|Tm:i||r?n&gg?e|Em:e&xm?e|Sm:xm:Im},e}(Mm);function Bm(t){return t===xg?"down":t===kg?"up":t===wg?"left":t===_g?"right":""}var Lm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,jy({event:"pan",threshold:10,pointers:1,direction:Og},e))||this).pX=null,n.pY=null,n}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&Sg&&e.push(rg),t&Eg&&e.push(ig),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Sg?(r=0===o?bg:o<0?wg:_g,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?bg:s<0?kg:xg,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return Fm.prototype.attrTest.call(this,t)&&(this.state&xm||!(this.state&xm)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Bm(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(Fm),jm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,jy({event:"swipe",threshold:10,velocity:.3,direction:Sg|Eg,pointers:1},e))||this}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){return Lm.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(Sg|Eg)?n=e.overallVelocity:i&Sg?n=e.overallVelocityX:i&Eg&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Yy(n)>this.options.velocity&&e.eventType&gg},n.emit=function(t){var e=Bm(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Fm),zm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,jy({event:"pinch",threshold:0,pointers:2},e))||this}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[ng]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&xm)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(Fm),Rm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,jy({event:"rotate",threshold:0,pointers:2},e))||this}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[ng]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&xm)},e}(Fm),Um=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,jy({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}zy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[tg]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(gg|mg)&&!o)this.reset();else if(t.eventType&vg)this.reset(),this._timer=setTimeout((function(){e.state=Om,e.tryEmit()}),n.time);else if(t.eventType&gg)return Om;return Im},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){this.state===Om&&(t&&t.eventType&gg?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Xy(),this.manager.emit(this.options.event,this._input)))},e}(Mm),Hm={domEvents:!1,touchAction:Zy,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vm=[[Rm,{enable:!1}],[zm,{enable:!1},["rotate"]],[jm,{direction:Sg}],[Lm,{direction:Sg},["swipe"]],[Nm],[Nm,{event:"doubletap",taps:2},["tap"]],[Um]],Wm=1,$m=2;function qm(t,e){var n,i=t.element;i.style&&(Cg(t.options.cssProps,(function(r,o){n=Gy(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function Ym(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var Xm=function(){function t(t,e){var n=this;this.options=Hy({},Hm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=wm(this),this.touchAction=new Mg(this,this.options.touchAction),qm(this,!0),Cg(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Hy(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?$m:Wm},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Om)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],e.stopped===$m||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(xm|Sm|Em)&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof Mm)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(_m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(_m(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=Jg(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Cg(Yg(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Cg(Yg(t),(function(t){e?n[t]&&n[t].splice(Jg(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&Ym(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&qm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Gm={touchstart:vg,touchmove:yg,touchend:gg,touchcancel:mg},Km="touchstart",Qm="touchstart touchmove touchend touchcancel",Jm=function(t){function e(){var n,i=e.prototype;return i.evTarget=Km,i.evWin=Qm,(n=t.apply(this,arguments)||this).started=!1,n}return zy(e,t),e.prototype.handler=function(t){var e=Gm[t.type];if(e===vg&&(this.started=!0),this.started){var n=Zm.call(this,t,e);e&(gg|mg)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:cg,srcEvent:t})}},e}(Qg);function Zm(t,e){var n=rm(t.touches),i=rm(t.changedTouches);return e&(gg|mg)&&(n=om(n.concat(i),"identifier",!0)),[n,i]}function tb(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var eb=tb((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),nb=tb((function(t,e){return eb(t,e,!0)}),"merge","Use `assign`.");function ib(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Hy(i,n)}function rb(t,e){return function(){return t.apply(e,arguments)}}var ob=function(){var t=function(t,e){return void 0===e&&(e={}),new Xm(t,jy({recognizers:Vm.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Og,t.DIRECTION_DOWN=xg,t.DIRECTION_LEFT=wg,t.DIRECTION_RIGHT=_g,t.DIRECTION_UP=kg,t.DIRECTION_HORIZONTAL=Sg,t.DIRECTION_VERTICAL=Eg,t.DIRECTION_NONE=bg,t.DIRECTION_DOWN=xg,t.INPUT_START=vg,t.INPUT_MOVE=yg,t.INPUT_END=gg,t.INPUT_CANCEL=mg,t.STATE_POSSIBLE=km,t.STATE_BEGAN=xm,t.STATE_CHANGED=Sm,t.STATE_ENDED=Em,t.STATE_RECOGNIZED=Om,t.STATE_CANCELLED=Tm,t.STATE_FAILED=Im,t.Manager=Xm,t.Input=Qg,t.TouchAction=Mg,t.TouchInput=lm,t.MouseInput=fm,t.PointerEventInput=im,t.TouchMouseInput=bm,t.SingleTouchInput=Jm,t.Recognizer=Mm,t.AttrRecognizer=Fm,t.Tap=Nm,t.Pan=Lm,t.Swipe=jm,t.Pinch=zm,t.Rotate=Rm,t.Press=Um,t.on=Xg,t.off=Gg,t.each=Cg,t.merge=nb,t.extend=eb,t.bindFn=rb,t.assign=Hy,t.inherit=ib,t.bindFn=rb,t.prefixed=Gy,t.toArray=rm,t.inArray=Jg,t.uniqueArray=om,t.splitStr=Yg,t.boolOrFn=Dg,t.hasParent=Ng,t.addEventListeners=Xg,t.removeEventListeners=Gg,t.defaults=Hy({},Hm,{preset:Vm}),t}();function sb(t,e){var n="undefined"!==typeof Mp&&Mf(t)||t["@@iterator"];if(!n){if(Yp(t)||(n=ab(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ab(t,e){var n;if(t){if("string"===typeof t)return lb(t,e);var i=zp(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Df(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?lb(t,e):void 0}}function lb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ub=Mp("DELETE");function cb(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return hb.apply(void 0,jp(e=[{},t]).call(e,i))}function hb(){var t=db.apply(void 0,arguments);return pb(t),t}function db(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return db.apply(void 0,jp(i=[hb(e[0],e[1])]).call(i,Pp(zp(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=sb(qp(o));try{for(a.s();!(s=a.n()).done;){var l=s.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===ub?delete r[l]:null===r[l]||null===o[l]||"object"!==typeof r[l]||"object"!==typeof o[l]||Yp(r[l])||Yp(o[l])?r[l]=fb(o[l]):r[l]=db(r[l],o[l]))}}catch(u){a.e(u)}finally{a.f()}return r}function fb(t){return Yp(t)?bd(t).call(t,(function(t){return fb(t)})):"object"===typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):db({},t):t}function pb(t){for(var e=0,n=Jp(t);e<n.length;e++){var i=n[e];t[i]===ub?delete t[i]:"object"===typeof t[i]&&null!==t[i]&&pb(t[i])}}function vb(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}var yb="undefined"!==typeof window?window.Hammer||ob:function(){return vb()};function gb(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=yb(this._dom.overlay);i.on("tap",Lh(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];uv(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){mb(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}function mb(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Ly(gb.prototype),gb.current=null,gb.prototype.destroy=function(){var t,e;this.deactivate();var n,i=sb(bv(t=Rv(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}},gb.prototype.activate=function(){gb.current&&gb.current.deactivate(),gb.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},gb.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},gb.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var bb=zi,wb=Mt,_b=TypeError,kb=function(t){if(bb(t))return t;throw new _b(wb(t)+" is not a constructor")},xb=zn,Sb=p,Eb=Th,Ob=kb,Tb=fn,Ib=st,Cb=co,Db=l,Ab=dt("Reflect","construct"),Pb=Object.prototype,Mb=[].push,Nb=Db((function(){function t(){}return!(Ab((function(){}),[],t)instanceof t)})),Fb=!Db((function(){Ab((function(){}))})),Bb=Nb||Fb;xb({target:"Reflect",stat:!0,forced:Bb,sham:Bb},{construct:function(t,e){Ob(t),Tb(e);var n=arguments.length<3?t:Ob(arguments[2]);if(Fb&&!Nb)return Ab(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return Sb(Mb,i,e),new(Sb(Eb,t,i))}var r=n.prototype,o=Cb(Ib(r)?r:Pb),s=Sb(t,o,e);return Ib(s)?s:o}});var Lb=r(at.Reflect.construct),jb=r(at.Object.getOwnPropertySymbols),zb={exports:{}},Rb=zn,Ub=l,Hb=nt,Vb=M.f,Wb=N,$b=!Wb||Ub((function(){Vb(1)}));Rb({target:"Object",stat:!0,forced:$b,sham:!Wb},{getOwnPropertyDescriptor:function(t,e){return Vb(Hb(t),e)}});var qb=at.Object,Yb=zb.exports=function(t,e){return qb.getOwnPropertyDescriptor(t,e)};qb.getOwnPropertyDescriptor.sham&&(Yb.sham=!0);var Xb=r(zb.exports),Gb=$p,Kb=nt,Qb=M,Jb=ci;zn({target:"Object",stat:!0,sham:!N},{getOwnPropertyDescriptors:function(t){for(var e,n,i=Kb(t),r=Qb.f,o=Gb(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&Jb(s,e,n);return s}});var Zb=r(at.Object.getOwnPropertyDescriptors),tw={exports:{}},ew=zn,nw=N,iw=vr.f;ew({target:"Object",stat:!0,forced:Object.defineProperties!==iw,sham:!nw},{defineProperties:iw});var rw=at.Object,ow=tw.exports=function(t,e){return rw.defineProperties(t,e)};rw.defineProperties.sham&&(ow.sham=!0);var sw=r(tw.exports),aw=r($n);function lw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var uw=uy,cw=r(uw);zn({target:"Object",stat:!0},{setPrototypeOf:Mu});var hw=at.Object.setPrototypeOf,dw=r(hw),fw=r(Bh);function pw(t,e){var n;return pw=dw?fw(n=dw).call(n):function(t,e){return t.__proto__=e,t},pw(t,e)}function vw(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=cw(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Yn(t,"prototype",{writable:!1}),e&&pw(t,e)}function yw(t,e){if(e&&("object"===uh(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lw(t)}var gw=ay,mw=r(gw);function bw(t){var e;return bw=dw?fw(e=mw).call(e):function(t){return t.__proto__||mw(t)},bw(t)}var ww={exports:{}},_w={exports:{}};!function(t){var e=Hc,n=ah;function i(r){return t.exports=i="function"==typeof e&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(_w);var kw=_w.exports,xw=lv,Sw=se,Ew=$p,Ow=M,Tw=an,Iw=function(t,e,n){for(var i=Ew(e),r=Tw.f,o=Ow.f,s=0;s<i.length;s++){var a=i[s];Sw(t,a)||n&&Sw(n,a)||r(t,a,o(e,a))}},Cw=st,Dw=Tn,Aw=function(t,e){Cw(e)&&"cause"in e&&Dw(t,"cause",e.cause)},Pw=Error,Mw=b("".replace),Nw=String(new Pw("zxcasd").stack),Fw=/\n\s*at [^:]*:[^\n]*/,Bw=Fw.test(Nw),Lw=function(t,e){if(Bw&&"string"==typeof t&&!Pw.prepareStackTrace)for(;e--;)t=Mw(t,Fw,"");return t},jw=W,zw=!l((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",jw(1,7)),7!==t.stack)})),Rw=Tn,Uw=Lw,Hw=zw,Vw=Error.captureStackTrace,Ww=function(t,e,n,i){Hw&&(Vw?Vw(t,e):Rw(t,"stack",Uw(n,i)))},$w=sn,qw=L,Yw=fn,Xw=Mt,Gw=Xd,Kw=ii,Qw=ft,Jw=lf,Zw=tf,t_=Ud,e_=TypeError,n_=function(t,e){this.stopped=t,this.result=e},i_=n_.prototype,r_=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=$w(e,c),y=function(t){return i&&t_(i,"normal",t),new n_(!0,t)},g=function(t){return h?(Yw(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)i=t.iterator;else if(f)i=t;else{if(!(r=Zw(t)))throw new e_(Xw(t)+" is not iterable");if(Gw(r)){for(o=0,s=Kw(t);s>o;o++)if((a=g(t[o]))&&Qw(i_,a))return a;return new n_(!1)}i=Jw(t,r)}for(l=d?t.next:i.next;!(u=qw(l,i)).done;){try{a=g(u.value)}catch(CI){t_(i,"throw",CI)}if("object"==typeof a&&a&&Qw(i_,a))return a}return new n_(!1)},o_=pr,s_=function(t,e){return void 0===t?arguments.length<2?"":e:o_(t)},a_=zn,l_=ft,u_=lu,c_=Mu,h_=Iw,d_=co,f_=Tn,p_=W,v_=Aw,y_=Ww,g_=r_,m_=s_,b_=we("toStringTag"),w_=Error,__=[].push,k_=function(t,e){var n,i=l_(x_,this);c_?n=c_(new w_,i?u_(this):x_):(n=i?this:d_(x_),f_(n,b_,"Error")),void 0!==e&&f_(n,"message",m_(e)),y_(n,k_,n.stack,1),arguments.length>2&&v_(n,arguments[2]);var r=[];return g_(t,__,{that:r}),f_(n,"errors",r),n};c_?c_(k_,w_):h_(k_,w_,{name:!0});var x_=k_.prototype=d_(w_.prototype,{constructor:p_(1,k_),message:p_(1,""),name:p_(1,"AggregateError")});a_({global:!0,constructor:!0,arity:2},{AggregateError:k_});var S_,E_,O_,T_,I_=dt,C_=Po,D_=N,A_=we("species"),P_=function(t){var e=I_(t);D_&&e&&!e[A_]&&C_(e,A_,{configurable:!0,get:function(){return this}})},M_=ft,N_=TypeError,F_=function(t,e){if(M_(e,t))return t;throw new N_("Incorrect invocation")},B_=fn,L_=kb,j_=K,z_=we("species"),R_=function(t,e){var n,i=B_(t).constructor;return void 0===i||j_(n=B_(i)[z_])?e:L_(n)},U_=/(?:ipad|iphone|ipod).*applewebkit/i.test(pt),H_=a,V_=p,W_=sn,$_=P,q_=se,Y_=l,X_=Wr,G_=nl,K_=Ne,Q_=gy,J_=U_,Z_=Yh,tk=H_.setImmediate,ek=H_.clearImmediate,nk=H_.process,ik=H_.Dispatch,rk=H_.Function,ok=H_.MessageChannel,sk=H_.String,ak=0,lk={},uk="onreadystatechange";Y_((function(){S_=H_.location}));var ck=function(t){if(q_(lk,t)){var e=lk[t];delete lk[t],e()}},hk=function(t){return function(){ck(t)}},dk=function(t){ck(t.data)},fk=function(t){H_.postMessage(sk(t),S_.protocol+"//"+S_.host)};tk&&ek||(tk=function(t){Q_(arguments.length,1);var e=$_(t)?t:rk(t),n=G_(arguments,1);return lk[++ak]=function(){V_(e,void 0,n)},E_(ak),ak},ek=function(t){delete lk[t]},Z_?E_=function(t){nk.nextTick(hk(t))}:ik&&ik.now?E_=function(t){ik.now(hk(t))}:ok&&!J_?(T_=(O_=new ok).port2,O_.port1.onmessage=dk,E_=W_(T_.postMessage,T_)):H_.addEventListener&&$_(H_.postMessage)&&!H_.importScripts&&S_&&"file:"!==S_.protocol&&!Y_(fk)?(E_=fk,H_.addEventListener("message",dk,!1)):E_=uk in K_("script")?function(t){X_.appendChild(K_("script"))[uk]=function(){X_.removeChild(this),ck(t)}}:function(t){setTimeout(hk(t),0)});var pk={set:tk,clear:ek},vk=function(){this.head=null,this.tail=null};vk.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var yk,gk,mk,bk,wk,_k=vk,kk=/ipad|iphone|ipod/i.test(pt)&&"undefined"!=typeof Pebble,xk=/web0s(?!.*chrome)/i.test(pt),Sk=a,Ek=sn,Ok=M.f,Tk=pk.set,Ik=_k,Ck=U_,Dk=kk,Ak=xk,Pk=Yh,Mk=Sk.MutationObserver||Sk.WebKitMutationObserver,Nk=Sk.document,Fk=Sk.process,Bk=Sk.Promise,Lk=Ok(Sk,"queueMicrotask"),jk=Lk&&Lk.value;if(!jk){var zk=new Ik,Rk=function(){var t,e;for(Pk&&(t=Fk.domain)&&t.exit();e=zk.get();)try{e()}catch(CI){throw zk.head&&yk(),CI}t&&t.enter()};Ck||Pk||Ak||!Mk||!Nk?!Dk&&Bk&&Bk.resolve?((bk=Bk.resolve(void 0)).constructor=Bk,wk=Ek(bk.then,bk),yk=function(){wk(Rk)}):Pk?yk=function(){Fk.nextTick(Rk)}:(Tk=Ek(Tk,Sk),yk=function(){Tk(Rk)}):(gk=!0,mk=Nk.createTextNode(""),new Mk(Rk).observe(mk,{characterData:!0}),yk=function(){mk.data=gk=!gk}),jk=function(t){zk.head||yk(),zk.add(t)}}var Uk=jk,Hk=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(CI){}},Vk=function(t){try{return{error:!1,value:t()}}catch(CI){return{error:!0,value:CI}}},Wk=a.Promise,$k="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,qk=Yh,Yk=!$k&&!qk&&"object"==typeof window&&"object"==typeof document,Xk=a,Gk=Wk,Kk=P,Qk=en,Jk=Ei,Zk=we,tx=Yk,ex=$k,nx=_t,ix=Gk&&Gk.prototype,rx=Zk("species"),ox=!1,sx=Kk(Xk.PromiseRejectionEvent),ax={CONSTRUCTOR:Qk("Promise",(function(){var t=Jk(Gk),e=t!==String(Gk);if(!e&&66===nx)return!0;if(!ix.catch||!ix.finally)return!0;if(!nx||nx<51||!/native code/.test(t)){var n=new Gk((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[rx]=i,!(ox=n.then((function(){}))instanceof i))return!0}return!e&&(tx||ex)&&!sx})),REJECTION_EVENT:sx,SUBCLASSING:ox},lx={},ux=Lt,cx=TypeError,hx=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new cx("Bad Promise constructor");e=t,n=i})),this.resolve=ux(e),this.reject=ux(n)};lx.f=function(t){return new hx(t)};var dx=zn,fx=Yh,px=a,vx=L,yx=Do,gx=ns,mx=P_,bx=Lt,wx=P,_x=st,kx=F_,xx=R_,Sx=pk.set,Ex=Uk,Ox=Hk,Tx=Vk,Ix=_k,Cx=ws,Dx=Wk,Ax=ax,Px=lx,Mx="Promise",Nx=Ax.CONSTRUCTOR,Fx=Ax.REJECTION_EVENT;Ax.SUBCLASSING;var Bx,Lx,jx,zx=Cx.getterFor(Mx),Rx=Cx.set,Ux=Dx&&Dx.prototype,Hx=Dx,Vx=Ux,Wx=px.TypeError,$x=px.document,qx=px.process,Yx=Px.f,Xx=Yx,Gx=!!($x&&$x.createEvent&&px.dispatchEvent),Kx="unhandledrejection",Qx="rejectionhandled",Jx=0,Zx=1,tS=2,eS=1,nS=2,iS=function(t){var e;return!(!_x(t)||!wx(e=t.then))&&e},rS=function(t,e){var n,i,r,o=e.value,s=e.state===Zx,a=s?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{a?(s||(e.rejection===nS&&uS(e),e.rejection=eS),!0===a?n=o:(c&&c.enter(),n=a(o),c&&(c.exit(),r=!0)),n===t.promise?u(new Wx("Promise-chain cycle")):(i=iS(n))?vx(i,n,l,u):l(n)):u(o)}catch(CI){c&&!r&&c.exit(),u(CI)}},oS=function(t,e){t.notified||(t.notified=!0,Ex((function(){for(var n,i=t.reactions;n=i.get();)rS(n,t);t.notified=!1,e&&!t.rejection&&aS(t)})))},sS=function(t,e,n){var i,r;Gx?((i=$x.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),px.dispatchEvent(i)):i={promise:e,reason:n},!Fx&&(r=px["on"+t])?r(i):t===Kx&&Ox("Unhandled promise rejection",n)},aS=function(t){vx(Sx,px,(function(){var e,n=t.facade,i=t.value;if(lS(t)&&(e=Tx((function(){fx?qx.emit("unhandledRejection",i,n):sS(Kx,n,i)})),t.rejection=fx||lS(t)?nS:eS,e.error))throw e.value}))},lS=function(t){return t.rejection!==eS&&!t.parent},uS=function(t){vx(Sx,px,(function(){var e=t.facade;fx?qx.emit("rejectionHandled",e):sS(Qx,e,t.value)}))},cS=function(t,e,n){return function(i){t(e,i,n)}},hS=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=tS,oS(t,!0))},dS=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new Wx("Promise can't be resolved itself");var i=iS(e);i?Ex((function(){var n={done:!1};try{vx(i,e,cS(dS,n,t),cS(hS,n,t))}catch(CI){hS(n,CI,t)}})):(t.value=e,t.state=Zx,oS(t,!1))}catch(CI){hS({done:!1},CI,t)}}};Nx&&(Vx=(Hx=function(t){kx(this,Vx),bx(t),vx(Bx,this);var e=zx(this);try{t(cS(dS,e),cS(hS,e))}catch(CI){hS(e,CI)}}).prototype,(Bx=function(t){Rx(this,{type:Mx,done:!1,notified:!1,parent:!1,reactions:new Ix,rejection:!1,state:Jx,value:void 0})}).prototype=yx(Vx,"then",(function(t,e){var n=zx(this),i=Yx(xx(this,Hx));return n.parent=!0,i.ok=!wx(t)||t,i.fail=wx(e)&&e,i.domain=fx?qx.domain:void 0,n.state===Jx?n.reactions.add(i):Ex((function(){rS(i,n)})),i.promise})),Lx=function(){var t=new Bx,e=zx(t);this.promise=t,this.resolve=cS(dS,e),this.reject=cS(hS,e)},Px.f=Yx=function(t){return t===Hx||t===jx?new Lx(t):Xx(t)}),dx({global:!0,constructor:!0,wrap:!0,forced:Nx},{Promise:Hx}),gx(Hx,Mx,!1,!0),mx(Mx);var fS=Wk,pS=Ef,vS=ax.CONSTRUCTOR||!pS((function(t){fS.all(t).then(void 0,(function(){}))})),yS=L,gS=Lt,mS=lx,bS=Vk,wS=r_;zn({target:"Promise",stat:!0,forced:vS},{all:function(t){var e=this,n=mS.f(e),i=n.resolve,r=n.reject,o=bS((function(){var n=gS(e.resolve),o=[],s=0,a=1;wS(t,(function(t){var l=s++,u=!1;a++,yS(n,e,t).then((function(t){u||(u=!0,o[l]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var _S=zn,kS=ax.CONSTRUCTOR,xS=Wk;xS&&xS.prototype,_S({target:"Promise",proto:!0,forced:kS,real:!0},{catch:function(t){return this.then(void 0,t)}});var SS=L,ES=Lt,OS=lx,TS=Vk,IS=r_;zn({target:"Promise",stat:!0,forced:vS},{race:function(t){var e=this,n=OS.f(e),i=n.reject,r=TS((function(){var r=ES(e.resolve);IS(t,(function(t){SS(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var CS=zn,DS=L,AS=lx,PS=ax.CONSTRUCTOR;CS({target:"Promise",stat:!0,forced:PS},{reject:function(t){var e=AS.f(this);return DS(e.reject,void 0,t),e.promise}});var MS=fn,NS=st,FS=lx,BS=function(t,e){if(MS(t),NS(e)&&e.constructor===t)return e;var n=FS.f(t);return(0,n.resolve)(e),n.promise},LS=zn,jS=dt,zS=Yt,RS=Wk,US=ax.CONSTRUCTOR,HS=BS,VS=jS("Promise"),WS=!US;LS({target:"Promise",stat:!0,forced:zS},{resolve:function(t){return HS(WS&&this===VS?RS:this,t)}});var $S=L,qS=Lt,YS=lx,XS=Vk,GS=r_;zn({target:"Promise",stat:!0,forced:vS},{allSettled:function(t){var e=this,n=YS.f(e),i=n.resolve,r=n.reject,o=XS((function(){var n=qS(e.resolve),r=[],o=0,s=1;GS(t,(function(t){var a=o++,l=!1;s++,$S(n,e,t).then((function(t){l||(l=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){l||(l=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var KS=L,QS=Lt,JS=dt,ZS=lx,tE=Vk,eE=r_,nE="No one promise resolved";zn({target:"Promise",stat:!0,forced:vS},{any:function(t){var e=this,n=JS("AggregateError"),i=ZS.f(e),r=i.resolve,o=i.reject,s=tE((function(){var i=QS(e.resolve),s=[],a=0,l=1,u=!1;eE(t,(function(t){var c=a++,h=!1;l++,KS(i,e,t).then((function(t){h||u||(u=!0,r(t))}),(function(t){h||u||(h=!0,s[c]=t,--l||o(new n(s,nE)))}))})),--l||o(new n(s,nE))}));return s.error&&o(s.value),i.promise}});var iE=zn,rE=Wk,oE=l,sE=dt,aE=P,lE=R_,uE=BS,cE=rE&&rE.prototype,hE=!!rE&&oE((function(){cE.finally.call({then:function(){}},(function(){}))}));iE({target:"Promise",proto:!0,real:!0,forced:hE},{finally:function(t){var e=lE(this,sE("Promise")),n=aE(t);return this.then(n?function(n){return uE(e,t()).then((function(){return n}))}:t,n?function(n){return uE(e,t()).then((function(){throw n}))}:t)}});var dE=at.Promise,fE=lx;zn({target:"Promise",stat:!0},{withResolvers:function(){var t=fE.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var pE=dE,vE=lx,yE=Vk;zn({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=vE.f(this),n=yE(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var gE=pE,mE=mv;!function(t){var e=kw.default,n=qn,i=Hc,r=uw,o=gw,s=xw,a=tp,l=hw,u=gE,c=mE,h=kp;function d(){t.exports=d=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},v=Object.prototype,y=v.hasOwnProperty,g=n||function(t,e,n){t[e]=n.value},m="function"==typeof i?i:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",_=m.toStringTag||"@@toStringTag";function k(t,e,i){return n(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{k({},"")}catch(f){k=function(t,e,n){return t[e]=n}}function x(t,e,n,i){var o=e&&e.prototype instanceof D?e:D,s=r(o.prototype),a=new H(i||[]);return g(s,"_invoke",{value:j(t,n,a)}),s}function S(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}p.wrap=x;var E="suspendedStart",O="suspendedYield",T="executing",I="completed",C={};function D(){}function A(){}function P(){}var M={};k(M,b,(function(){return this}));var N=o&&o(o(V([])));N&&N!==v&&y.call(N,b)&&(M=N);var F=P.prototype=D.prototype=r(M);function B(t){var e;s(e=["next","throw","return"]).call(e,(function(e){k(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,n){function i(r,o,s,a){var l=S(t[r],t,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==e(c)&&y.call(c,"__await")?n.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):n.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var r;g(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,r){i(t,e,n,r)}))}return r=r?r.then(o,o):o()}})}function j(t,e,n){var i=E;return function(r,o){if(i===T)throw new Error("Generator is already running");if(i===I){if("throw"===r)throw o;return{value:f,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=z(s,n);if(a){if(a===C)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=T;var l=S(t,e,n);if("normal"===l.type){if(i=n.done?I:O,l.arg===C)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=I,n.method="throw",n.arg=l.arg)}}}function z(t,e){var n=e.method,i=t.iterator[n];if(i===f)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=f,z(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),C;var r=S(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,C;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,C):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function R(t){var e,n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),a(e=this.tryEntries).call(e,n)}function U(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function H(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,R,this),this.reset(!0)}function V(t){if(t||""===t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(y.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=f,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return A.prototype=P,g(F,"constructor",{value:P,configurable:!0}),g(P,"constructor",{value:A,configurable:!0}),A.displayName=k(P,_,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return l?l(t,P):(t.__proto__=P,k(t,_,"GeneratorFunction")),t.prototype=r(F),t},p.awrap=function(t){return{__await:t}},B(L.prototype),k(L.prototype,w,(function(){return this})),p.AsyncIterator=L,p.async=function(t,e,n,i,r){void 0===r&&(r=u);var o=new L(x(t,e,n,i),r);return p.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},B(F),k(F,_,"Generator"),k(F,b,(function(){return this})),k(F,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=Object(t),n=[];for(var i in e)a(n).call(n,i);return c(n).call(n),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},p.values=V,H.prototype={constructor:H,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(e=this.tryEntries).call(e,U),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+h(n).call(n,1))&&(this[n]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=f),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),U(n),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;U(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:V(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=f),C}},p}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}(ww);var bE=(0,ww.exports)(),wE=bE;try{regeneratorRuntime=bE}catch(DI){"object"===typeof globalThis?globalThis.regeneratorRuntime=bE:Function("r","regeneratorRuntime = r")(bE)}var _E=r(wE),kE={exports:{}},xE=l((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),SE=l,EE=st,OE=x,TE=xE,IE=Object.isExtensible,CE=SE((function(){IE(1)}))||TE?function(t){return!!EE(t)&&(!TE||"ArrayBuffer"!==OE(t))&&(!IE||IE(t))}:IE,DE=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),AE=zn,PE=b,ME=Er,NE=st,FE=se,BE=an.f,LE=ho,jE=vo,zE=CE,RE=DE,UE=!1,HE=he("meta"),VE=0,WE=function(t){BE(t,HE,{value:{objectID:"O"+VE++,weakData:{}}})},$E=function(t,e){if(!NE(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!FE(t,HE)){if(!zE(t))return"F";if(!e)return"E";WE(t)}return t[HE].objectID},qE=function(t,e){if(!FE(t,HE)){if(!zE(t))return!0;if(!e)return!1;WE(t)}return t[HE].weakData},YE=function(t){return RE&&UE&&zE(t)&&!FE(t,HE)&&WE(t),t},XE=function(){GE.enable=function(){},UE=!0;var t=LE.f,e=PE([].splice),n={};n[HE]=1,t(n).length&&(LE.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===HE){e(i,r,1);break}return i},AE({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:jE.f}))},GE=kE.exports={enable:XE,fastKey:$E,getWeakData:qE,onFreeze:YE};ME[HE]=!0;var KE=kE.exports,QE=zn,JE=a,ZE=KE,tO=l,eO=Tn,nO=r_,iO=F_,rO=P,oO=st,sO=K,aO=ns,lO=an.f,uO=Is.forEach,cO=N,hO=ws,dO=hO.set,fO=hO.getterFor,pO=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=JE[t],l=a&&a.prototype,u={};if(cO&&rO(a)&&(o||l.forEach&&!tO((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){dO(iO(e,c),{type:t,collection:new a}),sO(n)||nO(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=fO(t);uO(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in l)||o&&"clear"===t||eO(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!oO(n))return"get"===t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||lO(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),ZE.enable();return aO(i,t,!1,!0),u[t]=i,QE({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},vO=Do,yO=co,gO=Po,mO=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:vO(t,i,e[i],n);return t},bO=sn,wO=F_,_O=K,kO=r_,xO=Qu,SO=Ju,EO=P_,OO=N,TO=KE.fastKey,IO=ws,CO=IO.set,DO=IO.getterFor,AO={getConstructor:function(t,e,n,i){var r=t((function(t,r){wO(t,o),CO(t,{type:e,index:yO(null),first:void 0,last:void 0,size:0}),OO||(t.size=0),_O(r)||kO(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=DO(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=TO(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),OO?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=TO(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===e)return n};return mO(o,{clear:function(){for(var t=this,e=s(t),n=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,OO?e.size=0:t.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),OO?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=bO(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),mO(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),OO&&gO(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=DO(e),o=DO(i);xO(t,e,(function(t,e){CO(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?SO("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,SO(void 0,!0))}),n?"entries":"values",!n,!0),EO(e)}};pO("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),AO);var PO=r(at.Map),MO=zn,NO=Is.some,FO=qh("some");MO({target:"Array",proto:!0,forced:!FO},{some:function(t){return NO(this,t,arguments.length>1?arguments[1]:void 0)}});var BO=Ah("Array","some"),LO=ft,jO=BO,zO=Array.prototype,RO=r((function(t){var e=t.some;return t===zO||LO(zO,t)&&e===zO.some?jO:e})),UO=Ah("Array","keys"),HO=_i,VO=se,WO=ft,$O=UO,qO=Array.prototype,YO={DOMTokenList:!0,NodeList:!0},XO=r((function(t){var e=t.keys;return t===qO||WO(qO,t)&&e===qO.keys||VO(YO,HO(t))?$O:e})),GO=_o,KO=Math.floor,QO=function(t,e){var n=t.length,i=KO(n/2);return n<8?JO(t,e):ZO(t,QO(GO(t,0,i),e),QO(GO(t,i),e),e)},JO=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},ZO=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},tT=QO,eT=pt.match(/firefox\/(\d+)/i),nT=!!eT&&+eT[1],iT=/MSIE|Trident/.test(pt),rT=pt.match(/AppleWebKit\/(\d+)\./),oT=!!rT&&+rT[1],sT=zn,aT=b,lT=Lt,uT=ie,cT=ii,hT=kv,dT=pr,fT=l,pT=tT,vT=qh,yT=nT,gT=iT,mT=_t,bT=oT,wT=[],_T=aT(wT.sort),kT=aT(wT.push),xT=fT((function(){wT.sort(void 0)})),ST=fT((function(){wT.sort(null)})),ET=vT("sort"),OT=!fT((function(){if(mT)return mT<70;if(!(yT&&yT>3)){if(gT)return!0;if(bT)return bT<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)wT.push({k:e+i,v:n})}for(wT.sort((function(t,e){return e.v-t.v})),i=0;i<wT.length;i++)e=wT[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),TT=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:dT(e)>dT(n)?1:-1}};sT({target:"Array",proto:!0,forced:xT||!ST||!ET||!OT},{sort:function(t){void 0!==t&&lT(t);var e=uT(this);if(OT)return void 0===t?_T(e):_T(e,t);var n,i,r=[],o=cT(e);for(i=0;i<o;i++)i in e&&kT(r,e[i]);for(pT(r,TT(t)),n=cT(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)hT(e,i++);return e}});var IT=Ah("Array","sort"),CT=ft,DT=IT,AT=Array.prototype,PT=r((function(t){var e=t.sort;return t===AT||CT(AT,t)&&e===AT.sort?DT:e})),MT=Ah("Array","values"),NT=_i,FT=se,BT=ft,LT=MT,jT=Array.prototype,zT={DOMTokenList:!0,NodeList:!0},RT=r((function(t){var e=t.values;return t===jT||BT(jT,t)&&e===jT.values||FT(zT,NT(t))?LT:e})),UT=r(sh),HT=Ah("Array","entries"),VT=_i,WT=se,$T=ft,qT=HT,YT=Array.prototype,XT={DOMTokenList:!0,NodeList:!0},GT=r((function(t){var e=t.entries;return t===YT||$T(YT,t)&&e===YT.entries||WT(XT,VT(t))?qT:e}));let KT;const QT=new Uint8Array(16);function JT(){if(!KT&&(KT="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!KT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return KT(QT)}const ZT=[];for(let n=0;n<256;++n)ZT.push((n+256).toString(16).slice(1));function tI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ZT[t[e+0]]+ZT[t[e+1]]+ZT[t[e+2]]+ZT[t[e+3]]+"-"+ZT[t[e+4]]+ZT[t[e+5]]+"-"+ZT[t[e+6]]+ZT[t[e+7]]+"-"+ZT[t[e+8]]+ZT[t[e+9]]+"-"+ZT[t[e+10]]+ZT[t[e+11]]+ZT[t[e+12]]+ZT[t[e+13]]+ZT[t[e+14]]+ZT[t[e+15]]}var eI={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function nI(t,e,n){if(eI.randomUUID&&!e&&!t)return eI.randomUUID();const i=(t=t||{}).random||(t.rng||JT)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return tI(i)}function iI(t){return"string"===typeof t||"number"===typeof t}var rI=function(){function t(n){e(this,t),vh(this,"_queue",[]),vh(this,"_timeout",null),vh(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(n)}return ph(t,[{key:"setOptions",value:function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"===typeof this.delay&&(this._timeout=Ny((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;uv(t=Rv(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),oI=function(){function t(){e(this,t),vh(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),vh(this,"subscribe",t.prototype.on),vh(this,"unsubscribe",t.prototype.off)}return ph(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");uv(i=jp(r=[]).call(r,Pp(this._subscribers[t]),Pp(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"===typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=hd(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();pO("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),AO);var sI=r(at.Set),aI=r(lf);function lI(t,e){var n="undefined"!==typeof Mp&&Mf(t)||t["@@iterator"];if(!n){if(Yp(t)||(n=uI(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function uI(t,e){var n;if(t){if("string"===typeof t)return cI(t,e);var i=zp(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Df(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?cI(t,e):void 0}}function cI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var hI=function(t){function n(t){e(this,n),this._pairs=t}return ph(n,[{key:t,value:_E.mark((function t(){var e,n,i,r,o;return _E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lI(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Ip(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:_E.mark((function t(){var e,n,i,r,o;return _E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lI(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Ip(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:_E.mark((function t(){var e,n,i,r;return _E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lI(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Ip(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:_E.mark((function t(){var e,n,i,r;return _E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=lI(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Ip(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return bd(t=Pp(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return bd(t=Pp(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Pp(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=cy(null),n=lI(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=Ip(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"toMap",value:function(){return new PO(this._pairs)}},{key:"toIdSet",value:function(){return new sI(this.toIdArray())}},{key:"toItemSet",value:function(){return new sI(this.toItemArray())}},{key:"cache",value:function(){return new n(Pp(this._pairs))}},{key:"distinct",value:function(t){var e,n=new sI,i=lI(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=Ip(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"filter",value:function(t){var e=this._pairs;return new n({[UT]:()=>_E.mark((function n(){var i,r,o,s,a;return _E.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=lI(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=10;break}if(o=Ip(r.value,2),s=o[0],a=o[1],!t(a,s)){n.next=8;break}return n.next=8,[s,a];case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,n=lI(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=Ip(e.value,2),r=i[0];t(i[1],r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"map",value:function(t){var e=this._pairs;return new n({[UT]:()=>_E.mark((function n(){var i,r,o,s,a;return _E.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=lI(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=9;break}return o=Ip(r.value,2),s=o[0],a=o[1],n.next=7,[s,t(a,s)];case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i.e(n.t0);case 14:return n.prev=14,i.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=aI(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Ip(n.value,2),s=o[0],a=o[1],l=t(a,s);l>r&&(r=l,i=a)}return i}},{key:"min",value:function(t){var e=aI(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Ip(n.value,2),s=o[0],a=o[1],l=t(a,s);l<r&&(r=l,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=lI(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=Ip(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"sort",value:function(t){var e=this;return new n({[UT]:function(){var n;return aI(PT(n=Pp(e._pairs)).call(n,(function(e,n){var i=Ip(e,2),r=i[0],o=i[1],s=Ip(n,2),a=s[0],l=s[1];return t(o,l,r,a)})))}})}}]),n}(UT);function dI(t,e){var n=Jp(t);if(jb){var i=jb(t);e&&(i=hd(i).call(i,(function(e){return Xb(t,e).enumerable}))),n.push.apply(n,i)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?uv(n=dI(Object(r),!0)).call(n,(function(e){vh(t,e,r[e])})):Zb?sw(t,Zb(r)):uv(i=dI(Object(r))).call(i,(function(e){aw(t,e,Xb(r,e))}))}return t}function pI(t,e){var n="undefined"!==typeof Mp&&Mf(t)||t["@@iterator"];if(!n){if(Yp(t)||(n=vI(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function vI(t,e){var n;if(t){if("string"===typeof t)return yI(t,e);var i=zp(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Df(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?yI(t,e):void 0}}function yI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function gI(t){var e=mI();return function(){var n,i=bw(t);if(e){var r=bw(this).constructor;n=Lb(i,arguments,r)}else n=i.apply(this,arguments);return yw(this,n)}}function mI(){if("undefined"===typeof Reflect||!Lb)return!1;if(Lb.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Lb(Boolean,[],(function(){}))),!0}catch(t){return!1}}function bI(t,e){return null==t[e]&&(t[e]=nI()),t}var wI=function(t){vw(i,t);var n=gI(i);function i(t,r){var o;return e(this,i),vh(lw(o=n.call(this)),"_queue",null),t&&!Yp(t)&&(r=t,t=[]),o._options=r||{},o._data=new PO,o.length=0,o._idProp=o._options.fieldId||"id",t&&t.length&&o.add(t),o.setOptions(r),o}return ph(i,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=rI.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(Yp(t)){var o=bd(t).call(t,(function(t){return t[i._idProp]}));if(RO(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var l=t,u=ey({},n._data.get(e)),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(t);i.push(h)}};if(Yp(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===typeof t[u]?l(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");l(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var h={items:r,oldData:o,data:s};this._trigger("update",h,e)}return jp(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;Yp(t)||(t=[t]);var r=bd(n=bd(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=cb(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:bd(r).call(r,(function(t){return t.id})),oldData:bd(r).call(r,(function(t){return t.oldData})),data:bd(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;iI(t)?(n=t,r=e):Yp(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&hd(r),l=[],u=void 0,c=void 0,h=void 0;if(null!=n)(u=this._data.get(n))&&a&&!a(u)&&(u=void 0);else if(null!=i)for(var d=0,f=i.length;d<f;d++)null==(u=this._data.get(i[d]))||a&&!a(u)||l.push(u);else for(var p,v=0,y=(c=Pp(XO(p=this._data).call(p))).length;v<y;v++)h=c[v],null==(u=this._data.get(h))||a&&!a(u)||l.push(u);if(r&&r.order&&void 0==n&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(void 0!=n&&null!=u)u=this._filterFields(u,g);else for(var m=0,b=l.length;m<b;m++)l[m]=this._filterFields(l[m],g)}if("Object"==s){for(var w={},_=0,k=l.length;_<k;_++){var x=l[_];w[x[this._idProp]]=x}return w}return null!=n?null!==(o=u)&&void 0!==o?o:null:l}},{key:"getIds",value:function(t){var e=this._data,n=t&&hd(t),i=t&&t.order,r=Pp(XO(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,l=r.length;a<l;a++){var u=r[a],c=this._data.get(u);null!=c&&n(c)&&s.push(c)}this._sort(s,i);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var f=0,p=r.length;f<p;f++){var v=r[f],y=this._data.get(v);null!=y&&n(y)&&o.push(y[this._idProp])}else if(i){for(var g=[],m=0,b=r.length;m<b;m++){var w=r[m];g.push(e.get(w))}this._sort(g,i);for(var _=0,k=g.length;_<k;_++)o.push(g[_][this._idProp])}else for(var x=0,S=r.length;x<S;x++){var E=r[x],O=e.get(E);null!=O&&o.push(O[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&hd(e),i=this._data,r=Pp(XO(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var l=o[s];t(l,l[this._idProp])}else for(var u=0,c=r.length;u<c;u++){var h=r[u],d=this._data.get(h);null==d||n&&!n(d)||t(d,h)}}},{key:"map",value:function(t,e){for(var n=e&&hd(e),i=[],r=this._data,o=Pp(XO(r).call(r)),s=0,a=o.length;s<a;s++){var l=o[s],u=this._data.get(l);null==u||n&&!n(u)||i.push(t(u,l))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?id(n=Yp(e)?e:Jp(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"===typeof e){var n=e;PT(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");PT(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=Yp(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(iI(t)?e=t:t&&"object"===typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=Pp(XO(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=pI(RT(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"===typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=pI(RT(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"===typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=Pp(XO(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],l=e.get(a)[t],u=!1,c=0;c<r;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[r]=l,r++)}return i}},{key:"_addItem",value:function(t){var e=bI(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+py(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,fI(fI({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new hI({[UT]:()=>_E.mark((function n(){var i,r,o,s;return _E.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=pI(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))()})}var n;return new hI({[UT]:Lh(n=GT(this._data)).call(n,this._data)})}}]),i}(oI);function _I(t,e){var n="undefined"!==typeof Mp&&Mf(t)||t["@@iterator"];if(!n){if(Yp(t)||(n=kI(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function kI(t,e){var n;if(t){if("string"===typeof t)return xI(t,e);var i=zp(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Df(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xI(t,e):void 0}}function xI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function SI(t){var e=EI();return function(){var n,i=bw(t);if(e){var r=bw(this).constructor;n=Lb(i,arguments,r)}else n=i.apply(this,arguments);return yw(this,n)}}function EI(){if("undefined"===typeof Reflect||!Lb)return!1;if(Lb.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Lb(Boolean,[],(function(){}))),!0}catch(t){return!1}}var OI=function(t){vw(i,t);var n=SI(i);function i(t,r){var o,s;return e(this,i),vh(lw(s=n.call(this)),"length",0),vh(lw(s),"_ids",new sI),s._options=r||{},s._listener=Lh(o=s._onEvent).call(o,lw(s)),s.setData(t),s}return ph(i,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:hd(this._options)}),n=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:n})}if(null!=t){this._data=t;for(var i=this._data.getIds({filter:hd(this._options)}),r=0,o=i.length;r<o;r++){var s=i[r];this._ids.add(s)}this.length=i.length,this._trigger("add",{items:i})}else this._data=new wI;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:hd(this._options)}),e=Pp(this._ids),n={},i=[],r=[],o=[],s=0,a=t.length;s<a;s++){var l=t[s];n[l]=!0,this._ids.has(l)||(i.push(l),this._ids.add(l))}for(var u=0,c=e.length;u<c;u++){var h=e[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):n[h]||(r.push(h),o.push(d),this._ids.delete(h))}this.length+=i.length-r.length,i.length&&this._trigger("add",{items:i}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var n,i=null;iI(t)||Yp(t)?(i=t,n=e):n=t;var r=ey({},this._options,n),o=hd(this._options),s=n&&hd(n);return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,n=hd(this._options),i=null!=t?hd(t):null;return e=i?n?function(t){return n(t)&&i(t)}:i:n,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var n,i,r=hd(this._options),o=e&&hd(e);i=o?r?function(t){return r(t)&&o(t)}:o:r,uv(n=this._data).call(n,t,{filter:i,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var n,i,r=hd(this._options),o=e&&hd(e);return i=o?r?function(t){return r(t)&&o(t)}:o:r,bd(n=this._data).call(n,t,{filter:i,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||{[UT]:Lh(e=XO(this._ids)).call(e,this._ids)})}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,n="This data view has already been disposed of.",r={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},o=_I(qp(i.prototype));try{for(o.s();!(e=o.n()).done;){var s=e.value;aw(this,s,r)}}catch(a){o.e(a)}finally{o.f()}}},{key:"_onEvent",value:function(t,e,n){if(e&&e.items&&this._data){var i=e.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(t){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=i.length;f<p;f++){var v=i[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),u.push(e.oldData[f]))}break;case"remove":for(var y=0,g=i.length;y<g;y++){var m=i[y];this._ids.has(m)&&(this._ids.delete(m),s.push(m),u.push(e.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),i}(oI);function TI(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof e.add&&"function"===typeof e.clear&&"function"===typeof e.distinct&&"function"===typeof uv(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof bd(e)&&"function"===typeof e.max&&"function"===typeof e.min&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.remove&&"function"===typeof e.setOptions&&"function"===typeof e.stream&&"function"===typeof e.update&&"function"===typeof e.updateOnly}function II(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof uv(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof bd(e)&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.stream&&TI(t,e.getDataSet())}t.DELETE=ub,t.DataSet=wI,t.DataStream=hI,t.DataView=OI,t.Queue=rI,t.createNewDataPipeFrom=Fd,t.isDataSetLike=TI,t.isDataViewLike=II}(e)},580:function(t,e,n){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}},s=function(t){return t&&t.Math===Math&&t},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i&&i)||function(){return this}()||i||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},u=!l((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=u,h=Function.prototype,d=h.apply,f=h.call,p="object"==typeof Reflect&&Reflect.apply||(c?f.bind(d):function(){return f.apply(d,arguments)}),v=u,y=Function.prototype,g=y.call,m=v&&y.bind.bind(g,g),b=v?m:function(t){return function(){return g.apply(t,arguments)}},w=b,_=w({}.toString),k=w("".slice),x=function(t){return k(_(t),8,-1)},S=x,E=b,O=function(t){if("Function"===S(t))return E(t)},T="object"==typeof document&&document.all,I={all:T,IS_HTMLDDA:void 0===T&&void 0!==T},C=I.all,D=I.IS_HTMLDDA?function(t){return"function"==typeof t||t===C}:function(t){return"function"==typeof t},A={},P=!l((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),M=u,N=Function.prototype.call,F=M?N.bind(N):function(){return N.apply(N,arguments)},B={},L={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,z=j&&!L.call({1:2},1);B.f=z?function(t){var e=j(this,t);return!!e&&e.enumerable}:L;var R,U,H=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=l,W=x,$=Object,q=b("".split),Y=V((function(){return!$("z").propertyIsEnumerable(0)}))?function(t){return"String"===W(t)?q(t,""):$(t)}:$,X=function(t){return null==t},G=X,K=TypeError,Q=function(t){if(G(t))throw new K("Can't call method on "+t);return t},J=Y,Z=Q,tt=function(t){return J(Z(t))},et=D,nt=I.all,it=I.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:et(t)||t===nt}:function(t){return"object"==typeof t?null!==t:et(t)},rt={},ot=rt,st=a,at=D,lt=function(t){return at(t)?t:void 0},ut=function(t,e){return arguments.length<2?lt(ot[t])||lt(st[t]):ot[t]&&ot[t][e]||st[t]&&st[t][e]},ct=b({}.isPrototypeOf),ht="undefined"!=typeof navigator&&String(navigator.userAgent)||"",dt=a,ft=ht,pt=dt.process,vt=dt.Deno,yt=pt&&pt.versions||vt&&vt.version,gt=yt&&yt.v8;gt&&(U=(R=gt.split("."))[0]>0&&R[0]<4?1:+(R[0]+R[1])),!U&&ft&&(!(R=ft.match(/Edge\/(\d+)/))||R[1]>=74)&&(R=ft.match(/Chrome\/(\d+)/))&&(U=+R[1]);var mt=U,bt=mt,wt=l,_t=a.String,kt=!!Object.getOwnPropertySymbols&&!wt((function(){var t=Symbol("symbol detection");return!_t(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bt&&bt<41})),xt=kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,St=ut,Et=D,Ot=ct,Tt=Object,It=xt?function(t){return"symbol"==typeof t}:function(t){var e=St("Symbol");return Et(e)&&Ot(e.prototype,Tt(t))},Ct=String,Dt=function(t){try{return Ct(t)}catch(t){return"Object"}},At=D,Pt=Dt,Mt=TypeError,Nt=function(t){if(At(t))return t;throw new Mt(Pt(t)+" is not a function")},Ft=Nt,Bt=X,Lt=function(t,e){var n=t[e];return Bt(n)?void 0:Ft(n)},jt=F,zt=D,Rt=it,Ut=TypeError,Ht={exports:{}},Vt=a,Wt=Object.defineProperty,$t=function(t,e){try{Wt(Vt,t,{value:e,configurable:!0,writable:!0})}catch(i){Vt[t]=e}return e},qt="__core-js_shared__",Yt=a[qt]||$t(qt,{}),Xt=Yt;(Ht.exports=function(t,e){return Xt[t]||(Xt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Gt=Ht.exports,Kt=Q,Qt=Object,Jt=function(t){return Qt(Kt(t))},Zt=Jt,te=b({}.hasOwnProperty),ee=Object.hasOwn||function(t,e){return te(Zt(t),e)},ne=b,ie=0,re=Math.random(),oe=ne(1..toString),se=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++ie+re,36)},ae=Gt,le=ee,ue=se,ce=kt,he=xt,de=a.Symbol,fe=ae("wks"),pe=he?de.for||de:de&&de.withoutSetter||ue,ve=function(t){return le(fe,t)||(fe[t]=ce&&le(de,t)?de[t]:pe("Symbol."+t)),fe[t]},ye=F,ge=it,me=It,be=Lt,we=function(t,e){var n,i;if("string"===e&&zt(n=t.toString)&&!Rt(i=jt(n,t)))return i;if(zt(n=t.valueOf)&&!Rt(i=jt(n,t)))return i;if("string"!==e&&zt(n=t.toString)&&!Rt(i=jt(n,t)))return i;throw new Ut("Can't convert object to primitive value")},_e=TypeError,ke=ve("toPrimitive"),xe=function(t,e){if(!ge(t)||me(t))return t;var n,i=be(t,ke);if(i){if(void 0===e&&(e="default"),n=ye(i,t,e),!ge(n)||me(n))return n;throw new _e("Can't convert object to primitive value")}return void 0===e&&(e="number"),we(t,e)},Se=It,Ee=function(t){var e=xe(t,"string");return Se(e)?e:e+""},Oe=it,Te=a.document,Ie=Oe(Te)&&Oe(Te.createElement),Ce=function(t){return Ie?Te.createElement(t):{}},De=Ce,Ae=!P&&!l((function(){return 7!==Object.defineProperty(De("div"),"a",{get:function(){return 7}}).a})),Pe=P,Me=F,Ne=B,Fe=H,Be=tt,Le=Ee,je=ee,ze=Ae,Re=Object.getOwnPropertyDescriptor;A.f=Pe?Re:function(t,e){if(t=Be(t),e=Le(e),ze)try{return Re(t,e)}catch(t){}if(je(t,e))return Fe(!Me(Ne.f,t,e),t[e])};var Ue=l,He=D,Ve=/#|\.prototype\./,We=function(t,e){var n=qe[$e(t)];return n===Xe||n!==Ye&&(He(e)?Ue(e):!!e)},$e=We.normalize=function(t){return String(t).replace(Ve,".").toLowerCase()},qe=We.data={},Ye=We.NATIVE="N",Xe=We.POLYFILL="P",Ge=We,Ke=Nt,Qe=u,Je=O(O.bind),Ze=function(t,e){return Ke(t),void 0===e?t:Qe?Je(t,e):function(){return t.apply(e,arguments)}},tn={},en=P&&l((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),nn=it,rn=String,on=TypeError,sn=function(t){if(nn(t))return t;throw new on(rn(t)+" is not an object")},an=P,ln=Ae,un=en,cn=sn,hn=Ee,dn=TypeError,fn=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,vn="enumerable",yn="configurable",gn="writable";tn.f=an?un?function(t,e,n){if(cn(t),e=hn(e),cn(n),"function"==typeof t&&"prototype"===e&&"value"in n&&gn in n&&!n[gn]){var i=pn(t,e);i&&i[gn]&&(t[e]=n.value,n={configurable:yn in n?n[yn]:i[yn],enumerable:vn in n?n[vn]:i[vn],writable:!1})}return fn(t,e,n)}:fn:function(t,e,n){if(cn(t),e=hn(e),cn(n),ln)try{return fn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new dn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var mn=tn,bn=H,wn=P?function(t,e,n){return mn.f(t,e,bn(1,n))}:function(t,e,n){return t[e]=n,t},_n=a,kn=p,xn=O,Sn=D,En=A.f,On=Ge,Tn=rt,In=Ze,Cn=wn,Dn=ee,An=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return kn(t,this,arguments)};return e.prototype=t.prototype,e},Pn=function(t,e){var n,i,r,o,s,a,l,u,c,h=t.target,d=t.global,f=t.stat,p=t.proto,v=d?_n:f?_n[h]:(_n[h]||{}).prototype,y=d?Tn:Tn[h]||Cn(Tn,h,{})[h],g=y.prototype;for(o in e)i=!(n=On(d?o:h+(f?".":"#")+o,t.forced))&&v&&Dn(v,o),a=y[o],i&&(l=t.dontCallGetSet?(c=En(v,o))&&c.value:v[o]),s=i&&l?l:e[o],i&&typeof a==typeof s||(u=t.bind&&i?In(s,_n):t.wrap&&i?An(s):p&&Sn(s)?xn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Cn(u,"sham",!0),Cn(y,o,u),p&&(Dn(Tn,r=h+"Prototype")||Cn(Tn,r,{}),Cn(Tn[r],o,s),t.real&&g&&(n||!g[o])&&Cn(g,o,s)))},Mn=Pn,Nn=P,Fn=tn.f;Mn({target:"Object",stat:!0,forced:Object.defineProperty!==Fn,sham:!Nn},{defineProperty:Fn});var Bn=rt.Object,Ln=o.exports=function(t,e,n){return Bn.defineProperty(t,e,n)};Bn.defineProperty.sham&&(Ln.sham=!0);var jn=o.exports,zn=jn,Rn=r(zn),Un=x,Hn=Array.isArray||function(t){return"Array"===Un(t)},Vn=Math.ceil,Wn=Math.floor,$n=Math.trunc||function(t){var e=+t;return(e>0?Wn:Vn)(e)},qn=function(t){var e=+t;return e!=e||0===e?0:$n(e)},Yn=qn,Xn=Math.min,Gn=function(t){return t>0?Xn(Yn(t),9007199254740991):0},Kn=function(t){return Gn(t.length)},Qn=TypeError,Jn=function(t){if(t>9007199254740991)throw Qn("Maximum allowed index exceeded");return t},Zn=Ee,ti=tn,ei=H,ni=function(t,e,n){var i=Zn(e);i in t?ti.f(t,i,ei(0,n)):t[i]=n},ii={};ii[ve("toStringTag")]="z";var ri="[object z]"===String(ii),oi=ri,si=D,ai=x,li=ve("toStringTag"),ui=Object,ci="Arguments"===ai(function(){return arguments}()),hi=oi?ai:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=ui(t),li))?n:ci?ai(e):"Object"===(i=ai(e))&&si(e.callee)?"Arguments":i},di=D,fi=Yt,pi=b(Function.toString);di(fi.inspectSource)||(fi.inspectSource=function(t){return pi(t)});var vi=fi.inspectSource,yi=b,gi=l,mi=D,bi=hi,wi=vi,_i=function(){},ki=[],xi=ut("Reflect","construct"),Si=/^\s*(?:class|function)\b/,Ei=yi(Si.exec),Oi=!Si.test(_i),Ti=function(t){if(!mi(t))return!1;try{return xi(_i,ki,t),!0}catch(t){return!1}},Ii=function(t){if(!mi(t))return!1;switch(bi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Oi||!!Ei(Si,wi(t))}catch(t){return!0}};Ii.sham=!0;var Ci=!xi||gi((function(){var t;return Ti(Ti.call)||!Ti(Object)||!Ti((function(){t=!0}))||t}))?Ii:Ti,Di=Hn,Ai=Ci,Pi=it,Mi=ve("species"),Ni=Array,Fi=function(t){var e;return Di(t)&&(e=t.constructor,(Ai(e)&&(e===Ni||Di(e.prototype))||Pi(e)&&null===(e=e[Mi]))&&(e=void 0)),void 0===e?Ni:e},Bi=function(t,e){return new(Fi(t))(0===e?0:e)},Li=l,ji=mt,zi=ve("species"),Ri=function(t){return ji>=51||!Li((function(){var e=[];return(e.constructor={})[zi]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ui=Pn,Hi=l,Vi=Hn,Wi=it,$i=Jt,qi=Kn,Yi=Jn,Xi=ni,Gi=Bi,Ki=Ri,Qi=mt,Ji=ve("isConcatSpreadable"),Zi=Qi>=51||!Hi((function(){var t=[];return t[Ji]=!1,t.concat()[0]!==t})),tr=function(t){if(!Wi(t))return!1;var e=t[Ji];return void 0!==e?!!e:Vi(t)};Ui({target:"Array",proto:!0,arity:1,forced:!Zi||!Ki("concat")},{concat:function(t){var e,n,i,r,o,s=$i(this),a=Gi(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(tr(o=-1===e?s:arguments[e]))for(r=qi(o),Yi(l+r),n=0;n<r;n++,l++)n in o&&Xi(a,l,o[n]);else Yi(l+1),Xi(a,l++,o);return a.length=l,a}});var er=hi,nr=String,ir=function(t){if("Symbol"===er(t))throw new TypeError("Cannot convert a Symbol value to a string");return nr(t)},rr={},or=qn,sr=Math.max,ar=Math.min,lr=function(t,e){var n=or(t);return n<0?sr(n+e,0):ar(n,e)},ur=tt,cr=lr,hr=Kn,dr=function(t){return function(e,n,i){var r,o=ur(e),s=hr(o),a=cr(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},fr={includes:dr(!0),indexOf:dr(!1)},pr={},vr=ee,yr=tt,gr=fr.indexOf,mr=pr,br=b([].push),wr=function(t,e){var n,i=yr(t),r=0,o=[];for(n in i)!vr(mr,n)&&vr(i,n)&&br(o,n);for(;e.length>r;)vr(i,n=e[r++])&&(~gr(o,n)||br(o,n));return o},_r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kr=wr,xr=_r,Sr=Object.keys||function(t){return kr(t,xr)},Er=P,Or=en,Tr=tn,Ir=sn,Cr=tt,Dr=Sr;rr.f=Er&&!Or?Object.defineProperties:function(t,e){Ir(t);for(var n,i=Cr(e),r=Dr(e),o=r.length,s=0;o>s;)Tr.f(t,n=r[s++],i[n]);return t};var Ar,Pr=ut("document","documentElement"),Mr=se,Nr=Gt("keys"),Fr=function(t){return Nr[t]||(Nr[t]=Mr(t))},Br=sn,Lr=rr,jr=_r,zr=pr,Rr=Pr,Ur=Ce,Hr="prototype",Vr="script",Wr=Fr("IE_PROTO"),$r=function(){},qr=function(t){return"<"+Vr+">"+t+"</"+Vr+">"},Yr=function(t){t.write(qr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xr=function(){try{Ar=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Xr="undefined"!=typeof document?document.domain&&Ar?Yr(Ar):(e=Ur("iframe"),n="java"+Vr+":",e.style.display="none",Rr.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(qr("document.F=Object")),t.close(),t.F):Yr(Ar);for(var i=jr.length;i--;)delete Xr[Hr][jr[i]];return Xr()};zr[Wr]=!0;var Gr=Object.create||function(t,e){var n;return null!==t?($r[Hr]=Br(t),n=new $r,$r[Hr]=null,n[Wr]=t):n=Xr(),void 0===e?n:Lr.f(n,e)},Kr={},Qr=wr,Jr=_r.concat("length","prototype");Kr.f=Object.getOwnPropertyNames||function(t){return Qr(t,Jr)};var Zr={},to=lr,eo=Kn,no=ni,io=Array,ro=Math.max,oo=function(t,e,n){for(var i=eo(t),r=to(e,i),o=to(void 0===n?i:n,i),s=io(ro(o-r,0)),a=0;r<o;r++,a++)no(s,a,t[r]);return s.length=a,s},so=x,ao=tt,lo=Kr.f,uo=oo,co="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zr.f=function(t){return co&&"Window"===so(t)?function(t){try{return lo(t)}catch(t){return uo(co)}}(t):lo(ao(t))};var ho={};ho.f=Object.getOwnPropertySymbols;var fo=wn,po=function(t,e,n,i){return i&&i.enumerable?t[e]=n:fo(t,e,n),t},vo=tn,yo=function(t,e,n){return vo.f(t,e,n)},go={},mo=ve;go.f=mo;var bo,wo,_o,ko=rt,xo=ee,So=go,Eo=tn.f,Oo=function(t){var e=ko.Symbol||(ko.Symbol={});xo(e,t)||Eo(e,t,{value:So.f(t)})},To=F,Io=ut,Co=ve,Do=po,Ao=function(){var t=Io("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=Co("toPrimitive");e&&!e[i]&&Do(e,i,(function(t){return To(n,this)}),{arity:1})},Po=hi,Mo=ri?{}.toString:function(){return"[object "+Po(this)+"]"},No=ri,Fo=tn.f,Bo=wn,Lo=ee,jo=Mo,zo=ve("toStringTag"),Ro=function(t,e,n,i){if(t){var r=n?t:t.prototype;Lo(r,zo)||Fo(r,zo,{configurable:!0,value:e}),i&&!No&&Bo(r,"toString",jo)}},Uo=D,Ho=a.WeakMap,Vo=Uo(Ho)&&/native code/.test(String(Ho)),Wo=a,$o=it,qo=wn,Yo=ee,Xo=Yt,Go=Fr,Ko=pr,Qo="Object already initialized",Jo=Wo.TypeError,Zo=Wo.WeakMap;if(Vo||Xo.state){var ts=Xo.state||(Xo.state=new Zo);ts.get=ts.get,ts.has=ts.has,ts.set=ts.set,bo=function(t,e){if(ts.has(t))throw new Jo(Qo);return e.facade=t,ts.set(t,e),e},wo=function(t){return ts.get(t)||{}},_o=function(t){return ts.has(t)}}else{var es=Go("state");Ko[es]=!0,bo=function(t,e){if(Yo(t,es))throw new Jo(Qo);return e.facade=t,qo(t,es,e),e},wo=function(t){return Yo(t,es)?t[es]:{}},_o=function(t){return Yo(t,es)}}var ns={set:bo,get:wo,has:_o,enforce:function(t){return _o(t)?wo(t):bo(t,{})},getterFor:function(t){return function(e){var n;if(!$o(e)||(n=wo(e)).type!==t)throw new Jo("Incompatible receiver, "+t+" required");return n}}},is=Ze,rs=Y,os=Jt,ss=Kn,as=Bi,ls=b([].push),us=function(t){var e=1===t,n=2===t,i=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(l,u,c,h){for(var d,f,p=os(l),v=rs(p),y=is(u,c),g=ss(v),m=0,b=h||as,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:ls(w,d)}else switch(t){case 4:return!1;case 7:ls(w,d)}return o?-1:i||r?r:w}},cs={forEach:us(0),map:us(1),filter:us(2),some:us(3),every:us(4),find:us(5),findIndex:us(6),filterReject:us(7)},hs=Pn,ds=a,fs=F,ps=b,vs=P,ys=kt,gs=l,ms=ee,bs=ct,ws=sn,_s=tt,ks=Ee,xs=ir,Ss=H,Es=Gr,Os=Sr,Ts=Kr,Is=Zr,Cs=ho,Ds=A,As=tn,Ps=rr,Ms=B,Ns=po,Fs=yo,Bs=Gt,Ls=pr,js=se,zs=ve,Rs=go,Us=Oo,Hs=Ao,Vs=Ro,Ws=ns,$s=cs.forEach,qs=Fr("hidden"),Ys="Symbol",Xs="prototype",Gs=Ws.set,Ks=Ws.getterFor(Ys),Qs=Object[Xs],Js=ds.Symbol,Zs=Js&&Js[Xs],ta=ds.RangeError,ea=ds.TypeError,na=ds.QObject,ia=Ds.f,ra=As.f,oa=Is.f,sa=Ms.f,aa=ps([].push),la=Bs("symbols"),ua=Bs("op-symbols"),ca=Bs("wks"),ha=!na||!na[Xs]||!na[Xs].findChild,da=function(t,e,n){var i=ia(Qs,e);i&&delete Qs[e],ra(t,e,n),i&&t!==Qs&&ra(Qs,e,i)},fa=vs&&gs((function(){return 7!==Es(ra({},"a",{get:function(){return ra(this,"a",{value:7}).a}})).a}))?da:ra,pa=function(t,e){var n=la[t]=Es(Zs);return Gs(n,{type:Ys,tag:t,description:e}),vs||(n.description=e),n},va=function(t,e,n){t===Qs&&va(ua,e,n),ws(t);var i=ks(e);return ws(n),ms(la,i)?(n.enumerable?(ms(t,qs)&&t[qs][i]&&(t[qs][i]=!1),n=Es(n,{enumerable:Ss(0,!1)})):(ms(t,qs)||ra(t,qs,Ss(1,{})),t[qs][i]=!0),fa(t,i,n)):ra(t,i,n)},ya=function(t,e){ws(t);var n=_s(e),i=Os(n).concat(wa(n));return $s(i,(function(e){vs&&!fs(ga,n,e)||va(t,e,n[e])})),t},ga=function(t){var e=ks(t),n=fs(sa,this,e);return!(this===Qs&&ms(la,e)&&!ms(ua,e))&&(!(n||!ms(this,e)||!ms(la,e)||ms(this,qs)&&this[qs][e])||n)},ma=function(t,e){var n=_s(t),i=ks(e);if(n!==Qs||!ms(la,i)||ms(ua,i)){var r=ia(n,i);return!r||!ms(la,i)||ms(n,qs)&&n[qs][i]||(r.enumerable=!0),r}},ba=function(t){var e=oa(_s(t)),n=[];return $s(e,(function(t){ms(la,t)||ms(Ls,t)||aa(n,t)})),n},wa=function(t){var e=t===Qs,n=oa(e?ua:_s(t)),i=[];return $s(n,(function(t){!ms(la,t)||e&&!ms(Qs,t)||aa(i,la[t])})),i};ys||(Js=function(){if(bs(Zs,this))throw new ea("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?xs(arguments[0]):void 0,e=js(t),n=function(t){var i=void 0===this?ds:this;i===Qs&&fs(n,ua,t),ms(i,qs)&&ms(i[qs],e)&&(i[qs][e]=!1);var r=Ss(1,t);try{fa(i,e,r)}catch(t){if(!(t instanceof ta))throw t;da(i,e,r)}};return vs&&ha&&fa(Qs,e,{configurable:!0,set:n}),pa(e,t)},Ns(Zs=Js[Xs],"toString",(function(){return Ks(this).tag})),Ns(Js,"withoutSetter",(function(t){return pa(js(t),t)})),Ms.f=ga,As.f=va,Ps.f=ya,Ds.f=ma,Ts.f=Is.f=ba,Cs.f=wa,Rs.f=function(t){return pa(zs(t),t)},vs&&Fs(Zs,"description",{configurable:!0,get:function(){return Ks(this).description}})),hs({global:!0,constructor:!0,wrap:!0,forced:!ys,sham:!ys},{Symbol:Js}),$s(Os(ca),(function(t){Us(t)})),hs({target:Ys,stat:!0,forced:!ys},{useSetter:function(){ha=!0},useSimple:function(){ha=!1}}),hs({target:"Object",stat:!0,forced:!ys,sham:!vs},{create:function(t,e){return void 0===e?Es(t):ya(Es(t),e)},defineProperty:va,defineProperties:ya,getOwnPropertyDescriptor:ma}),hs({target:"Object",stat:!0,forced:!ys},{getOwnPropertyNames:ba}),Hs(),Vs(Js,Ys),Ls[qs]=!0;var _a=kt&&!!Symbol.for&&!!Symbol.keyFor,ka=Pn,xa=ut,Sa=ee,Ea=ir,Oa=Gt,Ta=_a,Ia=Oa("string-to-symbol-registry"),Ca=Oa("symbol-to-string-registry");ka({target:"Symbol",stat:!0,forced:!Ta},{for:function(t){var e=Ea(t);if(Sa(Ia,e))return Ia[e];var n=xa("Symbol")(e);return Ia[e]=n,Ca[n]=e,n}});var Da=Pn,Aa=ee,Pa=It,Ma=Dt,Na=_a,Fa=Gt("symbol-to-string-registry");Da({target:"Symbol",stat:!0,forced:!Na},{keyFor:function(t){if(!Pa(t))throw new TypeError(Ma(t)+" is not a symbol");if(Aa(Fa,t))return Fa[t]}});var Ba=b([].slice),La=Hn,ja=D,za=x,Ra=ir,Ua=b([].push),Ha=Pn,Va=ut,Wa=p,$a=F,qa=b,Ya=l,Xa=D,Ga=It,Ka=Ba,Qa=function(t){if(ja(t))return t;if(La(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?Ua(n,r):"number"!=typeof r&&"Number"!==za(r)&&"String"!==za(r)||Ua(n,Ra(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(La(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}},Ja=kt,Za=String,tl=Va("JSON","stringify"),el=qa(/./.exec),nl=qa("".charAt),il=qa("".charCodeAt),rl=qa("".replace),ol=qa(1..toString),sl=/[\uD800-\uDFFF]/g,al=/^[\uD800-\uDBFF]$/,ll=/^[\uDC00-\uDFFF]$/,ul=!Ja||Ya((function(){var t=Va("Symbol")("stringify detection");return"[null]"!==tl([t])||"{}"!==tl({a:t})||"{}"!==tl(Object(t))})),cl=Ya((function(){return'"\\udf06\\ud834"'!==tl("\udf06\ud834")||'"\\udead"'!==tl("\udead")})),hl=function(t,e){var n=Ka(arguments),i=Qa(e);if(Xa(i)||void 0!==t&&!Ga(t))return n[1]=function(t,e){if(Xa(i)&&(e=$a(i,this,Za(t),e)),!Ga(e))return e},Wa(tl,null,n)},dl=function(t,e,n){var i=nl(n,e-1),r=nl(n,e+1);return el(al,t)&&!el(ll,r)||el(ll,t)&&!el(al,i)?"\\u"+ol(il(t,0),16):t};tl&&Ha({target:"JSON",stat:!0,arity:3,forced:ul||cl},{stringify:function(t,e,n){var i=Ka(arguments),r=Wa(ul?hl:tl,null,i);return cl&&"string"==typeof r?rl(r,sl,dl):r}});var fl=ho,pl=Jt;Pn({target:"Object",stat:!0,forced:!kt||l((function(){fl.f(1)}))},{getOwnPropertySymbols:function(t){var e=fl.f;return e?e(pl(t)):[]}}),Oo("asyncIterator"),Oo("hasInstance"),Oo("isConcatSpreadable"),Oo("iterator"),Oo("match"),Oo("matchAll"),Oo("replace"),Oo("search"),Oo("species"),Oo("split");var vl=Ao;Oo("toPrimitive"),vl();var yl=ut,gl=Ro;Oo("toStringTag"),gl(yl("Symbol"),"Symbol"),Oo("unscopables"),Ro(a.JSON,"JSON",!0);var ml,bl,wl,_l=rt.Symbol,kl={},xl=P,Sl=ee,El=Function.prototype,Ol=xl&&Object.getOwnPropertyDescriptor,Tl=Sl(El,"name"),Il={EXISTS:Tl,PROPER:Tl&&"something"===function(){}.name,CONFIGURABLE:Tl&&(!xl||xl&&Ol(El,"name").configurable)},Cl=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Dl=ee,Al=D,Pl=Jt,Ml=Cl,Nl=Fr("IE_PROTO"),Fl=Object,Bl=Fl.prototype,Ll=Ml?Fl.getPrototypeOf:function(t){var e=Pl(t);if(Dl(e,Nl))return e[Nl];var n=e.constructor;return Al(n)&&e instanceof n?n.prototype:e instanceof Fl?Bl:null},jl=l,zl=D,Rl=it,Ul=Gr,Hl=Ll,Vl=po,Wl=ve("iterator"),$l=!1;[].keys&&("next"in(wl=[].keys())?(bl=Hl(Hl(wl)))!==Object.prototype&&(ml=bl):$l=!0);var ql=!Rl(ml)||jl((function(){var t={};return ml[Wl].call(t)!==t}));zl((ml=ql?{}:Ul(ml))[Wl])||Vl(ml,Wl,(function(){return this}));var Yl={IteratorPrototype:ml,BUGGY_SAFARI_ITERATORS:$l},Xl=Yl.IteratorPrototype,Gl=Gr,Kl=H,Ql=Ro,Jl=kl,Zl=function(){return this},tu=b,eu=Nt,nu=D,iu=String,ru=TypeError,ou=function(t,e,n){try{return tu(eu(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},su=sn,au=function(t){if("object"==typeof t||nu(t))return t;throw new ru("Can't set "+iu(t)+" as a prototype")},lu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=ou(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return su(n),au(i),e?t(n,i):n.__proto__=i,n}}():void 0),uu=Pn,cu=F,hu=function(t,e,n,i){var r=e+" Iterator";return t.prototype=Gl(Xl,{next:Kl(+!i,n)}),Ql(t,r,!1,!0),Jl[r]=Zl,t},du=Ll,fu=Ro,pu=po,vu=kl,yu=Yl,gu=Il.PROPER,mu=yu.BUGGY_SAFARI_ITERATORS,bu=ve("iterator"),wu="keys",_u="values",ku="entries",xu=function(){return this},Su=function(t,e,n,i,r,o,s){hu(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!mu&&t&&t in f)return f[t];switch(t){case wu:case _u:case ku:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[bu]||f["@@iterator"]||r&&f[r],v=!mu&&p||c(r),y="Array"===e&&f.entries||p;if(y&&(a=du(y.call(new t)))!==Object.prototype&&a.next&&(fu(a,h,!0,!0),vu[h]=xu),gu&&r===_u&&p&&p.name!==_u&&(d=!0,v=function(){return cu(p,this)}),r)if(l={values:c(_u),keys:o?v:c(wu),entries:c(ku)},s)for(u in l)(mu||d||!(u in f))&&pu(f,u,l[u]);else uu({target:e,proto:!0,forced:mu||d},l);return s&&f[bu]!==v&&pu(f,bu,v,{name:r}),vu[e]=v,l},Eu=function(t,e){return{value:t,done:e}},Ou=tt,Tu=kl,Iu=ns;tn.f;var Cu=Su,Du=Eu,Au="Array Iterator",Pu=Iu.set,Mu=Iu.getterFor(Au);Cu(Array,"Array",(function(t,e){Pu(this,{type:Au,target:Ou(t),index:0,kind:e})}),(function(){var t=Mu(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Du(void 0,!0);switch(t.kind){case"keys":return Du(n,!1);case"values":return Du(e[n],!1)}return Du([n,e[n]],!1)}),"values"),Tu.Arguments=Tu.Array;var Nu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Fu=a,Bu=hi,Lu=wn,ju=kl,zu=ve("toStringTag");for(var Ru in Nu){var Uu=Fu[Ru],Hu=Uu&&Uu.prototype;Hu&&Bu(Hu)!==zu&&Lu(Hu,zu,Ru),ju[Ru]=ju.Array}var Vu=_l,Wu=ve,$u=tn.f,qu=Wu("metadata"),Yu=Function.prototype;void 0===Yu[qu]&&$u(Yu,qu,{value:null}),Oo("asyncDispose"),Oo("dispose"),Oo("metadata");var Xu=Vu,Gu=b,Ku=ut("Symbol"),Qu=Ku.keyFor,Ju=Gu(Ku.prototype.valueOf),Zu=Ku.isRegisteredSymbol||function(t){try{return void 0!==Qu(Ju(t))}catch(t){return!1}};Pn({target:"Symbol",stat:!0},{isRegisteredSymbol:Zu});for(var tc=Gt,ec=ut,nc=b,ic=It,rc=ve,oc=ec("Symbol"),sc=oc.isWellKnownSymbol,ac=ec("Object","getOwnPropertyNames"),lc=nc(oc.prototype.valueOf),uc=tc("wks"),cc=0,hc=ac(oc),dc=hc.length;cc<dc;cc++)try{var fc=hc[cc];ic(oc[fc])&&rc(fc)}catch(t){}var pc=function(t){if(sc&&sc(t))return!0;try{for(var e=lc(t),n=0,i=ac(uc),r=i.length;n<r;n++)if(uc[i[n]]==e)return!0}catch(t){}return!1};Pn({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:pc}),Oo("matcher"),Oo("observable"),Pn({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Zu}),Pn({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:pc}),Oo("metadataKey"),Oo("patternMatch"),Oo("replaceAll");var vc=Xu,yc=r(vc),gc=b,mc=qn,bc=ir,wc=Q,_c=gc("".charAt),kc=gc("".charCodeAt),xc=gc("".slice),Sc=function(t){return function(e,n){var i,r,o=bc(wc(e)),s=mc(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=kc(o,s))<55296||i>56319||s+1===a||(r=kc(o,s+1))<56320||r>57343?t?_c(o,s):i:t?xc(o,s,s+2):r-56320+(i-55296<<10)+65536}},Ec=(Sc(!1),Sc(!0)),Oc=ir,Tc=ns,Ic=Su,Cc=Eu,Dc="String Iterator",Ac=Tc.set,Pc=Tc.getterFor(Dc);Ic(String,"String",(function(t){Ac(this,{type:Dc,string:Oc(t),index:0})}),(function(){var t,e=Pc(this),n=e.string,i=e.index;return i>=n.length?Cc(void 0,!0):(t=Ec(n,i),e.index+=t.length,Cc(t,!1))}));var Mc=go.f("iterator"),Nc=Mc,Fc=r(Nc);function Bc(t){return Bc="function"==typeof yc&&"symbol"==typeof Fc?function(t){return typeof t}:function(t){return t&&"function"==typeof yc&&t.constructor===yc&&t!==yc.prototype?"symbol":typeof t},Bc(t)}var Lc=r(go.f("toPrimitive"));function jc(t){var e=function(t,e){if("object"!==Bc(t)||null===t)return t;var n=t[Lc];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Bc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bc(e)?e:String(e)}function zc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Rn(t,jc(i.key),i)}}function Rc(t,e,n){return e&&zc(t.prototype,e),n&&zc(t,n),Rn(t,"prototype",{writable:!1}),t}function Uc(t,e,n){return(e=jc(e))in t?Rn(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hc=b,Vc=Nt,Wc=it,$c=ee,qc=Ba,Yc=u,Xc=Function,Gc=Hc([].concat),Kc=Hc([].join),Qc={},Jc=Yc?Xc.bind:function(t){var e=Vc(this),n=e.prototype,i=qc(arguments,1),r=function(){var n=Gc(i,qc(arguments));return this instanceof r?function(t,e,n){if(!$c(Qc,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Qc[e]=Xc("C,a","return new C("+Kc(i,",")+")")}return Qc[e](t,n)}(e,n.length,n):e.apply(t,n)};return Wc(n)&&(r.prototype=n),r},Zc=Jc;Pn({target:"Function",proto:!0,forced:Function.bind!==Zc},{bind:Zc});var th=a,eh=rt,nh=function(t,e){var n=eh[t+"Prototype"],i=n&&n[e];if(i)return i;var r=th[t],o=r&&r.prototype;return o&&o[e]},ih=nh("Function","bind"),rh=ct,oh=ih,sh=Function.prototype,ah=function(t){var e=t.bind;return t===sh||rh(sh,t)&&e===sh.bind?oh:e},lh=r(ah),uh=Nt,ch=Jt,hh=Y,dh=Kn,fh=TypeError,ph=function(t){return function(e,n,i,r){uh(n);var o=ch(e),s=hh(o),a=dh(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw new fh("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},vh={left:ph(!1),right:ph(!0)},yh=l,gh=function(t,e){var n=[][t];return!!n&&yh((function(){n.call(null,e||function(){return 1},1)}))},mh="process"===x(a.process),bh=vh.left;Pn({target:"Array",proto:!0,forced:!mh&&mt>79&&mt<83||!gh("reduce")},{reduce:function(t){var e=arguments.length;return bh(this,t,e,e>1?arguments[1]:void 0)}});var wh=nh("Array","reduce"),_h=ct,kh=wh,xh=Array.prototype,Sh=r((function(t){var e=t.reduce;return t===xh||_h(xh,t)&&e===xh.reduce?kh:e})),Eh=cs.filter;Pn({target:"Array",proto:!0,forced:!Ri("filter")},{filter:function(t){return Eh(this,t,arguments.length>1?arguments[1]:void 0)}});var Oh=nh("Array","filter"),Th=ct,Ih=Oh,Ch=Array.prototype,Dh=r((function(t){var e=t.filter;return t===Ch||Th(Ch,t)&&e===Ch.filter?Ih:e})),Ah=cs.map;Pn({target:"Array",proto:!0,forced:!Ri("map")},{map:function(t){return Ah(this,t,arguments.length>1?arguments[1]:void 0)}});var Ph=nh("Array","map"),Mh=ct,Nh=Ph,Fh=Array.prototype,Bh=r((function(t){var e=t.map;return t===Fh||Mh(Fh,t)&&e===Fh.map?Nh:e})),Lh=Hn,jh=Kn,zh=Jn,Rh=Ze,Uh=function(t,e,n,i,r,o,s,a){for(var l,u,c=r,h=0,d=!!s&&Rh(s,a);h<i;)h in n&&(l=d?d(n[h],h,e):n[h],o>0&&Lh(l)?(u=jh(l),c=Uh(t,e,l,u,c,o-1)-1):(zh(c+1),t[c]=l),c++),h++;return c},Hh=Uh,Vh=Nt,Wh=Jt,$h=Kn,qh=Bi;Pn({target:"Array",proto:!0},{flatMap:function(t){var e,n=Wh(this),i=$h(n);return Vh(t),(e=qh(n,0)).length=Hh(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Yh=nh("Array","flatMap"),Xh=ct,Gh=Yh,Kh=Array.prototype,Qh=r((function(t){var e=t.flatMap;return t===Kh||Xh(Kh,t)&&e===Kh.flatMap?Gh:e})),Jh=function(){function t(n,i,r){var o,s,a;e(this,t),Uc(this,"_listeners",{add:lh(o=this._add).call(o,this),remove:lh(s=this._remove).call(s,this),update:lh(a=this._update).call(a,this)}),this._source=n,this._transformers=i,this._target=r}return Rc(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return Sh(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),Zh=function(){function t(n){e(this,t),Uc(this,"_transformers",[]),this._source=n}return Rc(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return Dh(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return Bh(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return Qh(e).call(e,t)})),this}},{key:"to",value:function(t){return new Jh(this._source,this._transformers,t)}}]),t}(),td=F,ed=sn,nd=Lt,id=function(t,e,n){var i,r;ed(t);try{if(!(i=nd(t,"return"))){if("throw"===e)throw n;return n}i=td(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return ed(i),n},rd=sn,od=id,sd=kl,ad=ve("iterator"),ld=Array.prototype,ud=function(t){return void 0!==t&&(sd.Array===t||ld[ad]===t)},cd=hi,hd=Lt,dd=X,fd=kl,pd=ve("iterator"),vd=function(t){if(!dd(t))return hd(t,pd)||hd(t,"@@iterator")||fd[cd(t)]},yd=F,gd=Nt,md=sn,bd=Dt,wd=vd,_d=TypeError,kd=function(t,e){var n=arguments.length<2?wd(t):e;if(gd(n))return md(yd(n,t));throw new _d(bd(t)+" is not iterable")},xd=Ze,Sd=F,Ed=Jt,Od=function(t,e,n,i){try{return i?e(rd(n)[0],n[1]):e(n)}catch(e){od(t,"throw",e)}},Td=ud,Id=Ci,Cd=Kn,Dd=ni,Ad=kd,Pd=vd,Md=Array,Nd=ve("iterator"),Fd=!1;try{var Bd=0,Ld={next:function(){return{done:!!Bd++}},return:function(){Fd=!0}};Ld[Nd]=function(){return this},Array.from(Ld,(function(){throw 2}))}catch(t){}var jd=function(t,e){try{if(!e&&!Fd)return!1}catch(t){return!1}var n=!1;try{var i={};i[Nd]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},zd=function(t){var e=Ed(t),n=Id(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=xd(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=Pd(e),f=0;if(!d||this===Md&&Td(d))for(s=Cd(e),a=n?new this(s):Md(s);s>f;f++)h=o?r(e[f],f):e[f],Dd(a,f,h);else for(c=(u=Ad(e,d)).next,a=n?new this:[];!(l=Sd(c,u)).done;f++)h=o?Od(u,r,[l.value,f],!0):l.value,Dd(a,f,h);return a.length=f,a};Pn({target:"Array",stat:!0,forced:!jd((function(t){Array.from(t)}))},{from:zd});var Rd=rt.Array.from,Ud=r(Rd),Hd=vd,Vd=r(Hd),Wd=r(Hd);Pn({target:"Array",stat:!0},{isArray:Hn});var $d=rt.Array.isArray,qd=r($d),Yd=P,Xd=Hn,Gd=TypeError,Kd=Object.getOwnPropertyDescriptor,Qd=Yd&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Xd(t)&&!Kd(t,"length").writable)throw new Gd("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Jd=Jt,Zd=Kn,tf=Qd,ef=Jn;Pn({target:"Array",proto:!0,arity:1,forced:l((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Jd(this),n=Zd(e),i=arguments.length;ef(n+i);for(var r=0;r<i;r++)e[n]=arguments[r],n++;return tf(e,n),n}});var nf=nh("Array","push"),rf=ct,of=nf,sf=Array.prototype,af=function(t){var e=t.push;return t===sf||rf(sf,t)&&e===sf.push?of:e},lf=r(af),uf=Pn,cf=Hn,hf=Ci,df=it,ff=lr,pf=Kn,vf=tt,yf=ni,gf=ve,mf=Ba,bf=Ri("slice"),wf=gf("species"),_f=Array,kf=Math.max;uf({target:"Array",proto:!0,forced:!bf},{slice:function(t,e){var n,i,r,o=vf(this),s=pf(o),a=ff(t,s),l=ff(void 0===e?s:e,s);if(cf(o)&&(n=o.constructor,(hf(n)&&(n===_f||cf(n.prototype))||df(n)&&null===(n=n[wf]))&&(n=void 0),n===_f||void 0===n))return mf(o,a,l);for(i=new(void 0===n?_f:n)(kf(l-a,0)),r=0;a<l;a++,r++)a in o&&yf(i,r,o[a]);return i.length=r,i}});var xf=nh("Array","slice"),Sf=ct,Ef=xf,Of=Array.prototype,Tf=function(t){var e=t.slice;return t===Of||Sf(Of,t)&&e===Of.slice?Ef:e},If=Tf,Cf=r(If),Df=r(Rd);function Af(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Pf(t,e){var n;if(t){if("string"==typeof t)return Af(t,e);var i=Cf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Df(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Af(t,e):void 0}}function Mf(t,e){return function(t){if(qd(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==yc&&Vd(t)||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(lf(a).call(a,i.value),a.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(t,e)||Pf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nf(t){return function(t){if(qd(t))return Af(t)}(t)||function(t){if(void 0!==yc&&null!=Vd(t)||null!=t["@@iterator"])return Df(t)}(t)||Pf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ff=r(Vu),Bf=nh("Array","concat"),Lf=ct,jf=Bf,zf=Array.prototype,Rf=r((function(t){var e=t.concat;return t===zf||Lf(zf,t)&&e===zf.concat?jf:e})),Uf=r(Tf),Hf=ut,Vf=Kr,Wf=ho,$f=sn,qf=b([].concat),Yf=Hf("Reflect","ownKeys")||function(t){var e=Vf.f($f(t)),n=Wf.f;return n?qf(e,n(t)):e};Pn({target:"Reflect",stat:!0},{ownKeys:Yf});var Xf=r(rt.Reflect.ownKeys),Gf=r($d),Kf=Jt,Qf=Sr;Pn({target:"Object",stat:!0,forced:l((function(){Qf(1)}))},{keys:function(t){return Qf(Kf(t))}});var Jf=r(rt.Object.keys),Zf=cs.forEach,tp=gh("forEach")?[].forEach:function(t){return Zf(this,t,arguments.length>1?arguments[1]:void 0)};Pn({target:"Array",proto:!0,forced:[].forEach!==tp},{forEach:tp});var ep=nh("Array","forEach"),np=hi,ip=ee,rp=ct,op=ep,sp=Array.prototype,ap={DOMTokenList:!0,NodeList:!0},lp=function(t){var e=t.forEach;return t===sp||rp(sp,t)&&e===sp.forEach||ip(ap,np(t))?op:e},up=r(lp),cp=Pn,hp=Hn,dp=b([].reverse),fp=[1,2];cp({target:"Array",proto:!0,forced:String(fp)===String(fp.reverse())},{reverse:function(){return hp(this)&&(this.length=this.length),dp(this)}});var pp=nh("Array","reverse"),vp=ct,yp=pp,gp=Array.prototype,mp=function(t){var e=t.reverse;return t===gp||vp(gp,t)&&e===gp.reverse?yp:e},bp=r(mp),wp=Dt,_p=TypeError,kp=function(t,e){if(!delete t[e])throw new _p("Cannot delete property "+wp(e)+" of "+wp(t))},xp=Pn,Sp=Jt,Ep=lr,Op=qn,Tp=Kn,Ip=Qd,Cp=Jn,Dp=Bi,Ap=ni,Pp=kp,Mp=Ri("splice"),Np=Math.max,Fp=Math.min;xp({target:"Array",proto:!0,forced:!Mp},{splice:function(t,e){var n,i,r,o,s,a,l=Sp(this),u=Tp(l),c=Ep(t,u),h=arguments.length;for(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Fp(Np(Op(e),0),u-c)),Cp(u+n-i),r=Dp(l,i),o=0;o<i;o++)(s=c+o)in l&&Ap(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:Pp(l,a);for(o=u;o>u-i+n;o--)Pp(l,o-1)}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:Pp(l,a);for(o=0;o<n;o++)l[o+c]=arguments[o+2];return Ip(l,u-i+n),r}});var Bp=nh("Array","splice"),Lp=ct,jp=Bp,zp=Array.prototype,Rp=r((function(t){var e=t.splice;return t===zp||Lp(zp,t)&&e===zp.splice?jp:e})),Up=P,Hp=b,Vp=F,Wp=l,$p=Sr,qp=ho,Yp=B,Xp=Jt,Gp=Y,Kp=Object.assign,Qp=Object.defineProperty,Jp=Hp([].concat),Zp=!Kp||Wp((function(){if(Up&&1!==Kp({b:1},Kp(Qp({},"a",{enumerable:!0,get:function(){Qp(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==Kp({},t)[n]||$p(Kp({},e)).join("")!==i}))?function(t,e){for(var n=Xp(t),i=arguments.length,r=1,o=qp.f,s=Yp.f;i>r;)for(var a,l=Gp(arguments[r++]),u=o?Jp($p(l),o(l)):$p(l),c=u.length,h=0;c>h;)a=u[h++],Up&&!Vp(s,l,a)||(n[a]=l[a]);return n}:Kp,tv=Zp;Pn({target:"Object",stat:!0,arity:2,forced:Object.assign!==tv},{assign:tv});var ev=r(rt.Object.assign),nv=Jt,iv=Ll,rv=Cl;Pn({target:"Object",stat:!0,forced:l((function(){iv(1)})),sham:!rv},{getPrototypeOf:function(t){return iv(nv(t))}});var ov=rt.Object.getPrototypeOf;Pn({target:"Object",stat:!0,sham:!P},{create:Gr});var sv=rt.Object,av=function(t,e){return sv.create(t,e)},lv=r(av),uv=rt,cv=p;uv.JSON||(uv.JSON={stringify:JSON.stringify});var hv=function(t,e,n){return cv(uv.JSON.stringify,null,arguments)},dv=r(hv),fv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,pv=TypeError,vv=function(t,e){if(t<e)throw new pv("Not enough arguments");return t},yv=a,gv=p,mv=D,bv=fv,wv=ht,_v=Ba,kv=vv,xv=yv.Function,Sv=/MSIE .\./.test(wv)||bv&&function(){var t=yv.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),Ev=function(t,e){var n=e?2:1;return Sv?function(i,r){var o=kv(arguments.length,1)>n,s=mv(i)?i:xv(i),a=o?_v(arguments,n):[],l=o?function(){gv(s,this,a)}:s;return e?t(l,r):t(l)}:t},Ov=Pn,Tv=a,Iv=Ev(Tv.setInterval,!0);Ov({global:!0,bind:!0,forced:Tv.setInterval!==Iv},{setInterval:Iv});var Cv=Pn,Dv=a,Av=Ev(Dv.setTimeout,!0);Cv({global:!0,bind:!0,forced:Dv.setTimeout!==Av},{setTimeout:Av});var Pv=r(rt.setTimeout),Mv={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){var n=this;const i=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n.off(t,i),e.apply(n,o)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,i]of n.entries())if(i===e||i.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t){const e=this._callbacks.get(t);if(e){const t=[...e];for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const e of t)e.apply(this,i)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const n of this._callbacks.values())e+=n.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Mv);var Nv,Fv=r(Mv.exports);function Bv(){return Bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bv.apply(this,arguments)}function Lv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function jv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Nv="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var zv,Rv=Nv,Uv=["","webkit","Moz","MS","ms","o"],Hv="undefined"==typeof document?{style:{}}:document.createElement("div"),Vv=Math.round,Wv=Math.abs,$v=Date.now;function qv(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Uv.length;){if((i=(n=Uv[o])?n+r:e)in t)return i;o++}}zv="undefined"==typeof window?{}:window;var Yv=qv(Hv.style,"touchAction"),Xv=void 0!==Yv,Gv="compute",Kv="auto",Qv="manipulation",Jv="none",Zv="pan-x",ty="pan-y",ey=function(){if(!Xv)return!1;var t={},e=zv.CSS&&zv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||zv.CSS.supports("touch-action",n)})),t}(),ny="ontouchstart"in zv,iy=void 0!==qv(zv,"PointerEvent"),ry=ny&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),oy="touch",sy="mouse",ay=25,ly=1,uy=4,cy=8,hy=1,dy=2,fy=4,py=8,vy=16,yy=dy|fy,gy=py|vy,my=yy|gy,by=["x","y"],wy=["clientX","clientY"];function _y(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function ky(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function xy(t,e){return t.indexOf(e)>-1}var Sy=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Gv&&(t=this.compute()),Xv&&this.manager.element.style&&ey[t]&&(this.manager.element.style[Yv]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return _y(this.manager.recognizers,(function(e){ky(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(xy(t,Jv))return Jv;var e=xy(t,Zv),n=xy(t,ty);return e&&n?Jv:e||n?e?Zv:ty:xy(t,Qv)?Qv:Kv}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=xy(i,Jv)&&!ey[Jv],o=xy(i,ty)&&!ey[ty],s=xy(i,Zv)&&!ey[Zv];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&yy||s&&n&gy?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Ey(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Oy(t){var e=t.length;if(1===e)return{x:Vv(t[0].clientX),y:Vv(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Vv(n/e),y:Vv(i/e)}}function Ty(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Vv(t.pointers[n].clientX),clientY:Vv(t.pointers[n].clientY)},n++;return{timeStamp:$v(),pointers:e,center:Oy(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Iy(t,e,n){n||(n=by);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Cy(t,e,n){n||(n=by);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function Dy(t,e){return t===e?hy:Wv(t)>=Wv(e)?t<0?dy:fy:e<0?py:vy}function Ay(t,e,n){return{x:e/t||0,y:n/t||0}}function Py(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=Ty(e)),r>1&&!n.firstMultiple?n.firstMultiple=Ty(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=Oy(i);e.timeStamp=$v(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Cy(a,l),e.distance=Iy(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==ly&&o.eventType!==uy||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=Dy(e.deltaX,e.deltaY);var u,c,h=Ay(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Wv(h.x)>Wv(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,Iy((c=i)[0],c[1],wy)/Iy(u[0],u[1],wy)):1,e.rotation=s?function(t,e){return Cy(e[1],e[0],wy)+Cy(t[1],t[0],wy)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==cy&&(a>ay||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=Ay(a,l,u);i=c.x,r=c.y,n=Wv(c.x)>Wv(c.y)?c.x:c.y,o=Dy(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d,f=t.element,p=e.srcEvent;Ey(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function My(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&ly&&i-r==0,s=e&(uy|cy)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,Py(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Ny(t){return t.trim().split(/\s+/g)}function Fy(t,e,n){_y(Ny(e),(function(e){t.addEventListener(e,n,!1)}))}function By(t,e,n){_y(Ny(e),(function(e){t.removeEventListener(e,n,!1)}))}function Ly(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var jy=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){ky(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Fy(this.element,this.evEl,this.domHandler),this.evTarget&&Fy(this.target,this.evTarget,this.domHandler),this.evWin&&Fy(Ly(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&By(this.element,this.evEl,this.domHandler),this.evTarget&&By(this.target,this.evTarget,this.domHandler),this.evWin&&By(Ly(this.element),this.evWin,this.domHandler)},t}();function zy(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Ry={pointerdown:ly,pointermove:2,pointerup:uy,pointercancel:cy,pointerout:cy},Uy={2:oy,3:"pen",4:sy,5:"kinect"},Hy="pointerdown",Vy="pointermove pointerup pointercancel";zv.MSPointerEvent&&!zv.PointerEvent&&(Hy="MSPointerDown",Vy="MSPointerMove MSPointerUp MSPointerCancel");var Wy=function(t){function e(){var n,i=e.prototype;return i.evEl=Hy,i.evWin=Vy,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Lv(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ry[i],o=Uy[t.pointerType]||t.pointerType,s=o===oy,a=zy(e,t.pointerId,"pointerId");r&ly&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(uy|cy)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(jy);function $y(t){return Array.prototype.slice.call(t,0)}function qy(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];zy(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var Yy={touchstart:ly,touchmove:2,touchend:uy,touchcancel:cy},Xy=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return Lv(e,t),e.prototype.handler=function(t){var e=Yy[t.type],n=Gy.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:oy,srcEvent:t})},e}(jy);function Gy(t,e){var n,i,r=$y(t.touches),o=this.targetIds;if(e&(2|ly)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=$y(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return Ey(t.target,l)})),e===ly)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(uy|cy)&&delete o[s[n].identifier],n++;return a.length?[qy(i.concat(a),"identifier",!0),a]:void 0}var Ky={mousedown:ly,mousemove:2,mouseup:uy},Qy=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return Lv(e,t),e.prototype.handler=function(t){var e=Ky[t.type];e&ly&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=uy),this.pressed&&(e&uy&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:sy,srcEvent:t}))},e}(jy),Jy=2500;function Zy(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),Jy)}}function tg(t,e){t&ly?(this.primaryTouch=e.changedPointers[0].identifier,Zy.call(this,e)):t&(uy|cy)&&Zy.call(this,e)}function eg(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var ng=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===oy,o=n.pointerType===sy;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)tg.call(jv(jv(i)),e,n);else if(o&&eg.call(jv(jv(i)),n))return;i.callback(t,e,n)}},i.touch=new Xy(i.manager,i.handler),i.mouse=new Qy(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Lv(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(jy);function ig(t,e,n){return!!Array.isArray(t)&&(_y(t,n[e],n),!0)}var rg=32,og=1;function sg(t,e){var n=e.manager;return n?n.get(t):t}function ag(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var lg=function(){function t(t){void 0===t&&(t={}),this.options=Bv({enable:!0},t),this.id=og++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Rv(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(ig(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=sg(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return ig(t,"dropRecognizeWith",this)||(t=sg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(ig(t,"requireFailure",this))return this;var e=this.requireFail;return-1===zy(e,t=sg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(ig(t,"dropRequireFailure",this))return this;t=sg(t,this);var e=zy(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+ag(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+ag(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=rg},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Rv({},t);if(!ky(this.options.enable,[this,e]))return this.reset(),void(this.state=rg);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),ug=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Bv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Qv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&ly&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==uy)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||Iy(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return rg},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=rg}),this.options.interval),rg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(lg),cg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bv({pointers:1},e))||this}Lv(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&cy||!r)?16|e:i||r?n&uy?8|e:2&e?4|e:2:rg},e}(lg);function hg(t){return t===vy?"down":t===py?"up":t===dy?"left":t===fy?"right":""}var dg=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Bv({event:"pan",threshold:10,pointers:1,direction:my},e))||this).pX=null,n.pY=null,n}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&yy&&e.push(ty),t&gy&&e.push(Zv),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&yy?(r=0===o?hy:o<0?dy:fy,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?hy:s<0?py:vy,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return cg.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=hg(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(cg),fg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bv({event:"swipe",threshold:10,velocity:.3,direction:yy|gy,pointers:1},e))||this}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){return dg.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(yy|gy)?n=e.overallVelocity:i&yy?n=e.overallVelocityX:i&gy&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Wv(n)>this.options.velocity&&e.eventType&uy},n.emit=function(t){var e=hg(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(cg),pg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bv({event:"pinch",threshold:0,pointers:2},e))||this}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Jv]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(cg),vg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Bv({event:"rotate",threshold:0,pointers:2},e))||this}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Jv]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(cg),yg=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Bv({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Lv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Kv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(uy|cy)&&!o)this.reset();else if(t.eventType&ly)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(t.eventType&uy)return 8;return rg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&t.eventType&uy?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=$v(),this.manager.emit(this.options.event,this._input)))},e}(lg),gg={domEvents:!1,touchAction:Gv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},mg=[[vg,{enable:!1}],[pg,{enable:!1},["rotate"]],[fg,{direction:yy}],[dg,{direction:yy},["swipe"]],[ug],[ug,{event:"doubletap",taps:2},["tap"]],[yg]];function bg(t,e){var n,i=t.element;i.style&&(_y(t.options.cssProps,(function(r,o){n=qv(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var wg=function(){function t(t,e){var n,i=this;this.options=Rv({},gg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(iy?Wy:ry?Xy:ny?ng:Qy))(n,My),this.touchAction=new Sy(this,this.options.touchAction),bg(this,!0),_y(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Rv(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof lg)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(ig(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(ig(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=zy(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return _y(Ny(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return _y(Ny(t),(function(t){e?n[t]&&n[t].splice(zy(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&bg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),_g={touchstart:ly,touchmove:2,touchend:uy,touchcancel:cy},kg=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return Lv(e,t),e.prototype.handler=function(t){var e=_g[t.type];if(e===ly&&(this.started=!0),this.started){var n=xg.call(this,t,e);e&(uy|cy)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:oy,srcEvent:t})}},e}(jy);function xg(t,e){var n=$y(t.touches),i=$y(t.changedTouches);return e&(uy|cy)&&(n=qy(n.concat(i),"identifier",!0)),[n,i]}function Sg(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var Eg=Sg((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),Og=Sg((function(t,e){return Eg(t,e,!0)}),"merge","Use `assign`.");function Tg(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Rv(i,n)}function Ig(t,e){return function(){return t.apply(e,arguments)}}var Cg=function(){var t=function(t,e){return void 0===e&&(e={}),new wg(t,Bv({recognizers:mg.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=my,t.DIRECTION_DOWN=vy,t.DIRECTION_LEFT=dy,t.DIRECTION_RIGHT=fy,t.DIRECTION_UP=py,t.DIRECTION_HORIZONTAL=yy,t.DIRECTION_VERTICAL=gy,t.DIRECTION_NONE=hy,t.DIRECTION_DOWN=vy,t.INPUT_START=ly,t.INPUT_MOVE=2,t.INPUT_END=uy,t.INPUT_CANCEL=cy,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=rg,t.Manager=wg,t.Input=jy,t.TouchAction=Sy,t.TouchInput=Xy,t.MouseInput=Qy,t.PointerEventInput=Wy,t.TouchMouseInput=ng,t.SingleTouchInput=kg,t.Recognizer=lg,t.AttrRecognizer=cg,t.Tap=ug,t.Pan=dg,t.Swipe=fg,t.Pinch=pg,t.Rotate=vg,t.Press=yg,t.on=Fy,t.off=By,t.each=_y,t.merge=Og,t.extend=Eg,t.bindFn=Ig,t.assign=Rv,t.inherit=Tg,t.bindFn=Ig,t.prefixed=qv,t.toArray=$y,t.inArray=zy,t.uniqueArray=qy,t.splitStr=Ny,t.boolOrFn=ky,t.hasParent=Ey,t.addEventListeners=Fy,t.removeEventListeners=By,t.defaults=Rv({},gg,{preset:mg}),t}();function Dg(t,e){var n=void 0!==Ff&&Wd(t)||t["@@iterator"];if(!n){if(Gf(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return Ag(t,e);var i=Uf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ud(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ag(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Ag(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Pg=Ff("DELETE");function Mg(){var t=Ng.apply(void 0,arguments);return Bg(t),t}function Ng(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return Ng.apply(void 0,Rf(i=[Mg(e[0],e[1])]).call(i,Nf(Uf(e).call(e,2))));var r=e[0],o=e[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var s,a=Dg(Xf(o));try{for(a.s();!(s=a.n()).done;){var l=s.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===Pg?delete r[l]:null===r[l]||null===o[l]||"object"!=typeof r[l]||"object"!=typeof o[l]||Gf(r[l])||Gf(o[l])?r[l]=Fg(o[l]):r[l]=Ng(r[l],o[l]))}}catch(t){a.e(t)}finally{a.f()}return r}function Fg(t){return Gf(t)?Bh(t).call(t,(function(t){return Fg(t)})):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):Ng({},t):t}function Bg(t){for(var e=0,n=Jf(t);e<n.length;e++){var i=n[e];t[i]===Pg?delete t[i]:"object"==typeof t[i]&&null!==t[i]&&Bg(t[i])}}var Lg="undefined"!=typeof window?window.Hammer||Cg:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function jg(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=Lg(this._dom.overlay);i.on("tap",lh(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];up(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}Fv(jg.prototype),jg.current=null,jg.prototype.destroy=function(){var t,e;this.deactivate();var n,i=Dg(bp(t=Rp(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},jg.prototype.activate=function(){jg.current&&jg.current.deactivate(),jg.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},jg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},jg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var zg=Ci,Rg=Dt,Ug=TypeError,Hg=function(t){if(zg(t))return t;throw new Ug(Rg(t)+" is not a constructor")},Vg=Pn,Wg=p,$g=Jc,qg=Hg,Yg=sn,Xg=it,Gg=Gr,Kg=l,Qg=ut("Reflect","construct"),Jg=Object.prototype,Zg=[].push,tm=Kg((function(){function t(){}return!(Qg((function(){}),[],t)instanceof t)})),em=!Kg((function(){Qg((function(){}))})),nm=tm||em;Vg({target:"Reflect",stat:!0,forced:nm,sham:nm},{construct:function(t,e){qg(t),Yg(e);var n=arguments.length<3?t:qg(arguments[2]);if(em&&!tm)return Qg(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return Wg(Zg,i,e),new(Wg($g,t,i))}var r=n.prototype,o=Gg(Xg(r)?r:Jg),s=Wg(t,o,e);return Xg(s)?s:o}});var im=r(rt.Reflect.construct),rm=r(rt.Object.getOwnPropertySymbols),om={exports:{}},sm=Pn,am=l,lm=tt,um=A.f,cm=P;sm({target:"Object",stat:!0,forced:!cm||am((function(){um(1)})),sham:!cm},{getOwnPropertyDescriptor:function(t,e){return um(lm(t),e)}});var hm=rt.Object,dm=om.exports=function(t,e){return hm.getOwnPropertyDescriptor(t,e)};hm.getOwnPropertyDescriptor.sham&&(dm.sham=!0);var fm=r(om.exports),pm=Yf,vm=tt,ym=A,gm=ni;Pn({target:"Object",stat:!0,sham:!P},{getOwnPropertyDescriptors:function(t){for(var e,n,i=vm(t),r=ym.f,o=pm(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&gm(s,e,n);return s}});var mm=r(rt.Object.getOwnPropertyDescriptors),bm={exports:{}},wm=Pn,_m=P,km=rr.f;wm({target:"Object",stat:!0,forced:Object.defineProperties!==km,sham:!_m},{defineProperties:km});var xm=rt.Object,Sm=bm.exports=function(t,e){return xm.defineProperties(t,e)};xm.defineProperties.sham&&(Sm.sham=!0);var Em=r(bm.exports),Om=r(jn);function Tm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Im=av,Cm=r(Im);Pn({target:"Object",stat:!0},{setPrototypeOf:lu});var Dm=rt.Object.setPrototypeOf,Am=r(Dm),Pm=r(ah);function Mm(t,e){var n;return Mm=Am?Pm(n=Am).call(n):function(t,e){return t.__proto__=e,t},Mm(t,e)}function Nm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Cm(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Rn(t,"prototype",{writable:!1}),e&&Mm(t,e)}function Fm(t,e){if(e&&("object"===Bc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tm(t)}var Bm=ov,Lm=r(Bm);function jm(t){var e;return jm=Am?Pm(e=Lm).call(e):function(t){return t.__proto__||Lm(t)},jm(t)}var zm={exports:{}},Rm={exports:{}};!function(t){var e=vc,n=Nc;function i(r){return t.exports=i="function"==typeof e&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(Rm);var Um=Rm.exports,Hm=lp,Vm=ee,Wm=Yf,$m=A,qm=tn,Ym=it,Xm=wn,Gm=Error,Km=b("".replace),Qm=String(new Gm("zxcasd").stack),Jm=/\n\s*at [^:]*:[^\n]*/,Zm=Jm.test(Qm),tb=H,eb=!l((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",tb(1,7)),7!==t.stack)})),nb=wn,ib=function(t,e){if(Zm&&"string"==typeof t&&!Gm.prepareStackTrace)for(;e--;)t=Km(t,Jm,"");return t},rb=eb,ob=Error.captureStackTrace,sb=Ze,ab=F,lb=sn,ub=Dt,cb=ud,hb=Kn,db=ct,fb=kd,pb=vd,vb=id,yb=TypeError,gb=function(t,e){this.stopped=t,this.result=e},mb=gb.prototype,bb=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=sb(e,c),y=function(t){return i&&vb(i,"normal",t),new gb(!0,t)},g=function(t){return h?(lb(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)i=t.iterator;else if(f)i=t;else{if(!(r=pb(t)))throw new yb(ub(t)+" is not iterable");if(cb(r)){for(o=0,s=hb(t);s>o;o++)if((a=g(t[o]))&&db(mb,a))return a;return new gb(!1)}i=fb(t,r)}for(l=d?t.next:i.next;!(u=ab(l,i)).done;){try{a=g(u.value)}catch(t){vb(i,"throw",t)}if("object"==typeof a&&a&&db(mb,a))return a}return new gb(!1)},wb=ir,_b=Pn,kb=ct,xb=Ll,Sb=lu,Eb=function(t,e,n){for(var i=Wm(e),r=qm.f,o=$m.f,s=0;s<i.length;s++){var a=i[s];Vm(t,a)||n&&Vm(n,a)||r(t,a,o(e,a))}},Ob=Gr,Tb=wn,Ib=H,Cb=function(t,e){Ym(e)&&"cause"in e&&Xm(t,"cause",e.cause)},Db=function(t,e,n,i){rb&&(ob?ob(t,e):nb(t,"stack",ib(n,i)))},Ab=bb,Pb=function(t,e){return void 0===t?arguments.length<2?"":e:wb(t)},Mb=ve("toStringTag"),Nb=Error,Fb=[].push,Bb=function(t,e){var n,i=kb(Lb,this);Sb?n=Sb(new Nb,i?xb(this):Lb):(n=i?this:Ob(Lb),Tb(n,Mb,"Error")),void 0!==e&&Tb(n,"message",Pb(e)),Db(n,Bb,n.stack,1),arguments.length>2&&Cb(n,arguments[2]);var r=[];return Ab(t,Fb,{that:r}),Tb(n,"errors",r),n};Sb?Sb(Bb,Nb):Eb(Bb,Nb,{name:!0});var Lb=Bb.prototype=Ob(Nb.prototype,{constructor:Ib(1,Bb),message:Ib(1,""),name:Ib(1,"AggregateError")});_b({global:!0,constructor:!0,arity:2},{AggregateError:Bb});var jb,zb,Rb,Ub,Hb=ut,Vb=yo,Wb=P,$b=ve("species"),qb=function(t){var e=Hb(t);Wb&&e&&!e[$b]&&Vb(e,$b,{configurable:!0,get:function(){return this}})},Yb=ct,Xb=TypeError,Gb=function(t,e){if(Yb(e,t))return t;throw new Xb("Incorrect invocation")},Kb=sn,Qb=Hg,Jb=X,Zb=ve("species"),tw=function(t,e){var n,i=Kb(t).constructor;return void 0===i||Jb(n=Kb(i)[Zb])?e:Qb(n)},ew=/(?:ipad|iphone|ipod).*applewebkit/i.test(ht),nw=a,iw=p,rw=Ze,ow=D,sw=ee,aw=l,lw=Pr,uw=Ba,cw=Ce,hw=vv,dw=ew,fw=mh,pw=nw.setImmediate,vw=nw.clearImmediate,yw=nw.process,gw=nw.Dispatch,mw=nw.Function,bw=nw.MessageChannel,ww=nw.String,_w=0,kw={},xw="onreadystatechange";aw((function(){jb=nw.location}));var Sw=function(t){if(sw(kw,t)){var e=kw[t];delete kw[t],e()}},Ew=function(t){return function(){Sw(t)}},Ow=function(t){Sw(t.data)},Tw=function(t){nw.postMessage(ww(t),jb.protocol+"//"+jb.host)};pw&&vw||(pw=function(t){hw(arguments.length,1);var e=ow(t)?t:mw(t),n=uw(arguments,1);return kw[++_w]=function(){iw(e,void 0,n)},zb(_w),_w},vw=function(t){delete kw[t]},fw?zb=function(t){yw.nextTick(Ew(t))}:gw&&gw.now?zb=function(t){gw.now(Ew(t))}:bw&&!dw?(Ub=(Rb=new bw).port2,Rb.port1.onmessage=Ow,zb=rw(Ub.postMessage,Ub)):nw.addEventListener&&ow(nw.postMessage)&&!nw.importScripts&&jb&&"file:"!==jb.protocol&&!aw(Tw)?(zb=Tw,nw.addEventListener("message",Ow,!1)):zb=xw in cw("script")?function(t){lw.appendChild(cw("script"))[xw]=function(){lw.removeChild(this),Sw(t)}}:function(t){setTimeout(Ew(t),0)});var Iw={set:pw,clear:vw},Cw=function(){this.head=null,this.tail=null};Cw.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Dw,Aw,Pw,Mw,Nw,Fw=Cw,Bw=/ipad|iphone|ipod/i.test(ht)&&"undefined"!=typeof Pebble,Lw=/web0s(?!.*chrome)/i.test(ht),jw=a,zw=Ze,Rw=A.f,Uw=Iw.set,Hw=Fw,Vw=ew,Ww=Bw,$w=Lw,qw=mh,Yw=jw.MutationObserver||jw.WebKitMutationObserver,Xw=jw.document,Gw=jw.process,Kw=jw.Promise,Qw=Rw(jw,"queueMicrotask"),Jw=Qw&&Qw.value;if(!Jw){var Zw=new Hw,t_=function(){var t,e;for(qw&&(t=Gw.domain)&&t.exit();e=Zw.get();)try{e()}catch(t){throw Zw.head&&Dw(),t}t&&t.enter()};Vw||qw||$w||!Yw||!Xw?!Ww&&Kw&&Kw.resolve?((Mw=Kw.resolve(void 0)).constructor=Kw,Nw=zw(Mw.then,Mw),Dw=function(){Nw(t_)}):qw?Dw=function(){Gw.nextTick(t_)}:(Uw=zw(Uw,jw),Dw=function(){Uw(t_)}):(Aw=!0,Pw=Xw.createTextNode(""),new Yw(t_).observe(Pw,{characterData:!0}),Dw=function(){Pw.data=Aw=!Aw}),Jw=function(t){Zw.head||Dw(),Zw.add(t)}}var e_=Jw,n_=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},i_=a.Promise,r_="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,o_=!r_&&!mh&&"object"==typeof window&&"object"==typeof document,s_=a,a_=i_,l_=D,u_=Ge,c_=vi,h_=ve,d_=o_,f_=r_,p_=mt,v_=a_&&a_.prototype,y_=h_("species"),g_=!1,m_=l_(s_.PromiseRejectionEvent),b_=u_("Promise",(function(){var t=c_(a_),e=t!==String(a_);if(!e&&66===p_)return!0;if(!v_.catch||!v_.finally)return!0;if(!p_||p_<51||!/native code/.test(t)){var n=new a_((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[y_]=i,!(g_=n.then((function(){}))instanceof i))return!0}return!e&&(d_||f_)&&!m_})),w_={CONSTRUCTOR:b_,REJECTION_EVENT:m_,SUBCLASSING:g_},__={},k_=Nt,x_=TypeError,S_=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new x_("Bad Promise constructor");e=t,n=i})),this.resolve=k_(e),this.reject=k_(n)};__.f=function(t){return new S_(t)};var E_,O_,T_=Pn,I_=mh,C_=a,D_=F,A_=po,P_=Ro,M_=qb,N_=Nt,F_=D,B_=it,L_=Gb,j_=tw,z_=Iw.set,R_=e_,U_=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},H_=n_,V_=Fw,W_=ns,$_=i_,q_=w_,Y_=__,X_="Promise",G_=q_.CONSTRUCTOR,K_=q_.REJECTION_EVENT,Q_=W_.getterFor(X_),J_=W_.set,Z_=$_&&$_.prototype,tk=$_,ek=Z_,nk=C_.TypeError,ik=C_.document,rk=C_.process,ok=Y_.f,sk=ok,ak=!!(ik&&ik.createEvent&&C_.dispatchEvent),lk="unhandledrejection",uk=function(t){var e;return!(!B_(t)||!F_(e=t.then))&&e},ck=function(t,e){var n,i,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{a?(s||(2===e.rejection&&vk(e),e.rejection=1),!0===a?n=o:(c&&c.enter(),n=a(o),c&&(c.exit(),r=!0)),n===t.promise?u(new nk("Promise-chain cycle")):(i=uk(n))?D_(i,n,l,u):l(n)):u(o)}catch(t){c&&!r&&c.exit(),u(t)}},hk=function(t,e){t.notified||(t.notified=!0,R_((function(){for(var n,i=t.reactions;n=i.get();)ck(n,t);t.notified=!1,e&&!t.rejection&&fk(t)})))},dk=function(t,e,n){var i,r;ak?((i=ik.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),C_.dispatchEvent(i)):i={promise:e,reason:n},!K_&&(r=C_["on"+t])?r(i):t===lk&&U_("Unhandled promise rejection",n)},fk=function(t){D_(z_,C_,(function(){var e,n=t.facade,i=t.value;if(pk(t)&&(e=H_((function(){I_?rk.emit("unhandledRejection",i,n):dk(lk,n,i)})),t.rejection=I_||pk(t)?2:1,e.error))throw e.value}))},pk=function(t){return 1!==t.rejection&&!t.parent},vk=function(t){D_(z_,C_,(function(){var e=t.facade;I_?rk.emit("rejectionHandled",e):dk("rejectionhandled",e,t.value)}))},yk=function(t,e,n){return function(i){t(e,i,n)}},gk=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,hk(t,!0))},mk=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new nk("Promise can't be resolved itself");var i=uk(e);i?R_((function(){var n={done:!1};try{D_(i,e,yk(mk,n,t),yk(gk,n,t))}catch(e){gk(n,e,t)}})):(t.value=e,t.state=1,hk(t,!1))}catch(e){gk({done:!1},e,t)}}};G_&&(ek=(tk=function(t){L_(this,ek),N_(t),D_(E_,this);var e=Q_(this);try{t(yk(mk,e),yk(gk,e))}catch(t){gk(e,t)}}).prototype,(E_=function(t){J_(this,{type:X_,done:!1,notified:!1,parent:!1,reactions:new V_,rejection:!1,state:0,value:void 0})}).prototype=A_(ek,"then",(function(t,e){var n=Q_(this),i=ok(j_(this,tk));return n.parent=!0,i.ok=!F_(t)||t,i.fail=F_(e)&&e,i.domain=I_?rk.domain:void 0,0===n.state?n.reactions.add(i):R_((function(){ck(i,n)})),i.promise})),O_=function(){var t=new E_,e=Q_(t);this.promise=t,this.resolve=yk(mk,e),this.reject=yk(gk,e)},Y_.f=ok=function(t){return t===tk||void 0===t?new O_(t):sk(t)}),T_({global:!0,constructor:!0,wrap:!0,forced:G_},{Promise:tk}),P_(tk,X_,!1,!0),M_(X_);var bk=i_,wk=w_.CONSTRUCTOR||!jd((function(t){bk.all(t).then(void 0,(function(){}))})),_k=F,kk=Nt,xk=__,Sk=n_,Ek=bb;Pn({target:"Promise",stat:!0,forced:wk},{all:function(t){var e=this,n=xk.f(e),i=n.resolve,r=n.reject,o=Sk((function(){var n=kk(e.resolve),o=[],s=0,a=1;Ek(t,(function(t){var l=s++,u=!1;a++,_k(n,e,t).then((function(t){u||(u=!0,o[l]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var Ok=Pn,Tk=w_.CONSTRUCTOR;i_&&i_.prototype,Ok({target:"Promise",proto:!0,forced:Tk,real:!0},{catch:function(t){return this.then(void 0,t)}});var Ik=F,Ck=Nt,Dk=__,Ak=n_,Pk=bb;Pn({target:"Promise",stat:!0,forced:wk},{race:function(t){var e=this,n=Dk.f(e),i=n.reject,r=Ak((function(){var r=Ck(e.resolve);Pk(t,(function(t){Ik(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var Mk=F,Nk=__;Pn({target:"Promise",stat:!0,forced:w_.CONSTRUCTOR},{reject:function(t){var e=Nk.f(this);return Mk(e.reject,void 0,t),e.promise}});var Fk=sn,Bk=it,Lk=__,jk=function(t,e){if(Fk(t),Bk(e)&&e.constructor===t)return e;var n=Lk.f(t);return(0,n.resolve)(e),n.promise},zk=Pn,Rk=i_,Uk=w_.CONSTRUCTOR,Hk=jk,Vk=ut("Promise"),Wk=!Uk;zk({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Hk(Wk&&this===Vk?Rk:this,t)}});var $k=F,qk=Nt,Yk=__,Xk=n_,Gk=bb;Pn({target:"Promise",stat:!0,forced:wk},{allSettled:function(t){var e=this,n=Yk.f(e),i=n.resolve,r=n.reject,o=Xk((function(){var n=qk(e.resolve),r=[],o=0,s=1;Gk(t,(function(t){var a=o++,l=!1;s++,$k(n,e,t).then((function(t){l||(l=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){l||(l=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var Kk=F,Qk=Nt,Jk=ut,Zk=__,tx=n_,ex=bb,nx="No one promise resolved";Pn({target:"Promise",stat:!0,forced:wk},{any:function(t){var e=this,n=Jk("AggregateError"),i=Zk.f(e),r=i.resolve,o=i.reject,s=tx((function(){var i=Qk(e.resolve),s=[],a=0,l=1,u=!1;ex(t,(function(t){var c=a++,h=!1;l++,Kk(i,e,t).then((function(t){h||u||(u=!0,r(t))}),(function(t){h||u||(h=!0,s[c]=t,--l||o(new n(s,nx)))}))})),--l||o(new n(s,nx))}));return s.error&&o(s.value),i.promise}});var ix=Pn,rx=i_,ox=l,sx=ut,ax=D,lx=tw,ux=jk,cx=rx&&rx.prototype;ix({target:"Promise",proto:!0,real:!0,forced:!!rx&&ox((function(){cx.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=lx(this,sx("Promise")),n=ax(t);return this.then(n?function(n){return ux(e,t()).then((function(){return n}))}:t,n?function(n){return ux(e,t()).then((function(){throw n}))}:t)}});var hx=rt.Promise,dx=__;Pn({target:"Promise",stat:!0},{withResolvers:function(){var t=dx.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var fx=hx,px=__,vx=n_;Pn({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=px.f(this),n=vx(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var yx=fx,gx=mp;!function(t){var e=Um.default,n=zn,i=vc,r=Im,o=Bm,s=Hm,a=af,l=Dm,u=yx,c=gx,h=If;function d(){t.exports=d=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},v=Object.prototype,y=v.hasOwnProperty,g=n||function(t,e,n){t[e]=n.value},m="function"==typeof i?i:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",_=m.toStringTag||"@@toStringTag";function k(t,e,i){return n(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{k({},"")}catch(f){k=function(t,e,n){return t[e]=n}}function x(t,e,n,i){var o=e&&e.prototype instanceof D?e:D,s=r(o.prototype),a=new H(i||[]);return g(s,"_invoke",{value:j(t,n,a)}),s}function S(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}p.wrap=x;var E="suspendedStart",O="suspendedYield",T="executing",I="completed",C={};function D(){}function A(){}function P(){}var M={};k(M,b,(function(){return this}));var N=o&&o(o(V([])));N&&N!==v&&y.call(N,b)&&(M=N);var F=P.prototype=D.prototype=r(M);function B(t){var e;s(e=["next","throw","return"]).call(e,(function(e){k(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,n){function i(r,o,s,a){var l=S(t[r],t,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==e(c)&&y.call(c,"__await")?n.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):n.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var r;g(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,r){i(t,e,n,r)}))}return r=r?r.then(o,o):o()}})}function j(t,e,n){var i=E;return function(r,o){if(i===T)throw new Error("Generator is already running");if(i===I){if("throw"===r)throw o;return{value:f,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=z(s,n);if(a){if(a===C)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=T;var l=S(t,e,n);if("normal"===l.type){if(i=n.done?I:O,l.arg===C)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=I,n.method="throw",n.arg=l.arg)}}}function z(t,e){var n=e.method,i=t.iterator[n];if(i===f)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=f,z(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),C;var r=S(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,C;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,C):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function R(t){var e,n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),a(e=this.tryEntries).call(e,n)}function U(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function H(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,R,this),this.reset(!0)}function V(t){if(t||""===t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(y.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=f,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return A.prototype=P,g(F,"constructor",{value:P,configurable:!0}),g(P,"constructor",{value:A,configurable:!0}),A.displayName=k(P,_,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return l?l(t,P):(t.__proto__=P,k(t,_,"GeneratorFunction")),t.prototype=r(F),t},p.awrap=function(t){return{__await:t}},B(L.prototype),k(L.prototype,w,(function(){return this})),p.AsyncIterator=L,p.async=function(t,e,n,i,r){void 0===r&&(r=u);var o=new L(x(t,e,n,i),r);return p.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},B(F),k(F,_,"Generator"),k(F,b,(function(){return this})),k(F,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=Object(t),n=[];for(var i in e)a(n).call(n,i);return c(n).call(n),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},p.values=V,H.prototype={constructor:H,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(e=this.tryEntries).call(e,U),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+h(n).call(n,1))&&(this[n]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=f),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),U(n),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;U(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:V(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=f),C}},p}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}(zm);var mx=(0,zm.exports)(),bx=mx;try{regeneratorRuntime=mx}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=mx:Function("r","regeneratorRuntime = r")(mx)}var wx=r(bx),_x={exports:{}},kx=l((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),xx=l,Sx=it,Ex=x,Ox=kx,Tx=Object.isExtensible,Ix=xx((function(){Tx(1)}))||Ox?function(t){return!!Sx(t)&&(!Ox||"ArrayBuffer"!==Ex(t))&&(!Tx||Tx(t))}:Tx,Cx=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),Dx=Pn,Ax=b,Px=pr,Mx=it,Nx=ee,Fx=tn.f,Bx=Kr,Lx=Zr,jx=Ix,zx=Cx,Rx=!1,Ux=se("meta"),Hx=0,Vx=function(t){Fx(t,Ux,{value:{objectID:"O"+Hx++,weakData:{}}})},Wx=_x.exports={enable:function(){Wx.enable=function(){},Rx=!0;var t=Bx.f,e=Ax([].splice),n={};n[Ux]=1,t(n).length&&(Bx.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===Ux){e(i,r,1);break}return i},Dx({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Lx.f}))},fastKey:function(t,e){if(!Mx(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Nx(t,Ux)){if(!jx(t))return"F";if(!e)return"E";Vx(t)}return t[Ux].objectID},getWeakData:function(t,e){if(!Nx(t,Ux)){if(!jx(t))return!0;if(!e)return!1;Vx(t)}return t[Ux].weakData},onFreeze:function(t){return zx&&Rx&&jx(t)&&!Nx(t,Ux)&&Vx(t),t}};Px[Ux]=!0;var $x=_x.exports,qx=Pn,Yx=a,Xx=$x,Gx=l,Kx=wn,Qx=bb,Jx=Gb,Zx=D,tS=it,eS=X,nS=Ro,iS=tn.f,rS=cs.forEach,oS=P,sS=ns.set,aS=ns.getterFor,lS=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Yx[t],l=a&&a.prototype,u={};if(oS&&Zx(a)&&(o||l.forEach&&!Gx((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){sS(Jx(e,c),{type:t,collection:new a}),eS(n)||Qx(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=aS(t);rS(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in l)||o&&"clear"===t||Kx(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!tS(n))return"get"===t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||iS(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Xx.enable();return nS(i,t,!1,!0),u[t]=i,qx({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},uS=po,cS=Gr,hS=yo,dS=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:uS(t,i,e[i],n);return t},fS=Ze,pS=Gb,vS=X,yS=bb,gS=Su,mS=Eu,bS=qb,wS=P,_S=$x.fastKey,kS=ns.set,xS=ns.getterFor,SS={getConstructor:function(t,e,n,i){var r=t((function(t,r){pS(t,o),kS(t,{type:e,index:cS(null),first:void 0,last:void 0,size:0}),wS||(t.size=0),vS(r)||yS(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=xS(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=_S(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),wS?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=_S(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===e)return n};return dS(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,wS?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),wS?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=fS(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),dS(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),wS&&hS(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=xS(e),o=xS(i);gS(t,e,(function(t,e){kS(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?mS("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,mS(void 0,!0))}),n?"entries":"values",!n,!0),bS(e)}};lS("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),SS);var ES=r(rt.Map),OS=cs.some;Pn({target:"Array",proto:!0,forced:!gh("some")},{some:function(t){return OS(this,t,arguments.length>1?arguments[1]:void 0)}});var TS=nh("Array","some"),IS=ct,CS=TS,DS=Array.prototype,AS=r((function(t){var e=t.some;return t===DS||IS(DS,t)&&e===DS.some?CS:e})),PS=nh("Array","keys"),MS=hi,NS=ee,FS=ct,BS=PS,LS=Array.prototype,jS={DOMTokenList:!0,NodeList:!0},zS=r((function(t){var e=t.keys;return t===LS||FS(LS,t)&&e===LS.keys||NS(jS,MS(t))?BS:e})),RS=oo,US=Math.floor,HS=function(t,e){var n=t.length,i=US(n/2);return n<8?VS(t,e):WS(t,HS(RS(t,0,i),e),HS(RS(t,i),e),e)},VS=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},WS=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},$S=HS,qS=ht.match(/firefox\/(\d+)/i),YS=!!qS&&+qS[1],XS=/MSIE|Trident/.test(ht),GS=ht.match(/AppleWebKit\/(\d+)\./),KS=!!GS&&+GS[1],QS=Pn,JS=b,ZS=Nt,tE=Jt,eE=Kn,nE=kp,iE=ir,rE=l,oE=$S,sE=gh,aE=YS,lE=XS,uE=mt,cE=KS,hE=[],dE=JS(hE.sort),fE=JS(hE.push),pE=rE((function(){hE.sort(void 0)})),vE=rE((function(){hE.sort(null)})),yE=sE("sort"),gE=!rE((function(){if(uE)return uE<70;if(!(aE&&aE>3)){if(lE)return!0;if(cE)return cE<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)hE.push({k:e+i,v:n})}for(hE.sort((function(t,e){return e.v-t.v})),i=0;i<hE.length;i++)e=hE[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));QS({target:"Array",proto:!0,forced:pE||!vE||!yE||!gE},{sort:function(t){void 0!==t&&ZS(t);var e=tE(this);if(gE)return void 0===t?dE(e):dE(e,t);var n,i,r=[],o=eE(e);for(i=0;i<o;i++)i in e&&fE(r,e[i]);for(oE(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:iE(e)>iE(n)?1:-1}}(t)),n=eE(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)nE(e,i++);return e}});var mE=nh("Array","sort"),bE=ct,wE=mE,_E=Array.prototype,kE=r((function(t){var e=t.sort;return t===_E||bE(_E,t)&&e===_E.sort?wE:e})),xE=nh("Array","values"),SE=hi,EE=ee,OE=ct,TE=xE,IE=Array.prototype,CE={DOMTokenList:!0,NodeList:!0},DE=r((function(t){var e=t.values;return t===IE||OE(IE,t)&&e===IE.values||EE(CE,SE(t))?TE:e})),AE=r(Mc),PE=nh("Array","entries"),ME=hi,NE=ee,FE=ct,BE=PE,LE=Array.prototype,jE={DOMTokenList:!0,NodeList:!0},zE=r((function(t){var e=t.entries;return t===LE||FE(LE,t)&&e===LE.entries||NE(jE,ME(t))?BE:e}));let RE;const UE=new Uint8Array(16);function HE(){if(!RE&&(RE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!RE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return RE(UE)}const VE=[];for(let n=0;n<256;++n)VE.push((n+256).toString(16).slice(1));var WE={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $E(t,e,n){if(WE.randomUUID&&!e&&!t)return WE.randomUUID();const i=(t=t||{}).random||(t.rng||HE)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return VE[t[e+0]]+VE[t[e+1]]+VE[t[e+2]]+VE[t[e+3]]+"-"+VE[t[e+4]]+VE[t[e+5]]+"-"+VE[t[e+6]]+VE[t[e+7]]+"-"+VE[t[e+8]]+VE[t[e+9]]+"-"+VE[t[e+10]]+VE[t[e+11]]+VE[t[e+12]]+VE[t[e+13]]+VE[t[e+14]]+VE[t[e+15]]}(i)}function qE(t){return"string"==typeof t||"number"==typeof t}var YE=function(){function t(n){e(this,t),Uc(this,"_queue",[]),Uc(this,"_timeout",null),Uc(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(n)}return Rc(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Pv((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;up(t=Rp(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),XE=function(){function t(){e(this,t),Uc(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Uc(this,"subscribe",t.prototype.on),Uc(this,"unsubscribe",t.prototype.off)}return Rc(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");up(i=Rf(r=[]).call(r,Nf(this._subscribers[t]),Nf(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=Dh(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();lS("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),SS);var GE=r(rt.Set),KE=r(kd);function QE(t,e){var n=void 0!==Ff&&Wd(t)||t["@@iterator"];if(!n){if(Gf(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return JE(t,e);var i=Uf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ud(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?JE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function JE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ZE=function(t){function n(t){e(this,n),this._pairs=t}return Rc(n,[{key:t,value:wx.mark((function t(){var e,n,i,r,o;return wx.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=QE(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Mf(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:wx.mark((function t(){var e,n,i,r,o;return wx.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=QE(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Mf(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:wx.mark((function t(){var e,n,i,r;return wx.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=QE(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Mf(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:wx.mark((function t(){var e,n,i,r;return wx.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=QE(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Mf(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return Bh(t=Nf(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return Bh(t=Nf(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Nf(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=lv(null),n=QE(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=Mf(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"toMap",value:function(){return new ES(this._pairs)}},{key:"toIdSet",value:function(){return new GE(this.toIdArray())}},{key:"toItemSet",value:function(){return new GE(this.toItemArray())}},{key:"cache",value:function(){return new n(Nf(this._pairs))}},{key:"distinct",value:function(t){var e,n=new GE,i=QE(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=Mf(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"filter",value:function(t){var e=this._pairs;return new n({[AE]:()=>wx.mark((function n(){var i,r,o,s,a;return wx.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=QE(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=10;break}if(o=Mf(r.value,2),s=o[0],a=o[1],!t(a,s)){n.next=8;break}return n.next=8,[s,a];case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,n=QE(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=Mf(e.value,2),r=i[0];t(i[1],r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"map",value:function(t){var e=this._pairs;return new n({[AE]:()=>wx.mark((function n(){var i,r,o,s,a;return wx.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=QE(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=9;break}return o=Mf(r.value,2),s=o[0],a=o[1],n.next=7,[s,t(a,s)];case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i.e(n.t0);case 14:return n.prev=14,i.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=KE(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Mf(n.value,2),s=o[0],a=o[1],l=t(a,s);l>r&&(r=l,i=a)}return i}},{key:"min",value:function(t){var e=KE(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Mf(n.value,2),s=o[0],a=o[1],l=t(a,s);l<r&&(r=l,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=QE(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=Mf(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"sort",value:function(t){var e=this;return new n({[AE]:function(){var n;return KE(kE(n=Nf(e._pairs)).call(n,(function(e,n){var i=Mf(e,2),r=i[0],o=i[1],s=Mf(n,2),a=s[0],l=s[1];return t(o,l,r,a)})))}})}}]),n}(AE);function tO(t,e){var n=Jf(t);if(rm){var i=rm(t);e&&(i=Dh(i).call(i,(function(e){return fm(t,e).enumerable}))),n.push.apply(n,i)}return n}function eO(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?up(n=tO(Object(r),!0)).call(n,(function(e){Uc(t,e,r[e])})):mm?Em(t,mm(r)):up(i=tO(Object(r))).call(i,(function(e){Om(t,e,fm(r,e))}))}return t}function nO(t,e){var n=void 0!==Ff&&Wd(t)||t["@@iterator"];if(!n){if(Gf(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return iO(t,e);var i=Uf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ud(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?iO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function iO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function rO(t){var e=function(){if("undefined"==typeof Reflect||!im)return!1;if(im.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(im(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jm(t);if(e){var r=jm(this).constructor;n=im(i,arguments,r)}else n=i.apply(this,arguments);return Fm(this,n)}}var oO=function(t){Nm(i,t);var n=rO(i);function i(t,r){var o;return e(this,i),Uc(Tm(o=n.call(this)),"_queue",null),t&&!Gf(t)&&(r=t,t=[]),o._options=r||{},o._data=new ES,o.length=0,o._idProp=o._options.fieldId||"id",t&&t.length&&o.add(t),o.setOptions(r),o}return Rc(i,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=YE.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(Gf(t)){var o=Bh(t).call(t,(function(t){return t[i._idProp]}));if(AS(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var l=t,u=ev({},n._data.get(e)),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(t);i.push(h)}};if(Gf(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"==typeof t[u]?l(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");l(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var h={items:r,oldData:o,data:s};this._trigger("update",h,e)}return Rf(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;Gf(t)||(t=[t]);var r=Bh(n=Bh(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Mg.apply(void 0,Rf(e=[{},t]).call(e,i))}(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:Bh(r).call(r,(function(t){return t.id})),oldData:Bh(r).call(r,(function(t){return t.oldData})),data:Bh(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;qE(t)?(n=t,r=e):Gf(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&Dh(r),l=[],u=void 0,c=void 0,h=void 0;if(null!=n)(u=this._data.get(n))&&a&&!a(u)&&(u=void 0);else if(null!=i)for(var d=0,f=i.length;d<f;d++)null==(u=this._data.get(i[d]))||a&&!a(u)||l.push(u);else for(var p,v=0,y=(c=Nf(zS(p=this._data).call(p))).length;v<y;v++)h=c[v],null==(u=this._data.get(h))||a&&!a(u)||l.push(u);if(r&&r.order&&null==n&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(null!=n&&null!=u)u=this._filterFields(u,g);else for(var m=0,b=l.length;m<b;m++)l[m]=this._filterFields(l[m],g)}if("Object"==s){for(var w={},_=0,k=l.length;_<k;_++){var x=l[_];w[x[this._idProp]]=x}return w}return null!=n?null!==(o=u)&&void 0!==o?o:null:l}},{key:"getIds",value:function(t){var e=this._data,n=t&&Dh(t),i=t&&t.order,r=Nf(zS(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,l=r.length;a<l;a++){var u=r[a],c=this._data.get(u);null!=c&&n(c)&&s.push(c)}this._sort(s,i);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var f=0,p=r.length;f<p;f++){var v=r[f],y=this._data.get(v);null!=y&&n(y)&&o.push(y[this._idProp])}else if(i){for(var g=[],m=0,b=r.length;m<b;m++){var w=r[m];g.push(e.get(w))}this._sort(g,i);for(var _=0,k=g.length;_<k;_++)o.push(g[_][this._idProp])}else for(var x=0,S=r.length;x<S;x++){var E=r[x],O=e.get(E);null!=O&&o.push(O[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&Dh(e),i=this._data,r=Nf(zS(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var l=o[s];t(l,l[this._idProp])}else for(var u=0,c=r.length;u<c;u++){var h=r[u],d=this._data.get(h);null==d||n&&!n(d)||t(d,h)}}},{key:"map",value:function(t,e){for(var n=e&&Dh(e),i=[],r=this._data,o=Nf(zS(r).call(r)),s=0,a=o.length;s<a;s++){var l=o[s],u=this._data.get(l);null==u||n&&!n(u)||i.push(t(u,l))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?Sh(n=Gf(e)?e:Jf(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var n=e;kE(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");kE(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=Gf(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(qE(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=Nf(zS(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=nO(DE(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=nO(DE(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=Nf(zS(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],l=e.get(a)[t],u=!1,c=0;c<r;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[r]=l,r++)}return i}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=$E()),t}(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+dv(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,eO(eO({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new ZE({[AE]:()=>wx.mark((function n(){var i,r,o,s;return wx.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=nO(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))()})}var n;return new ZE({[AE]:lh(n=zE(this._data)).call(n,this._data)})}}]),i}(XE);function sO(t,e){var n=void 0!==Ff&&Wd(t)||t["@@iterator"];if(!n){if(Gf(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return aO(t,e);var i=Uf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ud(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function aO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function lO(t){var e=function(){if("undefined"==typeof Reflect||!im)return!1;if(im.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(im(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jm(t);if(e){var r=jm(this).constructor;n=im(i,arguments,r)}else n=i.apply(this,arguments);return Fm(this,n)}}var uO=function(t){Nm(i,t);var n=lO(i);function i(t,r){var o,s;return e(this,i),Uc(Tm(s=n.call(this)),"length",0),Uc(Tm(s),"_ids",new GE),s._options=r||{},s._listener=lh(o=s._onEvent).call(o,Tm(s)),s.setData(t),s}return Rc(i,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:Dh(this._options)}),n=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:n})}if(null!=t){this._data=t;for(var i=this._data.getIds({filter:Dh(this._options)}),r=0,o=i.length;r<o;r++){var s=i[r];this._ids.add(s)}this.length=i.length,this._trigger("add",{items:i})}else this._data=new oO;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:Dh(this._options)}),e=Nf(this._ids),n={},i=[],r=[],o=[],s=0,a=t.length;s<a;s++){var l=t[s];n[l]=!0,this._ids.has(l)||(i.push(l),this._ids.add(l))}for(var u=0,c=e.length;u<c;u++){var h=e[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):n[h]||(r.push(h),o.push(d),this._ids.delete(h))}this.length+=i.length-r.length,i.length&&this._trigger("add",{items:i}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var n,i=null;qE(t)||Gf(t)?(i=t,n=e):n=t;var r=ev({},this._options,n),o=Dh(this._options),s=n&&Dh(n);return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,n=Dh(this._options),i=null!=t?Dh(t):null;return e=i?n?function(t){return n(t)&&i(t)}:i:n,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var n,i,r=Dh(this._options),o=e&&Dh(e);i=o?r?function(t){return r(t)&&o(t)}:o:r,up(n=this._data).call(n,t,{filter:i,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var n,i,r=Dh(this._options),o=e&&Dh(e);return i=o?r?function(t){return r(t)&&o(t)}:o:r,Bh(n=this._data).call(n,t,{filter:i,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||{[AE]:lh(e=zS(this._ids)).call(e,this._ids)})}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,n="This data view has already been disposed of.",r={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},o=sO(Xf(i.prototype));try{for(o.s();!(e=o.n()).done;){var s=e.value;Om(this,s,r)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_onEvent",value:function(t,e,n){if(e&&e.items&&this._data){var i=e.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(t){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=i.length;f<p;f++){var v=i[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),u.push(e.oldData[f]))}break;case"remove":for(var y=0,g=i.length;y<g;y++){var m=i[y];this._ids.has(m)&&(this._ids.delete(m),s.push(m),u.push(e.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),i}(XE);function cO(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof up(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Bh(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}t.DELETE=Pg,t.DataSet=oO,t.DataStream=ZE,t.DataView=uO,t.Queue=YE,t.createNewDataPipeFrom=function(t){return new Zh(t)},t.isDataSetLike=cO,t.isDataViewLike=function(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof up(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Bh(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&cO(t,e.getDataSet())}}(e)},212:function(t,e,n){!function(t,e){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){return t&&t.Math===Math&&t},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||i||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},l=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=l,c=Function.prototype,h=c.apply,d=c.call,f="object"==typeof Reflect&&Reflect.apply||(u?d.bind(h):function(){return d.apply(h,arguments)}),p=l,v=Function.prototype,y=v.call,g=p&&v.bind.bind(y,y),m=p?g:function(t){return function(){return y.apply(t,arguments)}},b=m,w=b({}.toString),_=b("".slice),k=function(t){return _(w(t),8,-1)},x=k,S=m,E=function(t){if("Function"===x(t))return S(t)},O="object"==typeof document&&document.all,T={all:O,IS_HTMLDDA:void 0===O&&void 0!==O},I=T.all,C=T.IS_HTMLDDA?function(t){return"function"==typeof t||t===I}:function(t){return"function"==typeof t},D={},A=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),P=l,M=Function.prototype.call,N=P?M.bind(M):function(){return M.apply(M,arguments)},F={},B={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,j=L&&!B.call({1:2},1);F.f=j?function(t){var e=L(this,t);return!!e&&e.enumerable}:B;var z,R,U=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},H=a,V=k,W=Object,$=m("".split),q=H((function(){return!W("z").propertyIsEnumerable(0)}))?function(t){return"String"===V(t)?$(t,""):W(t)}:W,Y=function(t){return null==t},X=Y,G=TypeError,K=function(t){if(X(t))throw new G("Can't call method on "+t);return t},Q=q,J=K,Z=function(t){return Q(J(t))},tt=C,et=T.all,nt=T.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},it={},rt=it,ot=s,st=C,at=function(t){return st(t)?t:void 0},lt=function(t,e){return arguments.length<2?at(rt[t])||at(ot[t]):rt[t]&&rt[t][e]||ot[t]&&ot[t][e]},ut=m({}.isPrototypeOf),ct="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ht=s,dt=ct,ft=ht.process,pt=ht.Deno,vt=ft&&ft.versions||pt&&pt.version,yt=vt&&vt.v8;yt&&(R=(z=yt.split("."))[0]>0&&z[0]<4?1:+(z[0]+z[1])),!R&&dt&&(!(z=dt.match(/Edge\/(\d+)/))||z[1]>=74)&&(z=dt.match(/Chrome\/(\d+)/))&&(R=+z[1]);var gt=R,mt=gt,bt=a,wt=s.String,_t=!!Object.getOwnPropertySymbols&&!bt((function(){var t=Symbol("symbol detection");return!wt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&mt&&mt<41})),kt=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xt=lt,St=C,Et=ut,Ot=Object,Tt=kt?function(t){return"symbol"==typeof t}:function(t){var e=xt("Symbol");return St(e)&&Et(e.prototype,Ot(t))},It=String,Ct=function(t){try{return It(t)}catch(t){return"Object"}},Dt=C,At=Ct,Pt=TypeError,Mt=function(t){if(Dt(t))return t;throw new Pt(At(t)+" is not a function")},Nt=Mt,Ft=Y,Bt=function(t,e){var n=t[e];return Ft(n)?void 0:Nt(n)},Lt=N,jt=C,zt=nt,Rt=TypeError,Ut={exports:{}},Ht=s,Vt=Object.defineProperty,Wt=function(t,e){try{Vt(Ht,t,{value:e,configurable:!0,writable:!0})}catch(i){Ht[t]=e}return e},$t="__core-js_shared__",qt=s[$t]||Wt($t,{}),Yt=qt;(Ut.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Xt=Ut.exports,Gt=K,Kt=Object,Qt=function(t){return Kt(Gt(t))},Jt=Qt,Zt=m({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return Zt(Jt(t),e)},ee=m,ne=0,ie=Math.random(),re=ee(1..toString),oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+re(++ne+ie,36)},se=Xt,ae=te,le=oe,ue=_t,ce=kt,he=s.Symbol,de=se("wks"),fe=ce?he.for||he:he&&he.withoutSetter||le,pe=function(t){return ae(de,t)||(de[t]=ue&&ae(he,t)?he[t]:fe("Symbol."+t)),de[t]},ve=N,ye=nt,ge=Tt,me=Bt,be=function(t,e){var n,i;if("string"===e&&jt(n=t.toString)&&!zt(i=Lt(n,t)))return i;if(jt(n=t.valueOf)&&!zt(i=Lt(n,t)))return i;if("string"!==e&&jt(n=t.toString)&&!zt(i=Lt(n,t)))return i;throw new Rt("Can't convert object to primitive value")},we=TypeError,_e=pe("toPrimitive"),ke=function(t,e){if(!ye(t)||ge(t))return t;var n,i=me(t,_e);if(i){if(void 0===e&&(e="default"),n=ve(i,t,e),!ye(n)||ge(n))return n;throw new we("Can't convert object to primitive value")}return void 0===e&&(e="number"),be(t,e)},xe=Tt,Se=function(t){var e=ke(t,"string");return xe(e)?e:e+""},Ee=nt,Oe=s.document,Te=Ee(Oe)&&Ee(Oe.createElement),Ie=function(t){return Te?Oe.createElement(t):{}},Ce=Ie,De=!A&&!a((function(){return 7!==Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a})),Ae=A,Pe=N,Me=F,Ne=U,Fe=Z,Be=Se,Le=te,je=De,ze=Object.getOwnPropertyDescriptor;D.f=Ae?ze:function(t,e){if(t=Fe(t),e=Be(e),je)try{return ze(t,e)}catch(t){}if(Le(t,e))return Ne(!Pe(Me.f,t,e),t[e])};var Re=a,Ue=C,He=/#|\.prototype\./,Ve=function(t,e){var n=$e[We(t)];return n===Ye||n!==qe&&(Ue(e)?Re(e):!!e)},We=Ve.normalize=function(t){return String(t).replace(He,".").toLowerCase()},$e=Ve.data={},qe=Ve.NATIVE="N",Ye=Ve.POLYFILL="P",Xe=Ve,Ge=Mt,Ke=l,Qe=E(E.bind),Je=function(t,e){return Ge(t),void 0===e?t:Ke?Qe(t,e):function(){return t.apply(e,arguments)}},Ze={},tn=A&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),en=nt,nn=String,rn=TypeError,on=function(t){if(en(t))return t;throw new rn(nn(t)+" is not an object")},sn=A,an=De,ln=tn,un=on,cn=Se,hn=TypeError,dn=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,pn="enumerable",vn="configurable",yn="writable";Ze.f=sn?ln?function(t,e,n){if(un(t),e=cn(e),un(n),"function"==typeof t&&"prototype"===e&&"value"in n&&yn in n&&!n[yn]){var i=fn(t,e);i&&i[yn]&&(t[e]=n.value,n={configurable:vn in n?n[vn]:i[vn],enumerable:pn in n?n[pn]:i[pn],writable:!1})}return dn(t,e,n)}:dn:function(t,e,n){if(un(t),e=cn(e),un(n),an)try{return dn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new hn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var gn=Ze,mn=U,bn=A?function(t,e,n){return gn.f(t,e,mn(1,n))}:function(t,e,n){return t[e]=n,t},wn=s,_n=f,kn=E,xn=C,Sn=D.f,En=Xe,On=it,Tn=Je,In=bn,Cn=te,Dn=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return _n(t,this,arguments)};return e.prototype=t.prototype,e},An=function(t,e){var n,i,r,o,s,a,l,u,c,h=t.target,d=t.global,f=t.stat,p=t.proto,v=d?wn:f?wn[h]:(wn[h]||{}).prototype,y=d?On:On[h]||In(On,h,{})[h],g=y.prototype;for(o in e)i=!(n=En(d?o:h+(f?".":"#")+o,t.forced))&&v&&Cn(v,o),a=y[o],i&&(l=t.dontCallGetSet?(c=Sn(v,o))&&c.value:v[o]),s=i&&l?l:e[o],i&&typeof a==typeof s||(u=t.bind&&i?Tn(s,wn):t.wrap&&i?Dn(s):p&&xn(s)?kn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&In(u,"sham",!0),In(y,o,u),p&&(Cn(On,r=h+"Prototype")||In(On,r,{}),In(On[r],o,s),t.real&&g&&(n||!g[o])&&In(g,o,s)))},Pn=Math.ceil,Mn=Math.floor,Nn=Math.trunc||function(t){var e=+t;return(e>0?Mn:Pn)(e)},Fn=function(t){var e=+t;return e!=e||0===e?0:Nn(e)},Bn=Fn,Ln=Math.max,jn=Math.min,zn=function(t,e){var n=Bn(t);return n<0?Ln(n+e,0):jn(n,e)},Rn=Fn,Un=Math.min,Hn=function(t){return t>0?Un(Rn(t),9007199254740991):0},Vn=function(t){return Hn(t.length)},Wn=Z,$n=zn,qn=Vn,Yn=function(t){return function(e,n,i){var r,o=Wn(e),s=qn(o),a=$n(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Xn={includes:Yn(!0),indexOf:Yn(!1)},Gn={},Kn=te,Qn=Z,Jn=Xn.indexOf,Zn=Gn,ti=m([].push),ei=function(t,e){var n,i=Qn(t),r=0,o=[];for(n in i)!Kn(Zn,n)&&Kn(i,n)&&ti(o,n);for(;e.length>r;)Kn(i,n=e[r++])&&(~Jn(o,n)||ti(o,n));return o},ni=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ii=ei,ri=ni,oi=Object.keys||function(t){return ii(t,ri)},si={};si.f=Object.getOwnPropertySymbols;var ai=A,li=m,ui=N,ci=a,hi=oi,di=si,fi=F,pi=Qt,vi=q,yi=Object.assign,gi=Object.defineProperty,mi=li([].concat),bi=!yi||ci((function(){if(ai&&1!==yi({b:1},yi(gi({},"a",{enumerable:!0,get:function(){gi(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==yi({},t)[n]||hi(yi({},e)).join("")!==i}))?function(t,e){for(var n=pi(t),i=arguments.length,r=1,o=di.f,s=fi.f;i>r;)for(var a,l=vi(arguments[r++]),u=o?mi(hi(l),o(l)):hi(l),c=u.length,h=0;c>h;)a=u[h++],ai&&!ui(s,l,a)||(n[a]=l[a]);return n}:yi,wi=bi;An({target:"Object",stat:!0,arity:2,forced:Object.assign!==wi},{assign:wi});var _i=r(it.Object.assign),ki=m([].slice),xi=m,Si=Mt,Ei=nt,Oi=te,Ti=ki,Ii=l,Ci=Function,Di=xi([].concat),Ai=xi([].join),Pi={},Mi=Ii?Ci.bind:function(t){var e=Si(this),n=e.prototype,i=Ti(arguments,1),r=function(){var n=Di(i,Ti(arguments));return this instanceof r?function(t,e,n){if(!Oi(Pi,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Pi[e]=Ci("C,a","return new C("+Ai(i,",")+")")}return Pi[e](t,n)}(e,n.length,n):e.apply(t,n)};return Ei(n)&&(r.prototype=n),r},Ni=Mi;An({target:"Function",proto:!0,forced:Function.bind!==Ni},{bind:Ni});var Fi=it,Bi=function(t){return Fi[t+"Prototype"]},Li=Bi("Function").bind,ji=ut,zi=Li,Ri=Function.prototype,Ui=function(t){var e=t.bind;return t===Ri||ji(Ri,t)&&e===Ri.bind?zi:e},Hi=Ui,Vi=r(Hi);function Wi(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.closePath()}function $i(t,e,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.arc(e+i-o,n+o,o,270*s,360*s,!1),t.lineTo(e+i,n+r-o),t.arc(e+i-o,n+r-o,o,0,90*s,!1),t.lineTo(e+o,n+r),t.arc(e+o,n+r-o,o,90*s,180*s,!1),t.lineTo(e,n+o),t.arc(e+o,n+o,o,180*s,270*s,!1),t.closePath()}function qi(t,e,n,i,r){var o=.5522848,s=i/2*o,a=r/2*o,l=e+i,u=n+r,c=e+i/2,h=n+r/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-a,c-s,n,c,n),t.bezierCurveTo(c+s,n,l,h-a,l,h),t.bezierCurveTo(l,h+a,c+s,u,c,u),t.bezierCurveTo(c-s,u,e,h+a,e,h),t.closePath()}function Yi(t,e,n,i,r){var o=r*(1/3),s=.5522848,a=i/2*s,l=o/2*s,u=e+i,c=n+o,h=e+i/2,d=n+o/2,f=n+(r-o/2),p=n+r;t.beginPath(),t.moveTo(u,d),t.bezierCurveTo(u,d+l,h+a,c,h,c),t.bezierCurveTo(h-a,c,e,d+l,e,d),t.bezierCurveTo(e,d-l,h-a,n,h,n),t.bezierCurveTo(h+a,n,u,d-l,u,d),t.lineTo(u,f),t.bezierCurveTo(u,f+l,h+a,p,h,p),t.bezierCurveTo(h-a,p,e,f+l,e,f),t.lineTo(e,d)}function Xi(t,e,n,i,r,o){t.beginPath(),t.moveTo(e,n);for(var s=o.length,a=i-e,l=r-n,u=l/a,c=Math.sqrt(a*a+l*l),h=0,d=!0,f=0,p=+o[0];c>=.1;)(p=+o[h++%s])>c&&(p=c),f=Math.sqrt(p*p/(1+u*u)),e+=f=a<0?-f:f,n+=u*f,!0===d?t.lineTo(e,n):t.moveTo(e,n),c-=p,d=!d}var Gi={circle:Wi,dashedLine:Xi,database:Yi,diamond:function(t,e,n,i){t.beginPath(),t.lineTo(e,n+i),t.lineTo(e+i,n),t.lineTo(e,n-i),t.lineTo(e-i,n),t.closePath()},ellipse:qi,ellipse_vis:qi,hexagon:function(t,e,n,i){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+i,n);for(var o=1;o<6;o++)t.lineTo(e+i*Math.cos(r*o),n+i*Math.sin(r*o));t.closePath()},roundRect:$i,square:function(t,e,n,i){t.beginPath(),t.rect(e-i,n-i,2*i,2*i),t.closePath()},star:function(t,e,n,i){t.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;t.lineTo(e+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,n,i){t.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n-(a-s)),t.lineTo(e+o,n+s),t.lineTo(e-o,n+s),t.lineTo(e,n-(a-s)),t.closePath()},triangleDown:function(t,e,n,i){t.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n+(a-s)),t.lineTo(e+o,n-s),t.lineTo(e-o,n-s),t.lineTo(e,n+(a-s)),t.closePath()}},Ki={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Ki);var Qi=r(Ki.exports),Ji={};Ji[pe("toStringTag")]="z";var Zi,tr,er,nr="[object z]"===String(Ji),ir=nr,rr=C,or=k,sr=pe("toStringTag"),ar=Object,lr="Arguments"===or(function(){return arguments}()),ur=ir?or:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=ar(t),sr))?n:lr?or(e):"Object"===(i=or(e))&&rr(e.callee)?"Arguments":i},cr=ur,hr=String,dr=function(t){if("Symbol"===cr(t))throw new TypeError("Cannot convert a Symbol value to a string");return hr(t)},fr=m,pr=Fn,vr=dr,yr=K,gr=fr("".charAt),mr=fr("".charCodeAt),br=fr("".slice),wr=function(t){return function(e,n){var i,r,o=vr(yr(e)),s=pr(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=mr(o,s))<55296||i>56319||s+1===a||(r=mr(o,s+1))<56320||r>57343?t?gr(o,s):i:t?br(o,s,s+2):r-56320+(i-55296<<10)+65536}},_r={codeAt:wr(!1),charAt:wr(!0)},kr=C,xr=s.WeakMap,Sr=kr(xr)&&/native code/.test(String(xr)),Er=oe,Or=Xt("keys"),Tr=function(t){return Or[t]||(Or[t]=Er(t))},Ir=Sr,Cr=s,Dr=nt,Ar=bn,Pr=te,Mr=qt,Nr=Tr,Fr=Gn,Br="Object already initialized",Lr=Cr.TypeError,jr=Cr.WeakMap;if(Ir||Mr.state){var zr=Mr.state||(Mr.state=new jr);zr.get=zr.get,zr.has=zr.has,zr.set=zr.set,Zi=function(t,e){if(zr.has(t))throw new Lr(Br);return e.facade=t,zr.set(t,e),e},tr=function(t){return zr.get(t)||{}},er=function(t){return zr.has(t)}}else{var Rr=Nr("state");Fr[Rr]=!0,Zi=function(t,e){if(Pr(t,Rr))throw new Lr(Br);return e.facade=t,Ar(t,Rr,e),e},tr=function(t){return Pr(t,Rr)?t[Rr]:{}},er=function(t){return Pr(t,Rr)}}var Ur={set:Zi,get:tr,has:er,enforce:function(t){return er(t)?tr(t):Zi(t,{})},getterFor:function(t){return function(e){var n;if(!Dr(e)||(n=tr(e)).type!==t)throw new Lr("Incompatible receiver, "+t+" required");return n}}},Hr=A,Vr=te,Wr=Function.prototype,$r=Hr&&Object.getOwnPropertyDescriptor,qr=Vr(Wr,"name"),Yr={EXISTS:qr,PROPER:qr&&"something"===function(){}.name,CONFIGURABLE:qr&&(!Hr||Hr&&$r(Wr,"name").configurable)},Xr={},Gr=A,Kr=tn,Qr=Ze,Jr=on,Zr=Z,to=oi;Xr.f=Gr&&!Kr?Object.defineProperties:function(t,e){Jr(t);for(var n,i=Zr(e),r=to(e),o=r.length,s=0;o>s;)Qr.f(t,n=r[s++],i[n]);return t};var eo,no=lt("document","documentElement"),io=on,ro=Xr,oo=ni,so=Gn,ao=no,lo=Ie,uo="prototype",co="script",ho=Tr("IE_PROTO"),fo=function(){},po=function(t){return"<"+co+">"+t+"</"+co+">"},vo=function(t){t.write(po("")),t.close();var e=t.parentWindow.Object;return t=null,e},yo=function(){try{eo=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;yo="undefined"!=typeof document?document.domain&&eo?vo(eo):(e=lo("iframe"),n="java"+co+":",e.style.display="none",ao.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(po("document.F=Object")),t.close(),t.F):vo(eo);for(var i=oo.length;i--;)delete yo[uo][oo[i]];return yo()};so[ho]=!0;var go,mo,bo,wo=Object.create||function(t,e){var n;return null!==t?(fo[uo]=io(t),n=new fo,fo[uo]=null,n[ho]=t):n=yo(),void 0===e?n:ro.f(n,e)},_o=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ko=te,xo=C,So=Qt,Eo=_o,Oo=Tr("IE_PROTO"),To=Object,Io=To.prototype,Co=Eo?To.getPrototypeOf:function(t){var e=So(t);if(ko(e,Oo))return e[Oo];var n=e.constructor;return xo(n)&&e instanceof n?n.prototype:e instanceof To?Io:null},Do=bn,Ao=function(t,e,n,i){return i&&i.enumerable?t[e]=n:Do(t,e,n),t},Po=a,Mo=C,No=nt,Fo=wo,Bo=Co,Lo=Ao,jo=pe("iterator"),zo=!1;[].keys&&("next"in(bo=[].keys())?(mo=Bo(Bo(bo)))!==Object.prototype&&(go=mo):zo=!0);var Ro=!No(go)||Po((function(){var t={};return go[jo].call(t)!==t}));Mo((go=Ro?{}:Fo(go))[jo])||Lo(go,jo,(function(){return this}));var Uo={IteratorPrototype:go,BUGGY_SAFARI_ITERATORS:zo},Ho=ur,Vo=nr?{}.toString:function(){return"[object "+Ho(this)+"]"},Wo=nr,$o=Ze.f,qo=bn,Yo=te,Xo=Vo,Go=pe("toStringTag"),Ko=function(t,e,n,i){if(t){var r=n?t:t.prototype;Yo(r,Go)||$o(r,Go,{configurable:!0,value:e}),i&&!Wo&&qo(r,"toString",Xo)}},Qo={},Jo=Uo.IteratorPrototype,Zo=wo,ts=U,es=Ko,ns=Qo,is=function(){return this},rs=m,os=Mt,ss=C,as=String,ls=TypeError,us=function(t,e,n){try{return rs(os(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},cs=on,hs=function(t){if("object"==typeof t||ss(t))return t;throw new ls("Can't set "+as(t)+" as a prototype")},ds=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=us(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return cs(n),hs(i),e?t(n,i):n.__proto__=i,n}}():void 0),fs=An,ps=N,vs=function(t,e,n,i){var r=e+" Iterator";return t.prototype=Zo(Jo,{next:ts(+!i,n)}),es(t,r,!1,!0),ns[r]=is,t},ys=Co,gs=Ko,ms=Ao,bs=Qo,ws=Uo,_s=Yr.PROPER,ks=ws.BUGGY_SAFARI_ITERATORS,xs=pe("iterator"),Ss="keys",Es="values",Os="entries",Ts=function(){return this},Is=function(t,e,n,i,r,o,s){vs(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!ks&&t&&t in f)return f[t];switch(t){case Ss:case Es:case Os:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[xs]||f["@@iterator"]||r&&f[r],v=!ks&&p||c(r),y="Array"===e&&f.entries||p;if(y&&(a=ys(y.call(new t)))!==Object.prototype&&a.next&&(gs(a,h,!0,!0),bs[h]=Ts),_s&&r===Es&&p&&p.name!==Es&&(d=!0,v=function(){return ps(p,this)}),r)if(l={values:c(Es),keys:o?v:c(Ss),entries:c(Os)},s)for(u in l)(ks||d||!(u in f))&&ms(f,u,l[u]);else fs({target:e,proto:!0,forced:ks||d},l);return s&&f[xs]!==v&&ms(f,xs,v,{name:r}),bs[e]=v,l},Cs=function(t,e){return{value:t,done:e}},Ds=_r.charAt,As=dr,Ps=Ur,Ms=Is,Ns=Cs,Fs="String Iterator",Bs=Ps.set,Ls=Ps.getterFor(Fs);Ms(String,"String",(function(t){Bs(this,{type:Fs,string:As(t),index:0})}),(function(){var t,e=Ls(this),n=e.string,i=e.index;return i>=n.length?Ns(void 0,!0):(t=Ds(n,i),e.index+=t.length,Ns(t,!1))}));var js=N,zs=on,Rs=Bt,Us=function(t,e,n){var i,r;zs(t);try{if(!(i=Rs(t,"return"))){if("throw"===e)throw n;return n}i=js(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return zs(i),n},Hs=on,Vs=Us,Ws=Qo,$s=pe("iterator"),qs=Array.prototype,Ys=function(t){return void 0!==t&&(Ws.Array===t||qs[$s]===t)},Xs=C,Gs=qt,Ks=m(Function.toString);Xs(Gs.inspectSource)||(Gs.inspectSource=function(t){return Ks(t)});var Qs=Gs.inspectSource,Js=m,Zs=a,ta=C,ea=ur,na=Qs,ia=function(){},ra=[],oa=lt("Reflect","construct"),sa=/^\s*(?:class|function)\b/,aa=Js(sa.exec),la=!sa.test(ia),ua=function(t){if(!ta(t))return!1;try{return oa(ia,ra,t),!0}catch(t){return!1}},ca=function(t){if(!ta(t))return!1;switch(ea(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return la||!!aa(sa,na(t))}catch(t){return!0}};ca.sham=!0;var ha=!oa||Zs((function(){var t;return ua(ua.call)||!ua(Object)||!ua((function(){t=!0}))||t}))?ca:ua,da=Se,fa=Ze,pa=U,va=function(t,e,n){var i=da(e);i in t?fa.f(t,i,pa(0,n)):t[i]=n},ya=ur,ga=Bt,ma=Y,ba=Qo,wa=pe("iterator"),_a=function(t){if(!ma(t))return ga(t,wa)||ga(t,"@@iterator")||ba[ya(t)]},ka=N,xa=Mt,Sa=on,Ea=Ct,Oa=_a,Ta=TypeError,Ia=function(t,e){var n=arguments.length<2?Oa(t):e;if(xa(n))return Sa(ka(n,t));throw new Ta(Ea(t)+" is not iterable")},Ca=Je,Da=N,Aa=Qt,Pa=function(t,e,n,i){try{return i?e(Hs(n)[0],n[1]):e(n)}catch(e){Vs(t,"throw",e)}},Ma=Ys,Na=ha,Fa=Vn,Ba=va,La=Ia,ja=_a,za=Array,Ra=pe("iterator"),Ua=!1;try{var Ha=0,Va={next:function(){return{done:!!Ha++}},return:function(){Ua=!0}};Va[Ra]=function(){return this},Array.from(Va,(function(){throw 2}))}catch(t){}var Wa=function(t){var e=Aa(t),n=Na(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Ca(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=ja(e),f=0;if(!d||this===za&&Ma(d))for(s=Fa(e),a=n?new this(s):za(s);s>f;f++)h=o?r(e[f],f):e[f],Ba(a,f,h);else for(c=(u=La(e,d)).next,a=n?new this:[];!(l=Da(c,u)).done;f++)h=o?Pa(u,r,[l.value,f],!0):l.value,Ba(a,f,h);return a.length=f,a},$a=function(t,e){try{if(!e&&!Ua)return!1}catch(t){return!1}var n=!1;try{var i={};i[Ra]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n};An({target:"Array",stat:!0,forced:!$a((function(t){Array.from(t)}))},{from:Wa});var qa=it.Array.from,Ya=r(qa),Xa=Z,Ga=Qo,Ka=Ur;Ze.f;var Qa=Is,Ja=Cs,Za="Array Iterator",tl=Ka.set,el=Ka.getterFor(Za);Qa(Array,"Array",(function(t,e){tl(this,{type:Za,target:Xa(t),index:0,kind:e})}),(function(){var t=el(this),e=t.target,n=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,Ja(void 0,!0);switch(n){case"keys":return Ja(i,!1);case"values":return Ja(e[i],!1)}return Ja([i,e[i]],!1)}),"values"),Ga.Arguments=Ga.Array;var nl=_a,il={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},rl=s,ol=ur,sl=bn,al=Qo,ll=pe("toStringTag");for(var ul in il){var cl=rl[ul],hl=cl&&cl.prototype;hl&&ol(hl)!==ll&&sl(hl,ll,ul),al[ul]=al.Array}var dl=nl,fl=r(dl),pl=r(dl);function vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yl={exports:{}},gl=An,ml=A,bl=Ze.f;gl({target:"Object",stat:!0,forced:Object.defineProperty!==bl,sham:!ml},{defineProperty:bl});var wl=it.Object,_l=yl.exports=function(t,e,n){return wl.defineProperty(t,e,n)};wl.defineProperty.sham&&(_l.sham=!0);var kl=yl.exports,xl=r(kl),Sl=k,El=Array.isArray||function(t){return"Array"===Sl(t)},Ol=TypeError,Tl=function(t){if(t>9007199254740991)throw Ol("Maximum allowed index exceeded");return t},Il=El,Cl=ha,Dl=nt,Al=pe("species"),Pl=Array,Ml=function(t){var e;return Il(t)&&(e=t.constructor,(Cl(e)&&(e===Pl||Il(e.prototype))||Dl(e)&&null===(e=e[Al]))&&(e=void 0)),void 0===e?Pl:e},Nl=function(t,e){return new(Ml(t))(0===e?0:e)},Fl=a,Bl=gt,Ll=pe("species"),jl=function(t){return Bl>=51||!Fl((function(){var e=[];return(e.constructor={})[Ll]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},zl=An,Rl=a,Ul=El,Hl=nt,Vl=Qt,Wl=Vn,$l=Tl,ql=va,Yl=Nl,Xl=jl,Gl=gt,Kl=pe("isConcatSpreadable"),Ql=Gl>=51||!Rl((function(){var t=[];return t[Kl]=!1,t.concat()[0]!==t})),Jl=function(t){if(!Hl(t))return!1;var e=t[Kl];return void 0!==e?!!e:Ul(t)};zl({target:"Array",proto:!0,arity:1,forced:!Ql||!Xl("concat")},{concat:function(t){var e,n,i,r,o,s=Vl(this),a=Yl(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(Jl(o=-1===e?s:arguments[e]))for(r=Wl(o),$l(l+r),n=0;n<r;n++,l++)n in o&&ql(a,l,o[n]);else $l(l+1),ql(a,l++,o);return a.length=l,a}});var Zl={},tu=ei,eu=ni.concat("length","prototype");Zl.f=Object.getOwnPropertyNames||function(t){return tu(t,eu)};var nu={},iu=zn,ru=Vn,ou=va,su=Array,au=Math.max,lu=function(t,e,n){for(var i=ru(t),r=iu(e,i),o=iu(void 0===n?i:n,i),s=su(au(o-r,0)),a=0;r<o;r++,a++)ou(s,a,t[r]);return s.length=a,s},uu=k,cu=Z,hu=Zl.f,du=lu,fu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];nu.f=function(t){return fu&&"Window"===uu(t)?function(t){try{return hu(t)}catch(t){return du(fu)}}(t):hu(cu(t))};var pu=Ze,vu=function(t,e,n){return pu.f(t,e,n)},yu={},gu=pe;yu.f=gu;var mu=it,bu=te,wu=yu,_u=Ze.f,ku=function(t){var e=mu.Symbol||(mu.Symbol={});bu(e,t)||_u(e,t,{value:wu.f(t)})},xu=N,Su=lt,Eu=pe,Ou=Ao,Tu=function(){var t=Su("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=Eu("toPrimitive");e&&!e[i]&&Ou(e,i,(function(t){return xu(n,this)}),{arity:1})},Iu=Je,Cu=q,Du=Qt,Au=Vn,Pu=Nl,Mu=m([].push),Nu=function(t){var e=1===t,n=2===t,i=3===t,r=4===t,o=6===t,s=7===t,a=5===t||o;return function(l,u,c,h){for(var d,f,p=Du(l),v=Cu(p),y=Iu(u,c),g=Au(v),m=0,b=h||Pu,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Mu(w,d)}else switch(t){case 4:return!1;case 7:Mu(w,d)}return o?-1:i||r?r:w}},Fu={forEach:Nu(0),map:Nu(1),filter:Nu(2),some:Nu(3),every:Nu(4),find:Nu(5),findIndex:Nu(6),filterReject:Nu(7)},Bu=An,Lu=s,ju=N,zu=m,Ru=A,Uu=_t,Hu=a,Vu=te,Wu=ut,$u=on,qu=Z,Yu=Se,Xu=dr,Gu=U,Ku=wo,Qu=oi,Ju=Zl,Zu=nu,tc=si,ec=D,nc=Ze,ic=Xr,rc=F,oc=Ao,sc=vu,ac=Xt,lc=Gn,uc=oe,cc=pe,hc=yu,dc=ku,fc=Tu,pc=Ko,vc=Ur,yc=Fu.forEach,gc=Tr("hidden"),mc="Symbol",bc="prototype",wc=vc.set,_c=vc.getterFor(mc),kc=Object[bc],xc=Lu.Symbol,Sc=xc&&xc[bc],Ec=Lu.RangeError,Oc=Lu.TypeError,Tc=Lu.QObject,Ic=ec.f,Cc=nc.f,Dc=Zu.f,Ac=rc.f,Pc=zu([].push),Mc=ac("symbols"),Nc=ac("op-symbols"),Fc=ac("wks"),Bc=!Tc||!Tc[bc]||!Tc[bc].findChild,Lc=function(t,e,n){var i=Ic(kc,e);i&&delete kc[e],Cc(t,e,n),i&&t!==kc&&Cc(kc,e,i)},jc=Ru&&Hu((function(){return 7!==Ku(Cc({},"a",{get:function(){return Cc(this,"a",{value:7}).a}})).a}))?Lc:Cc,zc=function(t,e){var n=Mc[t]=Ku(Sc);return wc(n,{type:mc,tag:t,description:e}),Ru||(n.description=e),n},Rc=function(t,e,n){t===kc&&Rc(Nc,e,n),$u(t);var i=Yu(e);return $u(n),Vu(Mc,i)?(n.enumerable?(Vu(t,gc)&&t[gc][i]&&(t[gc][i]=!1),n=Ku(n,{enumerable:Gu(0,!1)})):(Vu(t,gc)||Cc(t,gc,Gu(1,{})),t[gc][i]=!0),jc(t,i,n)):Cc(t,i,n)},Uc=function(t,e){$u(t);var n=qu(e),i=Qu(n).concat($c(n));return yc(i,(function(e){Ru&&!ju(Hc,n,e)||Rc(t,e,n[e])})),t},Hc=function(t){var e=Yu(t),n=ju(Ac,this,e);return!(this===kc&&Vu(Mc,e)&&!Vu(Nc,e))&&(!(n||!Vu(this,e)||!Vu(Mc,e)||Vu(this,gc)&&this[gc][e])||n)},Vc=function(t,e){var n=qu(t),i=Yu(e);if(n!==kc||!Vu(Mc,i)||Vu(Nc,i)){var r=Ic(n,i);return!r||!Vu(Mc,i)||Vu(n,gc)&&n[gc][i]||(r.enumerable=!0),r}},Wc=function(t){var e=Dc(qu(t)),n=[];return yc(e,(function(t){Vu(Mc,t)||Vu(lc,t)||Pc(n,t)})),n},$c=function(t){var e=t===kc,n=Dc(e?Nc:qu(t)),i=[];return yc(n,(function(t){!Vu(Mc,t)||e&&!Vu(kc,t)||Pc(i,Mc[t])})),i};Uu||(xc=function(){if(Wu(Sc,this))throw new Oc("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Xu(arguments[0]):void 0,e=uc(t),n=function(t){this===kc&&ju(n,Nc,t),Vu(this,gc)&&Vu(this[gc],e)&&(this[gc][e]=!1);var i=Gu(1,t);try{jc(this,e,i)}catch(t){if(!(t instanceof Ec))throw t;Lc(this,e,i)}};return Ru&&Bc&&jc(kc,e,{configurable:!0,set:n}),zc(e,t)},oc(Sc=xc[bc],"toString",(function(){return _c(this).tag})),oc(xc,"withoutSetter",(function(t){return zc(uc(t),t)})),rc.f=Hc,nc.f=Rc,ic.f=Uc,ec.f=Vc,Ju.f=Zu.f=Wc,tc.f=$c,hc.f=function(t){return zc(cc(t),t)},Ru&&sc(Sc,"description",{configurable:!0,get:function(){return _c(this).description}})),Bu({global:!0,constructor:!0,wrap:!0,forced:!Uu,sham:!Uu},{Symbol:xc}),yc(Qu(Fc),(function(t){dc(t)})),Bu({target:mc,stat:!0,forced:!Uu},{useSetter:function(){Bc=!0},useSimple:function(){Bc=!1}}),Bu({target:"Object",stat:!0,forced:!Uu,sham:!Ru},{create:function(t,e){return void 0===e?Ku(t):Uc(Ku(t),e)},defineProperty:Rc,defineProperties:Uc,getOwnPropertyDescriptor:Vc}),Bu({target:"Object",stat:!0,forced:!Uu},{getOwnPropertyNames:Wc}),fc(),pc(xc,mc),lc[gc]=!0;var qc=_t&&!!Symbol.for&&!!Symbol.keyFor,Yc=An,Xc=lt,Gc=te,Kc=dr,Qc=Xt,Jc=qc,Zc=Qc("string-to-symbol-registry"),th=Qc("symbol-to-string-registry");Yc({target:"Symbol",stat:!0,forced:!Jc},{for:function(t){var e=Kc(t);if(Gc(Zc,e))return Zc[e];var n=Xc("Symbol")(e);return Zc[e]=n,th[n]=e,n}});var eh=An,nh=te,ih=Tt,rh=Ct,oh=qc,sh=Xt("symbol-to-string-registry");eh({target:"Symbol",stat:!0,forced:!oh},{keyFor:function(t){if(!ih(t))throw new TypeError(rh(t)+" is not a symbol");if(nh(sh,t))return sh[t]}});var ah=El,lh=C,uh=k,ch=dr,hh=m([].push),dh=An,fh=lt,ph=f,vh=N,yh=m,gh=a,mh=C,bh=Tt,wh=ki,_h=function(t){if(lh(t))return t;if(ah(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?hh(n,r):"number"!=typeof r&&"Number"!==uh(r)&&"String"!==uh(r)||hh(n,ch(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(ah(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}},kh=_t,xh=String,Sh=fh("JSON","stringify"),Eh=yh(/./.exec),Oh=yh("".charAt),Th=yh("".charCodeAt),Ih=yh("".replace),Ch=yh(1..toString),Dh=/[\uD800-\uDFFF]/g,Ah=/^[\uD800-\uDBFF]$/,Ph=/^[\uDC00-\uDFFF]$/,Mh=!kh||gh((function(){var t=fh("Symbol")("stringify detection");return"[null]"!==Sh([t])||"{}"!==Sh({a:t})||"{}"!==Sh(Object(t))})),Nh=gh((function(){return'"\\udf06\\ud834"'!==Sh("\udf06\ud834")||'"\\udead"'!==Sh("\udead")})),Fh=function(t,e){var n=wh(arguments),i=_h(e);if(mh(i)||void 0!==t&&!bh(t))return n[1]=function(t,e){if(mh(i)&&(e=vh(i,this,xh(t),e)),!bh(e))return e},ph(Sh,null,n)},Bh=function(t,e,n){var i=Oh(n,e-1),r=Oh(n,e+1);return Eh(Ah,t)&&!Eh(Ph,r)||Eh(Ph,t)&&!Eh(Ah,i)?"\\u"+Ch(Th(t,0),16):t};Sh&&dh({target:"JSON",stat:!0,arity:3,forced:Mh||Nh},{stringify:function(t,e,n){var i=wh(arguments),r=ph(Mh?Fh:Sh,null,i);return Nh&&"string"==typeof r?Ih(r,Dh,Bh):r}});var Lh=si,jh=Qt;An({target:"Object",stat:!0,forced:!_t||a((function(){Lh.f(1)}))},{getOwnPropertySymbols:function(t){var e=Lh.f;return e?e(jh(t)):[]}}),ku("asyncIterator"),ku("hasInstance"),ku("isConcatSpreadable"),ku("iterator"),ku("match"),ku("matchAll"),ku("replace"),ku("search"),ku("species"),ku("split");var zh=Tu;ku("toPrimitive"),zh();var Rh=lt,Uh=Ko;ku("toStringTag"),Uh(Rh("Symbol"),"Symbol"),ku("unscopables"),Ko(s.JSON,"JSON",!0);var Hh=it.Symbol,Vh=pe,Wh=Ze.f,$h=Vh("metadata"),qh=Function.prototype;void 0===qh[$h]&&Wh(qh,$h,{value:null}),ku("asyncDispose"),ku("dispose"),ku("metadata");var Yh=Hh,Xh=m,Gh=lt("Symbol"),Kh=Gh.keyFor,Qh=Xh(Gh.prototype.valueOf),Jh=Gh.isRegisteredSymbol||function(t){try{return void 0!==Kh(Qh(t))}catch(t){return!1}};An({target:"Symbol",stat:!0},{isRegisteredSymbol:Jh});for(var Zh=Xt,td=lt,ed=m,nd=Tt,id=pe,rd=td("Symbol"),od=rd.isWellKnownSymbol,sd=td("Object","getOwnPropertyNames"),ad=ed(rd.prototype.valueOf),ld=Zh("wks"),ud=0,cd=sd(rd),hd=cd.length;ud<hd;ud++)try{var dd=cd[ud];nd(rd[dd])&&id(dd)}catch(t){}var fd=function(t){if(od&&od(t))return!0;try{for(var e=ad(t),n=0,i=sd(ld),r=i.length;n<r;n++)if(ld[i[n]]==e)return!0}catch(t){}return!1};An({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fd}),ku("matcher"),ku("observable"),An({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Jh}),An({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:fd}),ku("metadataKey"),ku("patternMatch"),ku("replaceAll");var pd=r(Yh),vd=r(yu.f("iterator"));function yd(t){return yd="function"==typeof pd&&"symbol"==typeof vd?function(t){return typeof t}:function(t){return t&&"function"==typeof pd&&t.constructor===pd&&t!==pd.prototype?"symbol":typeof t},yd(t)}var gd=r(yu.f("toPrimitive"));function md(t){var e=function(t,e){if("object"!==yd(t)||null===t)return t;var n=t[gd];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==yd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yd(e)?e:String(e)}function bd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),xl(t,md(i.key),i)}}function wd(t,e,n){return e&&bd(t.prototype,e),n&&bd(t,n),xl(t,"prototype",{writable:!1}),t}An({target:"Array",stat:!0},{isArray:El});var _d=it.Array.isArray,kd=r(_d),xd=A,Sd=El,Ed=TypeError,Od=Object.getOwnPropertyDescriptor,Td=xd&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Sd(t)&&!Od(t,"length").writable)throw new Ed("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Id=Qt,Cd=Vn,Dd=Td,Ad=Tl;An({target:"Array",proto:!0,arity:1,forced:a((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Id(this),n=Cd(e),i=arguments.length;Ad(n+i);for(var r=0;r<i;r++)e[n]=arguments[r],n++;return Dd(e,n),n}});var Pd=Bi("Array").push,Md=ut,Nd=Pd,Fd=Array.prototype,Bd=function(t){var e=t.push;return t===Fd||Md(Fd,t)&&e===Fd.push?Nd:e},Ld=r(Bd),jd=An,zd=El,Rd=ha,Ud=nt,Hd=zn,Vd=Vn,Wd=Z,$d=va,qd=pe,Yd=ki,Xd=jl("slice"),Gd=qd("species"),Kd=Array,Qd=Math.max;jd({target:"Array",proto:!0,forced:!Xd},{slice:function(t,e){var n,i,r,o=Wd(this),s=Vd(o),a=Hd(t,s),l=Hd(void 0===e?s:e,s);if(zd(o)&&(n=o.constructor,(Rd(n)&&(n===Kd||zd(n.prototype))||Ud(n)&&null===(n=n[Gd]))&&(n=void 0),n===Kd||void 0===n))return Yd(o,a,l);for(i=new(void 0===n?Kd:n)(Qd(l-a,0)),r=0;a<l;a++,r++)a in o&&$d(i,r,o[a]);return i.length=r,i}});var Jd=Bi("Array").slice,Zd=ut,tf=Jd,ef=Array.prototype,nf=function(t){var e=t.slice;return t===ef||Zd(ef,t)&&e===ef.slice?tf:e},rf=nf,of=r(rf),sf=r(qa);function af(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function lf(t,e){var n;if(t){if("string"==typeof t)return af(t,e);var i=of(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?sf(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?af(t,e):void 0}}function uf(t,e){return function(t){if(kd(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==pd&&fl(t)||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(Ld(a).call(a,i.value),a.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(t,e)||lf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(t){return function(t){if(kd(t))return af(t)}(t)||function(t){if(void 0!==pd&&null!=fl(t)||null!=t["@@iterator"])return sf(t)}(t)||lf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hf=r(Hh),df=Bi("Array").concat,ff=ut,pf=df,vf=Array.prototype,yf=function(t){var e=t.concat;return t===vf||ff(vf,t)&&e===vf.concat?pf:e},gf=r(yf),mf=r(rf),bf=lt,wf=Zl,_f=si,kf=on,xf=m([].concat),Sf=bf("Reflect","ownKeys")||function(t){var e=wf.f(kf(t)),n=_f.f;return n?xf(e,n(t)):e},Ef=r(_d),Of=Fu.map;An({target:"Array",proto:!0,forced:!jl("map")},{map:function(t){return Of(this,t,arguments.length>1?arguments[1]:void 0)}});var Tf=Bi("Array").map,If=ut,Cf=Tf,Df=Array.prototype,Af=function(t){var e=t.map;return t===Df||If(Df,t)&&e===Df.map?Cf:e},Pf=r(Af),Mf=Qt,Nf=oi;An({target:"Object",stat:!0,forced:a((function(){Nf(1)}))},{keys:function(t){return Nf(Mf(t))}});var Ff=r(it.Object.keys),Bf=An,Lf=Date,jf=m(Lf.prototype.getTime);Bf({target:"Date",stat:!0},{now:function(){return jf(new Lf)}});var zf=r(it.Date.now),Rf=a,Uf=function(t,e){var n=[][t];return!!n&&Rf((function(){n.call(null,e||function(){return 1},1)}))},Hf=Fu.forEach,Vf=Uf("forEach")?[].forEach:function(t){return Hf(this,t,arguments.length>1?arguments[1]:void 0)};An({target:"Array",proto:!0,forced:[].forEach!==Vf},{forEach:Vf});var Wf=Bi("Array").forEach,$f=ur,qf=te,Yf=ut,Xf=Wf,Gf=Array.prototype,Kf={DOMTokenList:!0,NodeList:!0},Qf=function(t){var e=t.forEach;return t===Gf||Yf(Gf,t)&&e===Gf.forEach||qf(Kf,$f(t))?Xf:e},Jf=r(Qf),Zf=An,tp=El,ep=m([].reverse),np=[1,2];Zf({target:"Array",proto:!0,forced:String(np)===String(np.reverse())},{reverse:function(){return tp(this)&&(this.length=this.length),ep(this)}});var ip=Bi("Array").reverse,rp=ut,op=ip,sp=Array.prototype,ap=function(t){var e=t.reverse;return t===sp||rp(sp,t)&&e===sp.reverse?op:e},lp=r(ap),up=Ct,cp=TypeError,hp=function(t,e){if(!delete t[e])throw new cp("Cannot delete property "+up(e)+" of "+up(t))},dp=An,fp=Qt,pp=zn,vp=Fn,yp=Vn,gp=Td,mp=Tl,bp=Nl,wp=va,_p=hp,kp=jl("splice"),xp=Math.max,Sp=Math.min;dp({target:"Array",proto:!0,forced:!kp},{splice:function(t,e){var n,i,r,o,s,a,l=fp(this),u=yp(l),c=pp(t,u),h=arguments.length;for(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Sp(xp(vp(e),0),u-c)),mp(u+n-i),r=bp(l,i),o=0;o<i;o++)(s=c+o)in l&&wp(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:_p(l,a);for(o=u;o>u-i+n;o--)_p(l,o-1)}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:_p(l,a);for(o=0;o<n;o++)l[o+c]=arguments[o+2];return gp(l,u-i+n),r}});var Ep=Bi("Array").splice,Op=ut,Tp=Ep,Ip=Array.prototype,Cp=function(t){var e=t.splice;return t===Ip||Op(Ip,t)&&e===Ip.splice?Tp:e},Dp=r(Cp),Ap=Xn.includes;An({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return Ap(this,t,arguments.length>1?arguments[1]:void 0)}});var Pp=Bi("Array").includes,Mp=nt,Np=k,Fp=pe("match"),Bp=function(t){var e;return Mp(t)&&(void 0!==(e=t[Fp])?!!e:"RegExp"===Np(t))},Lp=TypeError,jp=pe("match"),zp=An,Rp=function(t){if(Bp(t))throw new Lp("The method doesn't accept regular expressions");return t},Up=K,Hp=dr,Vp=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[jp]=!1,"/./"[t](e)}catch(t){}}return!1},Wp=m("".indexOf);zp({target:"String",proto:!0,forced:!Vp("includes")},{includes:function(t){return!!~Wp(Hp(Up(this)),Hp(Rp(t)),arguments.length>1?arguments[1]:void 0)}});var $p=Bi("String").includes,qp=ut,Yp=Pp,Xp=$p,Gp=Array.prototype,Kp=String.prototype,Qp=function(t){var e=t.includes;return t===Gp||qp(Gp,t)&&e===Gp.includes?Yp:"string"==typeof t||t===Kp||qp(Kp,t)&&e===Kp.includes?Xp:e},Jp=r(Qp),Zp=Qt,tv=Co,ev=_o;An({target:"Object",stat:!0,forced:a((function(){tv(1)})),sham:!ev},{getPrototypeOf:function(t){return tv(Zp(t))}});var nv=it.Object.getPrototypeOf,iv=r(nv),rv=Fu.filter;An({target:"Array",proto:!0,forced:!jl("filter")},{filter:function(t){return rv(this,t,arguments.length>1?arguments[1]:void 0)}});var ov=Bi("Array").filter,sv=ut,av=ov,lv=Array.prototype,uv=function(t){var e=t.filter;return t===lv||sv(lv,t)&&e===lv.filter?av:e},cv=r(uv),hv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",dv=K,fv=dr,pv=hv,vv=m("".replace),yv=RegExp("^["+pv+"]+"),gv=RegExp("(^|[^"+pv+"])["+pv+"]+$"),mv=function(t){return function(e){var n=fv(dv(e));return 1&t&&(n=vv(n,yv,"")),2&t&&(n=vv(n,gv,"$1")),n}},bv={start:mv(1),end:mv(2),trim:mv(3)},wv=s,_v=a,kv=m,xv=dr,Sv=bv.trim,Ev=hv,Ov=wv.parseInt,Tv=wv.Symbol,Iv=Tv&&Tv.iterator,Cv=/^[+-]?0x/i,Dv=kv(Cv.exec),Av=8!==Ov(Ev+"08")||22!==Ov(Ev+"0x16")||Iv&&!_v((function(){Ov(Object(Iv))}))?function(t,e){var n=Sv(xv(t));return Ov(n,e>>>0||(Dv(Cv,n)?16:10))}:Ov;An({global:!0,forced:parseInt!==Av},{parseInt:Av});var Pv=r(it.parseInt),Mv=An,Nv=Xn.indexOf,Fv=Uf,Bv=E([].indexOf),Lv=!!Bv&&1/Bv([1],1,-0)<0;Mv({target:"Array",proto:!0,forced:Lv||!Fv("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Lv?Bv(this,t,e)||0:Nv(this,t,e)}});var jv=Bi("Array").indexOf,zv=ut,Rv=jv,Uv=Array.prototype,Hv=function(t){var e=t.indexOf;return t===Uv||zv(Uv,t)&&e===Uv.indexOf?Rv:e},Vv=r(Hv);An({target:"Object",stat:!0,sham:!A},{create:wo});var Wv=it.Object,$v=function(t,e){return Wv.create(t,e)},qv=r($v),Yv=it,Xv=f;Yv.JSON||(Yv.JSON={stringify:JSON.stringify});var Gv=function(t,e,n){return Xv(Yv.JSON.stringify,null,arguments)},Kv=r(Gv),Qv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Jv=TypeError,Zv=s,ty=f,ey=C,ny=Qv,iy=ct,ry=ki,oy=function(t,e){if(t<e)throw new Jv("Not enough arguments");return t},sy=Zv.Function,ay=/MSIE .\./.test(iy)||ny&&function(){var t=Zv.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),ly=function(t,e){var n=e?2:1;return ay?function(i,r){var o=oy(arguments.length,1)>n,s=ey(i)?i:sy(i),a=o?ry(arguments,n):[],l=o?function(){ty(s,this,a)}:s;return e?t(l,r):t(l)}:t},uy=An,cy=s,hy=ly(cy.setInterval,!0);uy({global:!0,bind:!0,forced:cy.setInterval!==hy},{setInterval:hy});var dy=An,fy=s,py=ly(fy.setTimeout,!0);dy({global:!0,bind:!0,forced:fy.setTimeout!==py},{setTimeout:py});var vy=r(it.setTimeout),yy=Qt,gy=zn,my=Vn,by=function(t){for(var e=yy(this),n=my(e),i=arguments.length,r=gy(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:gy(o,n);s>r;)e[r++]=t;return e};An({target:"Array",proto:!0},{fill:by});var wy,_y=Bi("Array").fill,ky=ut,xy=_y,Sy=Array.prototype,Ey=function(t){var e=t.fill;return t===Sy||ky(Sy,t)&&e===Sy.fill?xy:e},Oy=r(Ey);function Ty(){return Ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ty.apply(this,arguments)}function Iy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Cy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}wy="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Dy,Ay=wy,Py=["","webkit","Moz","MS","ms","o"],My="undefined"==typeof document?{style:{}}:document.createElement("div"),Ny=Math.round,Fy=Math.abs,By=Date.now;function Ly(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Py.length;){if((i=(n=Py[o])?n+r:e)in t)return i;o++}}Dy="undefined"==typeof window?{}:window;var jy=Ly(My.style,"touchAction"),zy=void 0!==jy,Ry="compute",Uy="auto",Hy="manipulation",Vy="none",Wy="pan-x",$y="pan-y",qy=function(){if(!zy)return!1;var t={},e=Dy.CSS&&Dy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Dy.CSS.supports("touch-action",n)})),t}(),Yy="ontouchstart"in Dy,Xy=void 0!==Ly(Dy,"PointerEvent"),Gy=Yy&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ky="touch",Qy="mouse",Jy=25,Zy=1,tg=4,eg=8,ng=1,ig=2,rg=4,og=8,sg=16,ag=ig|rg,lg=og|sg,ug=ag|lg,cg=["x","y"],hg=["clientX","clientY"];function dg(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function fg(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function pg(t,e){return t.indexOf(e)>-1}var vg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Ry&&(t=this.compute()),zy&&this.manager.element.style&&qy[t]&&(this.manager.element.style[jy]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return dg(this.manager.recognizers,(function(e){fg(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(pg(t,Vy))return Vy;var e=pg(t,Wy),n=pg(t,$y);return e&&n?Vy:e||n?e?Wy:$y:pg(t,Hy)?Hy:Uy}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=pg(i,Vy)&&!qy[Vy],o=pg(i,$y)&&!qy[$y],s=pg(i,Wy)&&!qy[Wy];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&ag||s&&n&lg?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function yg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function gg(t){var e=t.length;if(1===e)return{x:Ny(t[0].clientX),y:Ny(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Ny(n/e),y:Ny(i/e)}}function mg(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Ny(t.pointers[n].clientX),clientY:Ny(t.pointers[n].clientY)},n++;return{timeStamp:By(),pointers:e,center:gg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function bg(t,e,n){n||(n=cg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function wg(t,e,n){n||(n=cg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function _g(t,e){return t===e?ng:Fy(t)>=Fy(e)?t<0?ig:rg:e<0?og:sg}function kg(t,e,n){return{x:e/t||0,y:n/t||0}}function xg(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=mg(e)),r>1&&!n.firstMultiple?n.firstMultiple=mg(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=gg(i);e.timeStamp=By(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=wg(a,l),e.distance=bg(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Zy&&o.eventType!==tg||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=_g(e.deltaX,e.deltaY);var u,c,h=kg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Fy(h.x)>Fy(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,bg((c=i)[0],c[1],hg)/bg(u[0],u[1],hg)):1,e.rotation=s?function(t,e){return wg(e[1],e[0],hg)+wg(t[1],t[0],hg)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==eg&&(a>Jy||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=kg(a,l,u);i=c.x,r=c.y,n=Fy(c.x)>Fy(c.y)?c.x:c.y,o=_g(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d,f=t.element,p=e.srcEvent;yg(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function Sg(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Zy&&i-r==0,s=e&(tg|eg)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,xg(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Eg(t){return t.trim().split(/\s+/g)}function Og(t,e,n){dg(Eg(e),(function(e){t.addEventListener(e,n,!1)}))}function Tg(t,e,n){dg(Eg(e),(function(e){t.removeEventListener(e,n,!1)}))}function Ig(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Cg=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){fg(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Og(this.element,this.evEl,this.domHandler),this.evTarget&&Og(this.target,this.evTarget,this.domHandler),this.evWin&&Og(Ig(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Tg(this.element,this.evEl,this.domHandler),this.evTarget&&Tg(this.target,this.evTarget,this.domHandler),this.evWin&&Tg(Ig(this.element),this.evWin,this.domHandler)},t}();function Dg(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Ag={pointerdown:Zy,pointermove:2,pointerup:tg,pointercancel:eg,pointerout:eg},Pg={2:Ky,3:"pen",4:Qy,5:"kinect"},Mg="pointerdown",Ng="pointermove pointerup pointercancel";Dy.MSPointerEvent&&!Dy.PointerEvent&&(Mg="MSPointerDown",Ng="MSPointerMove MSPointerUp MSPointerCancel");var Fg=function(t){function e(){var n,i=e.prototype;return i.evEl=Mg,i.evWin=Ng,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Iy(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ag[i],o=Pg[t.pointerType]||t.pointerType,s=o===Ky,a=Dg(e,t.pointerId,"pointerId");r&Zy&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(tg|eg)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(Cg);function Bg(t){return Array.prototype.slice.call(t,0)}function Lg(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Dg(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var jg={touchstart:Zy,touchmove:2,touchend:tg,touchcancel:eg},zg=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return Iy(e,t),e.prototype.handler=function(t){var e=jg[t.type],n=Rg.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ky,srcEvent:t})},e}(Cg);function Rg(t,e){var n,i,r=Bg(t.touches),o=this.targetIds;if(e&(2|Zy)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Bg(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return yg(t.target,l)})),e===Zy)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(tg|eg)&&delete o[s[n].identifier],n++;return a.length?[Lg(i.concat(a),"identifier",!0),a]:void 0}var Ug={mousedown:Zy,mousemove:2,mouseup:tg},Hg=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return Iy(e,t),e.prototype.handler=function(t){var e=Ug[t.type];e&Zy&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=tg),this.pressed&&(e&tg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Qy,srcEvent:t}))},e}(Cg),Vg=2500;function Wg(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),Vg)}}function $g(t,e){t&Zy?(this.primaryTouch=e.changedPointers[0].identifier,Wg.call(this,e)):t&(tg|eg)&&Wg.call(this,e)}function qg(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var Yg=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===Ky,o=n.pointerType===Qy;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)$g.call(Cy(Cy(i)),e,n);else if(o&&qg.call(Cy(Cy(i)),n))return;i.callback(t,e,n)}},i.touch=new zg(i.manager,i.handler),i.mouse=new Hg(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Iy(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Cg);function Xg(t,e,n){return!!Array.isArray(t)&&(dg(t,n[e],n),!0)}var Gg=32,Kg=1;function Qg(t,e){var n=e.manager;return n?n.get(t):t}function Jg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Zg=function(){function t(t){void 0===t&&(t={}),this.options=Ty({enable:!0},t),this.id=Kg++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Xg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Qg(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Xg(t,"dropRecognizeWith",this)||(t=Qg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Xg(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Dg(e,t=Qg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Xg(t,"dropRequireFailure",this))return this;t=Qg(t,this);var e=Dg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Jg(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Jg(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Gg},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Ay({},t);if(!fg(this.options.enable,[this,e]))return this.reset(),void(this.state=Gg);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),tm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ty({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Hy]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&Zy&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==tg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||bg(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return Gg},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Gg}),this.options.interval),Gg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Zg),em=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ty({pointers:1},e))||this}Iy(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&eg||!r)?16|e:i||r?n&tg?8|e:2&e?4|e:2:Gg},e}(Zg);function nm(t){return t===sg?"down":t===og?"up":t===ig?"left":t===rg?"right":""}var im=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ty({event:"pan",threshold:10,pointers:1,direction:ug},e))||this).pX=null,n.pY=null,n}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&ag&&e.push($y),t&lg&&e.push(Wy),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&ag?(r=0===o?ng:o<0?ig:rg,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?ng:s<0?og:sg,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return em.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=nm(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(em),rm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ty({event:"swipe",threshold:10,velocity:.3,direction:ag|lg,pointers:1},e))||this}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){return im.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(ag|lg)?n=e.overallVelocity:i&ag?n=e.overallVelocityX:i&lg&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Fy(n)>this.options.velocity&&e.eventType&tg},n.emit=function(t){var e=nm(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(em),om=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ty({event:"pinch",threshold:0,pointers:2},e))||this}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Vy]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(em),sm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ty({event:"rotate",threshold:0,pointers:2},e))||this}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Vy]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(em),am=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ty({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Iy(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Uy]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(tg|eg)&&!o)this.reset();else if(t.eventType&Zy)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(t.eventType&tg)return 8;return Gg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&t.eventType&tg?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=By(),this.manager.emit(this.options.event,this._input)))},e}(Zg),lm={domEvents:!1,touchAction:Ry,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},um=[[sm,{enable:!1}],[om,{enable:!1},["rotate"]],[rm,{direction:ag}],[im,{direction:ag},["swipe"]],[tm],[tm,{event:"doubletap",taps:2},["tap"]],[am]];function cm(t,e){var n,i=t.element;i.style&&(dg(t.options.cssProps,(function(r,o){n=Ly(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var hm=function(){function t(t,e){var n,i=this;this.options=Ay({},lm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Xy?Fg:Gy?zg:Yy?Yg:Hg))(n,Sg),this.touchAction=new vg(this,this.options.touchAction),cm(this,!0),dg(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof Zg)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(Xg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Xg(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=Dg(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return dg(Eg(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return dg(Eg(t),(function(t){e?n[t]&&n[t].splice(Dg(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&cm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),dm={touchstart:Zy,touchmove:2,touchend:tg,touchcancel:eg},fm=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return Iy(e,t),e.prototype.handler=function(t){var e=dm[t.type];if(e===Zy&&(this.started=!0),this.started){var n=pm.call(this,t,e);e&(tg|eg)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ky,srcEvent:t})}},e}(Cg);function pm(t,e){var n=Bg(t.touches),i=Bg(t.changedTouches);return e&(tg|eg)&&(n=Lg(n.concat(i),"identifier",!0)),[n,i]}function vm(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var ym=vm((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),gm=vm((function(t,e){return ym(t,e,!0)}),"merge","Use `assign`.");function mm(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Ay(i,n)}function bm(t,e){return function(){return t.apply(e,arguments)}}var wm=function(){var t=function(t,e){return void 0===e&&(e={}),new hm(t,Ty({recognizers:um.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=ug,t.DIRECTION_DOWN=sg,t.DIRECTION_LEFT=ig,t.DIRECTION_RIGHT=rg,t.DIRECTION_UP=og,t.DIRECTION_HORIZONTAL=ag,t.DIRECTION_VERTICAL=lg,t.DIRECTION_NONE=ng,t.DIRECTION_DOWN=sg,t.INPUT_START=Zy,t.INPUT_MOVE=2,t.INPUT_END=tg,t.INPUT_CANCEL=eg,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Gg,t.Manager=hm,t.Input=Cg,t.TouchAction=vg,t.TouchInput=zg,t.MouseInput=Hg,t.PointerEventInput=Fg,t.TouchMouseInput=Yg,t.SingleTouchInput=fm,t.Recognizer=Zg,t.AttrRecognizer=em,t.Tap=tm,t.Pan=im,t.Swipe=rm,t.Pinch=om,t.Rotate=sm,t.Press=am,t.on=Og,t.off=Tg,t.each=dg,t.merge=gm,t.extend=ym,t.bindFn=bm,t.assign=Ay,t.inherit=mm,t.bindFn=bm,t.prefixed=Ly,t.toArray=Bg,t.inArray=Dg,t.uniqueArray=Lg,t.splitStr=Eg,t.boolOrFn=fg,t.hasParent=yg,t.addEventListeners=Og,t.removeEventListeners=Tg,t.defaults=Ay({},lm,{preset:um}),t}();wm.defaults;var _m=wm;function km(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return xm(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xm(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Sm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var e=function(){for(var t=function(){var t=4022871197;return function(e){for(var n=e.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(t+=n.charCodeAt(i));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),e=t(" "),n=t(" "),i=t(" "),r=0;r<arguments.length;r++)(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[e,n,i]}(t),n=uf(e,3),i=n[0],r=n[1],o=n[2],s=1,a=function(){var t=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(e.length?e:[zf()])}hf("DELETE");var Em="undefined"!=typeof window?window.Hammer||_m:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Om(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=Em(this._dom.overlay);i.on("tap",Vi(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Jf(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}Qi(Om.prototype),Om.current=null,Om.prototype.destroy=function(){var t,e;this.deactivate();var n,i=km(lp(t=Dp(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},Om.prototype.activate=function(){Om.current&&Om.current.deactivate(),Om.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Om.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Om.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Tm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Im=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Dm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Am(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Am(e),t.removeChild(e))}}function Pm(t){return t instanceof String||"string"==typeof t}function Mm(t){return"object"===yd(t)&&null!==t}function Nm(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}function Fm(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in t)if(void 0!==e[i])if(null===e[i]||"object"!==yd(e[i]))Nm(t,e,i,n);else{var r=t[i],o=e[i];Mm(r)&&Mm(o)&&Fm(r,o,n)}}function Bm(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ef(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var o=t[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?jm(e[o],n[o],!1,i):Nm(e,n,o,i);else{if(Ef(n[o]))throw new TypeError("Arrays are not supported by deepExtend");Nm(e,n,o,i)}}return e}function Lm(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ef(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!Jp(t).call(t,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?jm(e[r],n[r]):Nm(e,n,r,i);else if(Ef(n[r])){e[r]=[];for(var o=0;o<n[r].length;o++)e[r].push(n[r][o])}else Nm(e,n,r,i);return e}function jm(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===n)if("object"===yd(e[r])&&null!==e[r]&&iv(e[r])===Object.prototype)void 0===t[r]?t[r]=jm({},e[r],n):"object"===yd(t[r])&&null!==t[r]&&iv(t[r])===Object.prototype?jm(t[r],e[r],n):Nm(t,e,r,i);else if(Ef(e[r])){var o;t[r]=mf(o=e[r]).call(o)}else Nm(t,e,r,i);return t}function zm(t,e){var n;return gf(n=[]).call(n,cf(t),[e])}function Rm(t){return t.getBoundingClientRect().top}function Um(t,e){if(Ef(t))for(var n=t.length,i=0;i<n;i++)e(t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Hm(t){var e;switch(t.length){case 3:case 4:return(e=Im.exec(t))?{r:Pv(e[1]+e[1],16),g:Pv(e[2]+e[2],16),b:Pv(e[3]+e[3],16)}:null;case 6:case 7:return(e=Tm.exec(t))?{r:Pv(e[1],16),g:Pv(e[2],16),b:Pv(e[3],16)}:null;default:return null}}function Vm(t,e){if(Jp(t).call(t,"rgba"))return t;if(Jp(t).call(t,"rgb")){var n=t.substr(Vv(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"}var i=Hm(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function Wm(t,e,n){var i;return"#"+mf(i=((1<<24)+(t<<16)+(e<<8)+n).toString(16)).call(i,1)}function $m(t,e){if(Pm(t)){var n=t;if(Km(n)){var i,r=Pf(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,(function(t){return Pv(t)}));n=Wm(r[0],r[1],r[2])}if(!0===Gm(n)){var o=function(t){var e=Hm(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return qm(e.r,e.g,e.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=Xm(a.h,a.s,a.v),u=Xm(s.h,s.s,s.v);return{background:n,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:Pm(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Pm(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Pm(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Pm(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function qm(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),r=Math.max(t,Math.max(e,n));return i===r?{h:0,s:0,v:i}:{h:60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/(r-i))/360,s:(r-i)/r,v:r}}function Ym(t,e,n){var i,r,o,s=Math.floor(6*t),a=6*t-s,l=n*(1-e),u=n*(1-a*e),c=n*(1-(1-a)*e);switch(s%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function Xm(t,e,n){var i=Ym(t,e,n);return Wm(i.r,i.g,i.b)}function Gm(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Km(t){return Cm.test(t)}function Qm(t){if(null===t||"object"!==yd(t))return null;if(t instanceof Element)return t;var e=qv(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"object"==yd(t[n])&&(e[n]=Qm(t[n]));return e}function Jm(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===yd(t)};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var s=e[n],a=o(i)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(i)?i[n]:void 0,l=a?a.enabled:void 0;if(void 0!==s){if("boolean"==typeof s)return o(t[n])||(t[n]={}),void(t[n].enabled=s);if(null===s&&!o(t[n])){if(!r(a))return;t[n]=qv(a)}if(o(s)){var u=!0;void 0!==s.enabled?u=s.enabled:void 0!==l&&(u=a.enabled),function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}(t,e,n),t[n].enabled=u}}}var Zm={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function tb(t,e){var n;Ef(e)||(e=[e]);var i,r=km(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[e[0]];for(var s=1;s<e.length;s++)n&&(n=n[e[s]]);if(void 0!==n)break}}}catch(t){r.e(t)}finally{r.f()}return n}var eb={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},nb=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;vl(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return wd(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return eb[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===Pm(t)){if(!0===Km(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===function(t){return Dm.test(t)}(t)){var o=t.substr(5).substr(0,t.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===Gm(t)){var s=Hm(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Kv(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=_i({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",vy((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=_i({},t)),this.color=t;var e=qm(t.r,t.g,t.b),n=2*Math.PI,i=this.r*e.s,r=this.centerCoordinates.x+i*Math.sin(n*e.h),o=this.centerCoordinates.y+i*Math.cos(n*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=qm(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=Ym(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=qm(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Oy(n).call(n),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Vi(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Vi(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Vi(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Vi(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Em(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,n,i,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,l=2*Math.PI/360,u=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(l*i),n=this.centerCoordinates.y+r*Math.cos(l*i),a=Ym(.002777777777777778*i,r*u,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=n-o,a=i-r,l=Math.atan2(s,a),u=.98*Math.min(Math.sqrt(s*s+a*a),o),c=Math.cos(l)*u+r,h=Math.sin(l)*u+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var f=u/this.r,p=qm(this.color.r,this.color.g,this.color.b);p.h=d,p.s=f;var v=Ym(p.h,p.s,p.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function ib(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(ib.apply(void 0,cf(mf(e).call(e,1)))),i}var rb,ob=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};vl(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},_i(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new nb(r),this.wrapper=void 0}return wd(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(Ef(t))this.options.filter=t.join();else if("object"===yd(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==cv(t)&&(this.options.filter=cv(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===cv(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=cv(this.options),e=0,n=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,"function"==typeof t?n=(n=t(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==t&&-1===Vv(t).call(t,i)||(n=!0),!1!==n&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Jf(i).call(i,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===n){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(ib("i","b",t))}else i.innerText=t+":";return i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==Vv(t).call(t,e)&&(r=Vv(t).call(t,e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerText=t[o],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var l="",u=0;if(void 0!==e){var c=1.2;e<0&&e*c<r?(a.min=Math.ceil(e*c),u=a.min,l="range increased"):e/c<r&&(a.min=Math.ceil(e/c),u=a.min,l="range increased"),e*c>o&&1!==o&&(a.max=Math.ceil(e*c),u=a.max,l="range increased"),a.value=e}else a.value=i;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;var d=this;a.onchange=function(){h.value=this.value,d._update(Number(this.value),n)},a.oninput=function(){h.value=this.value};var f=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,f,a,h);""!==l&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(l,p))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=vy((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=vy((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===yd(t)?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){i._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=cv(this.options),o=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){i=!0;var a=t[s],l=zm(e,s);if("function"==typeof r&&!1===(i=r(s,e))&&!Ef(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,l,!0),this.allowCreation=!1===n),!1!==i){o=!0;var u=this._getValue(l);if(Ef(a))this._handleArray(a,u,l);else if("string"==typeof a)this._makeTextInput(a,u,l);else if("boolean"==typeof a)this._makeCheckbox(a,u,l);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var c=zm(l,"enabled"),h=this._getValue(c);if(!0===h){var d=this._makeLabel(s,l,!0);this._makeItem(l,d),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,h,l)}else{var f=this._makeLabel(s,l,!0);this._makeItem(l,f),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r!==e.length-1?i=i[e[r]]:i[e[r]]=t);return n}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ib("pre","const options = "+Kv(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),sb=function(){function t(e,n){vl(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return wd(t,[{key:"setPosition",value:function(t,e){this.x=Pv(t),this.y=Pv(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>i&&(s=i-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),ab=!1,lb="background: #FFeeee; color: #dd0000",ub=function(){function t(){vl(this,t)}return wd(t,null,[{key:"validate",value:function(e,n,i){ab=!1,rb=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),ab}},{key:"parse",value:function(e,n,i){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,n,i)}},{key:"check",value:function(e,n,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",s="object"===t.getType(n[e]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,o,a,r)}else t.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,n,i,r,o,s){var a=function(n){console.error("%c"+n+t.printLocation(s,e),lb)},l=t.getType(n[e]),u=o[l];void 0!==u?"array"===t.getType(u)&&-1===Vv(u).call(u,n[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(u)+' not "'+n[e]+'". '),ab=!0):"object"===l&&"__any__"!==r&&(s=zm(s,e),t.parse(n[e],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Ff(o))+". Received ["+l+'] "'+n[e]+'"'),ab=!0)}},{key:"getType",value:function(t){var e=yd(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Ef(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var r,o=t.findInOptions(e,n,i,!1),s=t.findInOptions(e,rb,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Ff(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+r,lb),ab=!0}},{key:"findInOptions",value:function(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",l=[],u=e.toLowerCase(),c=void 0;for(var h in n){var d=void 0;if(void 0!==n[h].__type__&&!0===o){var f=t.findInOptions(e,n[h],zm(i,h));s>f.distance&&(a=f.closestMatch,l=f.path,s=f.distance,c=f.indexMatch)}else{var p;-1!==Vv(p=h.toLowerCase()).call(p,u)&&(c=h),s>(d=t.levenshteinDistance(e,h))&&(a=h,l=mf(r=i).call(r),s=d)}}return{closestMatch:a,path:l,distance:s,indexMatch:c}}},{key:"printLocation",value:function(t,e){for(var n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<t.length;i++){for(var r=0;r<i+1;r++)n+="  ";n+=t[i]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return Kv(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,r=[];for(n=0;n<=e.length;n++)r[n]=[n];for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}}]),t}(),cb=Om,hb=ob,db=Em,fb=sb,pb=lb,vb=ub;function yb(t){return _b=t,function(){var t={};if(kb=0,xb=_b.charAt(0),Nb(),"strict"===Sb&&(t.strict=!0,Nb()),"graph"!==Sb&&"digraph"!==Sb||(t.type=Sb,Nb()),Eb===bb.IDENTIFIER&&(t.id=Sb,Nb()),"{"!=Sb)throw Rb("Angle bracket { expected");if(Nb(),Fb(t),"}"!=Sb)throw Rb("Angle bracket } expected");if(Nb(),""!==Sb)throw Rb("End of file expected");return Nb(),delete t.node,delete t.edge,delete t.graph,t}()}var gb={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},mb=qv(gb);mb.color="color.color",mb.style="dashes";var bb={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},wb={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},_b="",kb=0,xb="",Sb="",Eb=bb.NULL;function Ob(){kb++,xb=_b.charAt(kb)}function Tb(){return _b.charAt(kb+1)}function Ib(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Cb(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Db(t,e,n){for(var i=e.split("."),r=t;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function Ab(t,e){for(var n,i,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(e.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:e.id},t.node&&(r.attr=Cb(r.attr,t.node))),n=o.length-1;n>=0;n--){var a,l=o[n];l.nodes||(l.nodes=[]),-1===Vv(a=l.nodes).call(a,r)&&l.nodes.push(r)}e.attr&&(r.attr=Cb(r.attr,e.attr))}function Pb(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=Cb({},t.edge);e.attr=Cb(n,e.attr)}}function Mb(t,e,n,i,r){var o={from:e,to:n,type:i};return t.edge&&(o.attr=Cb({},t.edge)),o.attr=Cb(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function Nb(){for(Eb=bb.NULL,Sb="";" "===xb||"\t"===xb||"\n"===xb||"\r"===xb;)Ob();do{var t=!1;if("#"===xb){for(var e=kb-1;" "===_b.charAt(e)||"\t"===_b.charAt(e);)e--;if("\n"===_b.charAt(e)||""===_b.charAt(e)){for(;""!=xb&&"\n"!=xb;)Ob();t=!0}}if("/"===xb&&"/"===Tb()){for(;""!=xb&&"\n"!=xb;)Ob();t=!0}if("/"===xb&&"*"===Tb()){for(;""!=xb;){if("*"===xb&&"/"===Tb()){Ob(),Ob();break}Ob()}t=!0}for(;" "===xb||"\t"===xb||"\n"===xb||"\r"===xb;)Ob()}while(t);if(""!==xb){var n=xb+Tb();if(wb[n])return Eb=bb.DELIMITER,Sb=n,Ob(),void Ob();if(wb[xb])return Eb=bb.DELIMITER,Sb=xb,void Ob();if(Ib(xb)||"-"===xb){for(Sb+=xb,Ob();Ib(xb);)Sb+=xb,Ob();return"false"===Sb?Sb=!1:"true"===Sb?Sb=!0:isNaN(Number(Sb))||(Sb=Number(Sb)),void(Eb=bb.IDENTIFIER)}if('"'===xb){for(Ob();""!=xb&&('"'!=xb||'"'===xb&&'"'===Tb());)'"'===xb?(Sb+=xb,Ob()):"\\"===xb&&"n"===Tb()?(Sb+="\n",Ob()):Sb+=xb,Ob();if('"'!=xb)throw Rb('End of string " expected');return Ob(),void(Eb=bb.IDENTIFIER)}for(Eb=bb.UNKNOWN;""!=xb;)Sb+=xb,Ob();throw new SyntaxError('Syntax error in part "'+Ub(Sb,30)+'"')}Eb=bb.DELIMITER}function Fb(t){for(;""!==Sb&&"}"!=Sb;)Bb(t),";"===Sb&&Nb()}function Bb(t){var e=Lb(t);if(e)jb(t,e);else{var n=function(t){return"node"===Sb?(Nb(),t.node=zb(),"node"):"edge"===Sb?(Nb(),t.edge=zb(),"edge"):"graph"===Sb?(Nb(),t.graph=zb(),"graph"):null}(t);if(!n){if(Eb!=bb.IDENTIFIER)throw Rb("Identifier expected");var i=Sb;if(Nb(),"="===Sb){if(Nb(),Eb!=bb.IDENTIFIER)throw Rb("Identifier expected");t[i]=Sb,Nb()}else!function(t,e){var n={id:e},i=zb();i&&(n.attr=i),Ab(t,n),jb(t,e)}(t,i)}}}function Lb(t){var e=null;if("subgraph"===Sb&&((e={}).type="subgraph",Nb(),Eb===bb.IDENTIFIER&&(e.id=Sb,Nb())),"{"===Sb){if(Nb(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,Fb(e),"}"!=Sb)throw Rb("Angle bracket } expected");Nb(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function jb(t,e){for(;"->"===Sb||"--"===Sb;){var n,i=Sb;Nb();var r=Lb(t);if(r)n=r;else{if(Eb!=bb.IDENTIFIER)throw Rb("Identifier or subgraph expected");Ab(t,{id:n=Sb}),Nb()}Pb(t,Mb(t,e,n,i,zb())),e=n}}function zb(){for(var t,e,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Sb;){for(Nb(),n={};""!==Sb&&"]"!=Sb;){if(Eb!=bb.IDENTIFIER)throw Rb("Attribute name expected");var a=Sb;if(Nb(),"="!=Sb)throw Rb("Equal sign = expected");if(Nb(),Eb!=bb.IDENTIFIER)throw Rb("Attribute value expected");var l=Sb;"style"===a&&(l=i[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:n,name:a,value:l}),s.push(a),Nb(),","==Sb&&Nb()}if("]"!=Sb)throw Rb("Bracket ] expected");Nb()}if(Jp(s).call(s,"dir")){var u={arrows:{}};for(t=0;t<o.length;t++)if("arrows"===o[t].name)if(null!=o[t].value.to)u.arrows.to=t;else{if(null==o[t].value.from)throw Rb("Invalid value of arrows");u.arrows.from=t}else"dir"===o[t].name&&(u.dir=t);var c,h,d=o[u.dir].value;if(!Jp(s).call(s,"arrows"))if("both"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1,o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else{if("none"!==d)throw Rb('Invalid dir type "'+d+'"');o.push({attr:o[u.dir].attr,name:"arrows",value:""}),u.arrows.to=o.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(h=o[u.arrows.to].value.to.type,c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Dp(o).call(o,u.arrows.from,1)):u.arrows.to?(h=o[u.arrows.to].value.to.type,c="arrow",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if("back"===d)u.arrows.to&&u.arrows.from?(h="",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="",c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{from:{enabled:!0,type:o[u.arrows.from].value.from.type}}};else if("none"===d){var f;o[f=u.arrows.to?u.arrows.to:u.arrows.from]={attr:o[f].attr,name:o[f].name,value:""}}else{if("forward"!==d)throw Rb('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?(h=o[u.arrows.to].value.to.type,c="",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:o[u.arrows.to].value.to.type}}}}Dp(o).call(o,u.dir,1)}if(Jp(s).call(s,"penwidth")){var p=[];for(e=o.length,t=0;t<e;t++)"width"!==o[t].name&&("penwidth"===o[t].name&&(o[t].name="width"),p.push(o[t]));o=p}for(e=o.length,t=0;t<e;t++)Db(o[t].attr,o[t].name,o[t].value);return n}function Rb(t){return new SyntaxError(t+', got "'+Ub(Sb,30)+'" (char '+kb+")")}function Ub(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Hb(t,e,n){for(var i=e.split("."),r=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,t}function Vb(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e[i];Ef(r)?Jf(r).call(r,(function(e){Hb(n,e,t[i])})):Hb(n,"string"==typeof r?r:i,t[i])}return n}function Wb(t){var e,n=yb(t),i={nodes:[],edges:[],options:{}};if(n.nodes&&Jf(e=n.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};Cb(e,Vb(t.attr,gb)),e.image&&(e.shape="image"),i.nodes.push(e)})),n.edges){var r,o=function(t){var e={from:t.from,to:t.to};return Cb(e,Vb(t.attr,mb)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Jf(r=n.edges).call(r,(function(t){var e,n,r,s,a,l,u;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&Jf(r=t.from.edges).call(r,(function(t){var e=o(t);i.edges.push(e)})),a=n,l=function(e,n){var r=Mb(i,e.id,n.id,t.type,t.attr),s=o(r);i.edges.push(s)},Ef(s=e)?Jf(s).call(s,(function(t){Ef(a)?Jf(a).call(a,(function(e){l(t,e)})):l(t,a)})):Ef(a)?Jf(a).call(a,(function(t){l(s,t)})):l(s,a),t.to instanceof Object&&t.to.edges&&Jf(u=t.to.edges).call(u,(function(t){var e=o(t);i.edges.push(e)}))}))}return n.attr&&(i.options=n.attr),i}var $b=Object.freeze({__proto__:null,DOTToGraph:Wb,parseDOT:yb});function qb(t,e){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var r=t.edges,o=Pf(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===i.edges.inheritColor&&(e.color=t.color),e}));return{nodes:Pf(n=t.nodes).call(n,(function(t){var e={id:t.id,fixed:i.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===i.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:o}}var Yb=Object.freeze({__proto__:null,parseGephi:qb}),Xb=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"}}),Gb=function(){function t(){vl(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return wd(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),u=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,l,r],[5*l,i,u,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else t.drawImage(this.image,n,i,r,o)}}]),t}(),Kb=function(){function t(e){vl(this,t),this.images={},this.imageBroken={},this.callback=e}return wd(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){void 0!==t&&void 0!==n&&(void 0!==e?(n.image.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var r=new Gb;return this.images[t]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),Qb={exports:{}},Jb=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Zb=a,tw=nt,ew=k,nw=Jb,iw=Object.isExtensible,rw=Zb((function(){iw(1)}))||nw?function(t){return!!tw(t)&&(!nw||"ArrayBuffer"!==ew(t))&&(!iw||iw(t))}:iw,ow=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),sw=An,aw=m,lw=Gn,uw=nt,cw=te,hw=Ze.f,dw=Zl,fw=nu,pw=rw,vw=ow,yw=!1,gw=oe("meta"),mw=0,bw=function(t){hw(t,gw,{value:{objectID:"O"+mw++,weakData:{}}})},ww=Qb.exports={enable:function(){ww.enable=function(){},yw=!0;var t=dw.f,e=aw([].splice),n={};n[gw]=1,t(n).length&&(dw.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===gw){e(i,r,1);break}return i},sw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fw.f}))},fastKey:function(t,e){if(!uw(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!cw(t,gw)){if(!pw(t))return"F";if(!e)return"E";bw(t)}return t[gw].objectID},getWeakData:function(t,e){if(!cw(t,gw)){if(!pw(t))return!0;if(!e)return!1;bw(t)}return t[gw].weakData},onFreeze:function(t){return vw&&yw&&pw(t)&&!cw(t,gw)&&bw(t),t}};lw[gw]=!0;var _w=Qb.exports,kw=Je,xw=N,Sw=on,Ew=Ct,Ow=Ys,Tw=Vn,Iw=ut,Cw=Ia,Dw=_a,Aw=Us,Pw=TypeError,Mw=function(t,e){this.stopped=t,this.result=e},Nw=Mw.prototype,Fw=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=kw(e,c),y=function(t){return i&&Aw(i,"normal",t),new Mw(!0,t)},g=function(t){return h?(Sw(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)i=t.iterator;else if(f)i=t;else{if(!(r=Dw(t)))throw new Pw(Ew(t)+" is not iterable");if(Ow(r)){for(o=0,s=Tw(t);s>o;o++)if((a=g(t[o]))&&Iw(Nw,a))return a;return new Mw(!1)}i=Cw(t,r)}for(l=d?t.next:i.next;!(u=xw(l,i)).done;){try{a=g(u.value)}catch(t){Aw(i,"throw",t)}if("object"==typeof a&&a&&Iw(Nw,a))return a}return new Mw(!1)},Bw=ut,Lw=TypeError,jw=function(t,e){if(Bw(e,t))return t;throw new Lw("Incorrect invocation")},zw=An,Rw=s,Uw=_w,Hw=a,Vw=bn,Ww=Fw,$w=jw,qw=C,Yw=nt,Xw=Y,Gw=Ko,Kw=Ze.f,Qw=Fu.forEach,Jw=A,Zw=Ur.set,t_=Ur.getterFor,e_=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Rw[t],l=a&&a.prototype,u={};if(Jw&&qw(a)&&(o||l.forEach&&!Hw((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){Zw($w(e,c),{type:t,collection:new a}),Xw(n)||Ww(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=t_(t);Qw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in l)||o&&"clear"===t||Vw(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!Yw(n))return"get"===t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||Kw(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Uw.enable();return Gw(i,t,!1,!0),u[t]=i,zw({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},n_=Ao,i_=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:n_(t,i,e[i],n);return t},r_=lt,o_=vu,s_=A,a_=pe("species"),l_=wo,u_=vu,c_=i_,h_=Je,d_=jw,f_=Y,p_=Fw,v_=Is,y_=Cs,g_=function(t){var e=r_(t);s_&&e&&!e[a_]&&o_(e,a_,{configurable:!0,get:function(){return this}})},m_=A,b_=_w.fastKey,w_=Ur.set,__=Ur.getterFor,k_={getConstructor:function(t,e,n,i){var r=t((function(t,r){d_(t,o),w_(t,{type:e,index:l_(null),first:void 0,last:void 0,size:0}),m_||(t.size=0),f_(r)||p_(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=__(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=b_(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),m_?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=b_(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===e)return n};return c_(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,m_?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),m_?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=h_(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),c_(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),m_&&u_(o,"size",{configurable:!0,get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=__(e),o=__(i);v_(t,e,(function(t,e){w_(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?y_("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,y_(void 0,!0))}),n?"entries":"values",!n,!0),g_(e)}};e_("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),k_);var x_=r(it.Map),S_=function(){function t(){vl(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},_i(this.options,this.defaultOptions)}return wd(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&-1===Vv(e).call(e,n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this._groups=new x_,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(t);if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[i]),this._groups.set(t,n)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[r],this._groups.set(t,n)}return n}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();An({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var E_=r(it.Number.isNaN),O_=s.isFinite,T_=Number.isFinite||function(t){return"number"==typeof t&&O_(t)};An({target:"Number",stat:!0},{isFinite:T_});var I_=r(it.Number.isFinite),C_=Fu.some;An({target:"Array",proto:!0,forced:!Uf("some")},{some:function(t){return C_(this,t,arguments.length>1?arguments[1]:void 0)}});var D_=Bi("Array").some,A_=ut,P_=D_,M_=Array.prototype,N_=function(t){var e=t.some;return t===M_||A_(M_,t)&&e===M_.some?P_:e},F_=r(N_),B_=r(it.Object.getOwnPropertySymbols),L_={exports:{}},j_=An,z_=a,R_=Z,U_=D.f,H_=A;j_({target:"Object",stat:!0,forced:!H_||z_((function(){U_(1)})),sham:!H_},{getOwnPropertyDescriptor:function(t,e){return U_(R_(t),e)}});var V_=it.Object,W_=L_.exports=function(t,e){return V_.getOwnPropertyDescriptor(t,e)};V_.getOwnPropertyDescriptor.sham&&(W_.sham=!0);var $_=L_.exports,q_=r($_),Y_=Sf,X_=Z,G_=D,K_=va;An({target:"Object",stat:!0,sham:!A},{getOwnPropertyDescriptors:function(t){for(var e,n,i=X_(t),r=G_.f,o=Y_(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&K_(s,e,n);return s}});var Q_=r(it.Object.getOwnPropertyDescriptors),J_={exports:{}},Z_=An,tk=A,ek=Xr.f;Z_({target:"Object",stat:!0,forced:Object.defineProperties!==ek,sham:!tk},{defineProperties:ek});var nk=it.Object,ik=J_.exports=function(t,e){return nk.defineProperties(t,e)};nk.defineProperties.sham&&(ik.sham=!0);var rk=r(J_.exports),ok=r(kl);function sk(t,e,n){return(e=md(e))in t?xl(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ak=s,lk=a,uk=dr,ck=bv.trim,hk=hv,dk=m("".charAt),fk=ak.parseFloat,pk=ak.Symbol,vk=pk&&pk.iterator,yk=1/fk(hk+"-0")!=-1/0||vk&&!lk((function(){fk(Object(vk))}))?function(t){var e=ck(uk(t)),n=fk(e);return 0===n&&"-"===dk(e,0)?-0:n}:fk;An({global:!0,forced:parseFloat!==yk},{parseFloat:yk});var gk=r(it.parseFloat),mk=An,bk=a,wk=nu.f;mk({target:"Object",stat:!0,forced:bk((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:wk});var _k=it.Object,kk=function(t){return _k.getOwnPropertyNames(t)},xk=r(kk);function Sk(t,e){var n=["node","edge","label"],i=!0,r=tb(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===yd(r)){if(-1===Vv(n).call(n,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var o=tb(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function Ek(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var r=-n.angle;e={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else e=i}var o=t.x+t.width,s=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&s>e.y}function Ok(t){return"string"==typeof t&&""!==t}function Tk(t,e,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=l,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var Ik=Bi("Array").values,Ck=ur,Dk=te,Ak=ut,Pk=Ik,Mk=Array.prototype,Nk={DOMTokenList:!0,NodeList:!0},Fk=function(t){var e=t.values;return t===Mk||Ak(Mk,t)&&e===Mk.values||Dk(Nk,Ck(t))?Pk:e},Bk=r(Fk),Lk=function(){function t(e){vl(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return wd(t,[{key:"_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;void 0!==e&&""!==e||(i=" ");var r=this.measureText(i,n),o=_i({},Bk(r));o.text=e,o.width=r.width,o.mod=n,void 0!==e&&""!==e||(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var r=e.blocks[i];n<r.height&&(n=r.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var i={};_i(i,n),i.blocks=[];for(var r=void 0,o=[],s=0;s<n.blocks.length;s++){var a=n.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,t.push(i)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),jk={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},zk=function(){function t(e){vl(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return wd(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=uf(this.prepareRegExp(t),2),i=n[0],r=n[1],o=i.test(this.text.substr(this.position,r));return o&&e&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(t,e,n){var i=this.mod()===t;return!(!(i="mono"===t?i&&this.mono:i&&!this.mono)||!this.match(e))&&(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,n;if(t instanceof RegExp)n=t,e=1;else{var i=jk[t];n=void 0!==i?i:new RegExp(t),e=t.length}return[n,e]}}]),t}(),Rk=function(){function t(e,n,i,r){var o=this;vl(this,t),this.ctx=e,this.parent=n,this.selected=i,this.hover=r,this.lines=new Lk((function(t,n){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,i,r,n),a=0;return""!==t&&(a=o.ctx.measureText(t).width),{width:a,values:s}}))}return wd(t,[{key:"process",value:function(t){if(!Ok(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++){var a=o[s].mod,l=o[s].text;this.splitStringIntoLines(l,a,!0)}else for(var u=0;u<o.length;u++){var c=o[u].mod,h=o[u].text;this.lines.append(h,c)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var d=0;d<i;d++)this.splitStringIntoLines(n[d]);else for(var f=0;f<i;f++)this.lines.newLine(n[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new zk(t),n=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var i=e.text.charAt(e.position);e.parseWS(i)||/</.test(i)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||n(i)||e.add(i),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,n=new zk(t),i=!0,r=function(t){return!!/\\/.test(t)&&(n.position<e.text.length+1&&(n.position++,t=e.text.charAt(n.position),/ \t/.test(t)?n.spacing=!0:(n.add(t),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=e+(""===e?"":" ")+t[n];if(this.overMaxWidth(i))break;e=i,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(mf(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var i=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],s=this.getLongestFitWord(o);this.lines.newLine(mf(o).call(o,0,s),e),i[0]=mf(o).call(o,s)}else{var a=r;" "===i[r-1]?r--:" "===i[a]&&a++;var l=mf(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(l,e):this.lines.newLine(l,e),i=mf(i).call(i,a)}}}}]),t}(),Uk=["bold","ital","boldital","mono"],Hk=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];vl(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return wd(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),Ok(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===yd(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var n=this;Um(Uk,(function(t){n.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Um(e,(function(t,e){null!=t&&"object"!==yd(t)&&(n.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=tb(t,"widthConstraint");if("number"==typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===yd(n)){var i=tb(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));var r=tb(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var o=tb(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"===yd(o)){var s=tb(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=tb(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),jm(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Sk("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var r=e[i],o={};t.parseFontString(o,r)&&(r=o),Um(r,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(n,e)||(-1!==Vv(Uk).call(Uk,e)?n[e]={}:n[e]=t))}))}return n}},{key:"getFontOption",value:function(e,n,i){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,n)){if(null==(r=s[n]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(t,e,o)}return n}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(){var t=Uk[r],i=e.fontOptions[t];Um(e.getFontOptions(n,t),(function(t,e){i[e]=t})),i.size=Number(i.size),i.vadjust=Number(i.vadjust)},r=0;r<Uk.length;++r)i()}},{key:"draw",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,r,e,n,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=uf(this._setAlignment(t,e,n,i),2);e=o[0],n=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-a.width);for(var u=0;u<a.blocks.length;u++){var c=a.blocks[u];t.font=c.font;var h=uf(this._getColor(c.color,r,c.strokeColor),2),d=h[0],f=h[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=f,t.lineJoin="round"),t.fillStyle=d,c.strokeWidth>0&&t.strokeText(c.text,e+l,n+c.vadjust),t.fillText(c.text,e+l,n+c.vadjust),l+=c.width}n+=a.height}}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,n=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",r=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=Vm(i,o),r=Vm(r,o)}return[i,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var r=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){return new Rk(t,this,e,n).process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=+n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),t}(),Vk=ha,Wk=Ct,$k=TypeError,qk=An,Yk=f,Xk=Mi,Gk=function(t){if(Vk(t))return t;throw new $k(Wk(t)+" is not a constructor")},Kk=on,Qk=nt,Jk=wo,Zk=a,tx=lt("Reflect","construct"),ex=Object.prototype,nx=[].push,ix=Zk((function(){function t(){}return!(tx((function(){}),[],t)instanceof t)})),rx=!Zk((function(){tx((function(){}))})),ox=ix||rx;qk({target:"Reflect",stat:!0,forced:ox,sham:ox},{construct:function(t,e){Gk(t),Kk(e);var n=arguments.length<3?t:Gk(arguments[2]);if(rx&&!ix)return tx(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return Yk(nx,i,e),new(Yk(Xk,t,i))}var r=n.prototype,o=Jk(Qk(r)?r:ex),s=Yk(t,o,e);return Qk(s)?s:o}});var sx=r(it.Reflect.construct),ax=r($v);An({target:"Object",stat:!0},{setPrototypeOf:ds});var lx=r(it.Object.setPrototypeOf),ux=r(Hi);function cx(t,e){var n;return cx=lx?ux(n=lx).call(n):function(t,e){return t.__proto__=e,t},cx(t,e)}function hx(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ax(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),xl(t,"prototype",{writable:!1}),e&&cx(t,e)}function dx(t,e){if(e&&("object"===yd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var fx=r(nv);function px(t){var e;return px=lx?ux(e=fx).call(e):function(t){return t.__proto__||fx(t)},px(t)}var vx=function(){function t(e,n,i){vl(this,t),this.body=n,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==yd(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),n>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Oy(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),t}();function yx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var gx=function(t){hx(n,t);var e=yx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),$i(t,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),n}(vx);function mx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var bx=function(t){hx(n,t);var e=mx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r)).labelOffset=0,o.selected=!1,o}return wd(n,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==yd(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),Wi(t,e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,s=this.width-i.left-i.right,a=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(t,n,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(t,i,r);s.lineCount>=1&&(o+=s.height/2)}var a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,a,i,r,"hanging")}}]),n}(vx);function wx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var _x=function(t){hx(n,t);var e=wx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),n}(bx);function kx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var xx=function(t){hx(n,t);var e=kx(n);function n(t,i,r,o,s){var a;return vl(this,n),(a=e.call(this,t,i,r)).setImages(o,s),a}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){this.switchImages(i),this.resize();var s=e,a=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),this._drawRawCircle(t,s,a,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),n}(bx);function Sx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Ex=function(t){hx(n,t);var e=Sx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){var r,o;this.labelModule.getTextSize(t,e,n);var s=2*i.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,r,o,s,a){var l,u=this;return this.resize(t,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(l=e,Object.prototype.hasOwnProperty.call(Gi,l)?Gi[l]:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[l].call(t,n)})(t,i,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,i,r)),{drawExternalLabel:function(){if(void 0!==u.options.label){u.labelModule.calculateLabelSize(t,o,s,i,r,"hanging");var e=r+.5*u.height+.5*u.labelModule.size.height;u.labelModule.draw(t,i,e,o,s,"hanging")}u.updateBoundingBox(i,r)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}(vx);function Ox(t,e){var n=Ff(t);if(B_){var i=B_(t);e&&(i=cv(i).call(i,(function(e){return q_(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tx(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Jf(n=Ox(Object(r),!0)).call(n,(function(e){sk(t,e,r[e])})):Q_?rk(t,Q_(r)):Jf(i=Ox(Object(r))).call(i,(function(e){ok(t,e,q_(r,e))}))}return t}function Ix(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Cx=function(t){hx(n,t);var e=Ix(n);function n(t,i,r,o){var s;return vl(this,n),(s=e.call(this,t,i,r,o)).ctxRenderer=o,s}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r,o),this.left=e-this.width/2,this.top=n-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:n,state:{selected:i,hover:r},style:Tx({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function Dx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Ax=function(t){hx(n,t);var e=Dx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return wd(n,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),Yi(t,e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(vx);function Px(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Mx=function(t){hx(n,t);var e=Px(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"diamond",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function Nx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Fx=function(t){hx(n,t);var e=Nx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"circle",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),n}(Ex);function Bx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Lx=function(t){hx(n,t);var e=Bx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,o),qi(t,this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,e,n,i,r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=.5*this.width,i=.5*this.height,r=Math.sin(e)*n,o=Math.cos(e)*i;return n*i/Math.sqrt(r*r+o*o)}}]),n}(vx);function jx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var zx=function(t){hx(n,t);var e=jx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return wd(n,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){var s=this;return this.resize(t,i,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,n+s.height/2+5,i),s.updateBoundingBox(e,n)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(vx);function Rx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Ux=function(t){hx(n,t);var e=Rx(n);function n(t,i,r,o,s){var a;return vl(this,n),(a=e.call(this,t,i,r)).setImages(o,s),a}return wd(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){t.save(),this.switchImages(i),this.resize();var s=e,a=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var l=this.options.borderWidth,u=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?u:l)/this.body.view.scale;t.lineWidth=Math.min(this.width,c),t.beginPath();var h=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,d=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(h=Vm(h,o.opacity),d=Vm(d,o.opacity)),t.strokeStyle=h,t.fillStyle=d,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Oy(t).call(t),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(bx);function Hx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Vx=function(t){hx(n,t);var e=Hx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"square",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function Wx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var $x=function(t){hx(n,t);var e=Wx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"hexagon",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function qx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Yx=function(t){hx(n,t);var e=qx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"star",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function Xx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Gx=function(t){hx(n,t);var e=Xx(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return wd(n,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(t,o),this.updateBoundingBox(e,n,t,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(vx);function Kx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Qx=function(t){hx(n,t);var e=Kx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangle",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function Jx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var Zx=function(t){hx(n,t);var e=Jx(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangleDown",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Ex);function tS(t,e){var n=Ff(t);if(B_){var i=B_(t);e&&(i=cv(i).call(i,(function(e){return q_(t,e).enumerable}))),n.push.apply(n,i)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Jf(n=tS(Object(r),!0)).call(n,(function(e){sk(t,e,r[e])})):Q_?rk(t,Q_(r)):Jf(i=tS(Object(r))).call(i,(function(e){ok(t,e,q_(r,e))}))}return t}var nS=function(){function t(e,n,i,r,o,s){vl(this,t),this.options=Qm(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Hk(this.body,this.options,!1),this.setOptions(e)}return wd(t,[{key:"attachEdge",value:function(t){var e;-1===Vv(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,n,i=Vv(e=this.edges).call(e,t);-1!=i&&Dp(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Pv(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Pv(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=gk(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=Sk("node",i),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=Vm(t.borderColor,e),t.color=Vm(t.color,e),t.shadowColor=Vm(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,eS(eS({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new gx(this.options,this.body,this.labelModule);break;case"circle":this.shape=new _x(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new xx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Cx(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Ax(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Mx(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Fx(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Lx(this.options,this.body,this.labelModule);break;case"icon":this.shape=new zx(this.options,this.body,this.labelModule);break;case"image":this.shape=new Ux(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Vx(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new $x(this.options,this.body,this.labelModule);break;case"star":this.shape=new Yx(this.options,this.body,this.labelModule);break;case"text":this.shape=new Gx(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Qx(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Zx(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&Ek(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),Ek(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,n,i){var r;if(void 0!==i){var o=e.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===n.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=cv(r=xk(n)).call(r,(function(t){return null!=n[t]}));a.push("font"),Lm(a,e,s),e.color=$m(e.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Lm(["color","fixed","shadow"],e,n,i),t.checkMass(n),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==n.opacity&&(t.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!t.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),Jm(e,n,"shadow",r),void 0!==n.color&&null!==n.color){var s=$m(n.color);Fm(e.color,s)}else!0===i&&null===n.color&&(e.color=Qm(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=Qm(r.font)),t.updateGroupOptions(e,n,o),void 0!==n.scaling&&Jm(e.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",pb),t.mass=1}}}]),t}();function iS(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return rS(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?rS(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function rS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var oS=function(){function t(e,n,i,r){var o,s=this;if(vl(this,t),this.body=e,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=Vi(o=this.create).call(o,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Qm(this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("refreshNodes",Vi(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Vi(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Um(n.nodesListeners,(function(t,e){n.body.data.nodes&&n.body.data.nodes.off(e,t)})),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(nS.parseOptions(this.options,t),void 0!==t.opacity&&(E_(t.opacity)||!I_(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var n=0,i=Ff(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==t.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(Ef(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(i&&Um(this.nodesListeners,(function(t,e){i.off(e,t)})),this.body.nodes={},this.body.data.nodes){var r=this;Um(this.nodesListeners,(function(t,e){r.body.data.nodes.on(e,t)}));var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);i.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=i[s],l=e[o];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),i[s]=a)}r||void 0===n||(r=F_(e).call(e,(function(t,e){var i=n[e];return i&&i.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++)delete e[t[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:nS)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Um(this.body.nodes,(function(n,i){var r=t.body.data.nodes.get(i);void 0!==r&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Ef(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],n=this.body.data.nodes.getDataSet(),i=iS(n.get());try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),l=Math.round(s.y);r.x===a&&r.y===l||e.push({id:o,x:a,y:l})}}catch(t){i.e(t)}finally{i.f()}n.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],r={},o=0;o<i.edges.length;o++){var s=i.edges[o];"to"!==e&&s.toId==i.id?void 0===r[s.fromId]&&(n.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==i.id&&void 0===r[s.toId]&&(n.push(s.toId),r[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),vy((function(){i.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),sS=te,aS=N,lS=nt,uS=on,cS=function(t){return void 0!==t&&(sS(t,"value")||sS(t,"writable"))},hS=D,dS=Co;An({target:"Reflect",stat:!0},{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return uS(e)===o?e[n]:(i=hS.f(e,n))?cS(i)?i.value:void 0===i.get?void 0:aS(i.get,o):lS(r=dS(e))?t(r,n,o):void 0}});var fS=r(it.Reflect.get),pS=r($_);function vS(){var t;return vS="undefined"!=typeof Reflect&&fS?ux(t=fS).call(t):function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=px(t)););return t}(t,e);if(i){var r=pS(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},vS.apply(this,arguments)}var yS=An,gS=Math.hypot,mS=Math.abs,bS=Math.sqrt;yS({target:"Math",stat:!0,arity:2,forced:!!gS&&gS(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=mS(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*bS(r)}});var wS=r(it.Math.hypot);function _S(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var kS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"transform",value:function(t,e){Ef(t)||(t=[t]);for(var n=e.point.x,i=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(r)-a.y*Math.sin(r),u=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=n+o*l,a.y=i+o*u}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),xS=function(t){hx(n,t);var e=_S(n);function n(){return vl(this,n),e.apply(this,arguments)}return wd(n,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var n=null!=e.imageWidth?e.imageWidth:e.image.width,i=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-n/2,0,n,i),t.restore()}return!1}}]),n}(kS),SS=function(t){hx(n,t);var e=_S(n);function n(){return vl(this,n),e.apply(this,arguments)}return wd(n,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),n}(kS),ES=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),OS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};kS.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle-i/2,o=e.angle+i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),TS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n={x:-.3,y:0};kS.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle+i/2,o=e.angle+3*i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),IS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),CS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),DS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};return kS.transform(n,e),Wi(t,n.x,n.y,.4*e.length),!0}}]),t}(),AS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),PS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),MS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),NS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return kS.transform(n,e),kS.drawPath(t,n),!0}}]),t}(),FS=function(){function t(){vl(this,t)}return wd(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"image":return xS.draw(t,e);case"circle":return DS.draw(t,e);case"box":return PS.draw(t,e);case"crow":return ES.draw(t,e);case"curve":return OS.draw(t,e);case"diamond":return MS.draw(t,e);case"inv_curve":return TS.draw(t,e);case"triangle":return IS.draw(t,e);case"inv_triangle":return CS.draw(t,e);case"bar":return AS.draw(t,e);case"vee":return NS.draw(t,e);default:return SS.draw(t,e)}}}]),t}();function BS(t,e){var n=Ff(t);if(B_){var i=B_(t);e&&(i=cv(i).call(i,(function(e){return q_(t,e).enumerable}))),n.push.apply(n,i)}return n}function LS(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Jf(n=BS(Object(r),!0)).call(n,(function(e){sk(t,e,r[e])})):Q_?rk(t,Q_(r)):Jf(i=BS(Object(r))).call(i,(function(e){ok(t,e,q_(r,e))}))}return t}var jS=function(){function t(e,n,i){vl(this,t),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return wd(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,n,i,r){if(this.from!=this.to)this._line(t,e,n,i,r);else{var o=uf(this._getCircleData(t),3),s=o[0],a=o[1],l=o[2];this._circle(t,e,s,a,l)}}},{key:"_drawDashedLine",value:function(t,e,n,i,r){t.lineCap="round";var o=Ef(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(o),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var s=uf(this._getCircleData(t),3),a=s[0],l=s[1],u=s[2];this._circle(t,e,a,l,u)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Xi(t,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var c=uf(this._getCircleData(t),3),h=c[0],d=c[1],f=c[2];this._circle(t,e,h,d,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,n=uf(mf(e=this._getCircleData(t)).call(e,0,2),2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var n=Tk(t,this.options.selfReference.angle,e,this.from);return[n.x,n.y,e]}},{key:"_pointOnCircle",value:function(t,e,n,i){var r=2*i*Math.PI;return{x:t+n*Math.cos(r),y:e-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){var i,r=n.x,o=n.y,s=n.low,a=n.high,l=n.direction,u=this.options.selfReference.size,c=.5*(s+a),h=0;!0===this.options.arrowStrikethrough&&(-1===l?h=this.options.endPointOffset.from:1===l&&(h=this.options.endPointOffset.to));var d=0;do{c=.5*(s+a),i=this._pointOnCircle(r,o,u,c);var f=Math.atan2(t.y-i.y,t.x-i.x),p=t.distanceToBorder(e,f)+h-Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));if(Math.abs(p)<.05)break;p>0?l>0?s=c:a=c:l>0?a=c:s=c,++d}while(s<=a&&d<10);return LS(LS({},i),{},{t:c})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=Vm(this.from.options.color.border,e.opacity),r=Vm(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return"to"===e.inheritsColor?Vm(this.to.options.color.border,e.opacity):Vm(this.from.options.color.border,e.opacity)}return Vm(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,r){this.enableShadow(t,e);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,u=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:l,direction:1});o=Math.atan2(u.y-i,u.x-n),s=Math.atan2(c.y-i,c.x-n)}t.beginPath(),t.arc(n,i,r,o,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(t,e,n,i,r,o);var s=uf(this._getCircleData(void 0),3),a=s[0],l=s[1],u=s[2],c=a-r,h=l-o;return Math.abs(Math.sqrt(c*c+h*h)-u)}},{key:"_getDistanceToLine",value:function(t,e,n,i,r,o){var s=n-t,a=i-e,l=((r-t)*s+(o-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var u=t+l*s-r,c=e+l*a-o;return Math.sqrt(u*u+c*c)}},{key:"getArrowData",value:function(t,e,n,i,r,o){var s,a,l,u,c,h,d,f=o.width;"from"===e?(l=this.from,u=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===e?(l=this.to,u=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,u=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),d=o.middleArrowType);var p=15*h+3*f;if(l!=u){var v=p/wS(l.x-u.x,l.y-u.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var y=this._findBorderPosition(l,t,{via:n}),g=this.getPoint(y.t+v*("from"===e?1:-1),n);s=Math.atan2(y.y-g.y,y.x-g.x),a=y}else s=Math.atan2(l.y-u.y,l.x-u.x),a=this._findBorderPosition(l,t);else{var m=(c?-v:v)/2,b=this.getPoint(.5+m,n),w=this.getPoint(.5-m,n);s=Math.atan2(b.y-w.y,b.x-w.x),a=this.getPoint(.5,n)}}else{var _=uf(this._getCircleData(t),3),k=_[0],x=_[1],S=_[2];if("from"===e){var E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,T=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:E,high:O,direction:-1});s=-2*T.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=T}else if("to"===e){var I=this.options.selfReference.angle,C=this.options.selfReference.angle+Math.PI,D=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:I,high:C,direction:1});s=-2*D.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=D}else{var A=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(k,x,S,A),s=-2*A*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:d}}},{key:"drawArrowHead",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,FS.draw(t,r)&&(this.enableShadow(t,e),Oy(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var n={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,t.dashes=n.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var n=Ef(e)?e:[5,5];t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function zS(t,e){var n=Ff(t);if(B_){var i=B_(t);e&&(i=cv(i).call(i,(function(e){return q_(t,e).enumerable}))),n.push.apply(n,i)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Jf(n=zS(Object(r),!0)).call(n,(function(e){sk(t,e,r[e])})):Q_?rk(t,Q_(r)):Jf(i=zS(Object(r))).call(i,(function(e){ok(t,e,q_(r,e))}))}return t}function US(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var HS=function(t){hx(n,t);var e=US(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,s=1,a=0,l=this.to,u=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(l=this.from,o=!0,u=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(u=0);var c=0;do{i=.5*(a+s),n=this.getPoint(i,r);var h=Math.atan2(l.y-n.y,l.x-n.x),d=l.distanceToBorder(e,h)+u-Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2));if(Math.abs(d)<.2)break;d<0?!1===o?a=i:s=i:!1===o?s=i:a=i,++c}while(a<=s&&c<10);return RS(RS({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,r,o,s){var a,l,u,c,h,d=1e9,f=t,p=e;for(l=1;l<10;l++)u=.1*l,c=Math.pow(1-u,2)*t+2*u*(1-u)*s.x+Math.pow(u,2)*n,h=Math.pow(1-u,2)*e+2*u*(1-u)*s.y+Math.pow(u,2)*i,l>0&&(d=(a=this._getDistanceToLine(f,p,c,h,r,o))<d?a:d),f=c,p=h;return d}},{key:"_bezierCurve",value:function(t,e,n,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(jS);function VS(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var WS=function(t){hx(n,t);var e=VS(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return wd(n,[{key:"setOptions",value:function(t){vS(px(n.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=uf(this._getCircleData(),3),i=n[0],r=n[1],o=n[2],s=2*Math.PI*(1-t);return{x:i+o*Math.sin(s),y:r+o-o*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToBezierEdge(t,e,n,i,r,o,this.via)}}]),n}(HS);function $S(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var qS=function(t){hx(n,t);var e=$S(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s,a;s=a=r<=o?n*o:n*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+s,u=this.from.y+a;return"discrete"===i&&(r<=o?l=r<n*o?this.from.x:l:u=o<n*r?this.from.y:u),{x:l,y:u}}if("straightCross"===i){var c=(1-n)*r,h=(1-n)*o;return r<=o?(c=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(c=-c),h=0),{x:this.to.x+c,y:this.to.y+h}}if("horizontal"===i){var d=(1-n)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===i){var f=(1-n)*o;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var p=Math.sqrt(r*r+o*o),v=Math.PI,y=(Math.atan2(o,r)+(.5*n+.5)*v)%(2*v);return{x:this.from.x+(.5*n+.5)*p*Math.sin(y),y:this.from.y+(.5*n+.5)*p*Math.cos(y)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var g=Math.sqrt(r*r+o*o),m=Math.PI,b=(Math.atan2(o,r)+(.5*-n+.5)*m)%(2*m);return{x:this.from.x+(.5*n+.5)*g*Math.sin(b),y:this.from.y+(.5*n+.5)*g*Math.cos(b)}}t=e=r<=o?n*o:n*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,_=this.from.y+e;return r<=o?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:_=this.from.y>=this.to.y?this.to.y>_?this.to.y:_:this.to.y<_?this.to.y:_,{x:w,y:_}}},{key:"_findBorderPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y}}}]),n}(HS);function YS(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var XS=function(t){hx(n,t);var e=YS(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_getDistanceToBezierEdge2",value:function(t,e,n,i,r,o,s,a){for(var l=1e9,u=t,c=e,h=[0,0,0,0],d=1;d<10;d++){var f=.1*d;h[0]=Math.pow(1-f,3),h[1]=3*f*Math.pow(1-f,2),h[2]=3*Math.pow(f,2)*(1-f),h[3]=Math.pow(f,3);var p=h[0]*t+h[1]*s.x+h[2]*a.x+h[3]*n,v=h[0]*e+h[1]*s.y+h[2]*a.y+h[3]*i;if(d>0){var y=this._getDistanceToLine(u,c,p,v,r,o);l=y<l?y:l}u=p,c=v}return l}}]),n}(HS);function GS(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var KS=function(t){hx(n,t);var e=GS(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_line",value:function(t,e,n){var i=n[0],r=n[1];this._bezierCurve(t,e,i,r)}},{key:"_getViaCoordinates",value:function(){var t,e,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,i=this.to.y,t=this.from.x-s*r,n=this.to.x+s*r):(e=this.from.y-s*o,i=this.to.y+s*o,t=this.from.x,n=this.to.x),[{x:t,y:e},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=uf(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],l=s[1];return this._getDistanceToBezierEdge2(t,e,n,i,r,o,a,l)}},{key:"getPoint",value:function(t){var e=uf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),n=e[0],i=e[1],r=t,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*n.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*n.y+o[2]*i.y+o[3]*this.toPoint.y}}}]),n}(XS);function QS(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var JS=function(t){hx(n,t);var e=QS(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,s=n.y-i.y,a=Math.sqrt(o*o+s*s),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*i.x+l*n.x,y:(1-l)*i.y+l*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToLine(t,e,n,i,r,o)}}]),n}(jS),ZS=function(){function t(e,n,i,r,o){if(vl(this,t),void 0===n)throw new Error("No body provided");this.options=Qm(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Hk(this.body,this.options,!0),this.setOptions(e)}return wd(t,[{key:"setOptions",value:function(e){if(e){var n=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=gk(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=Sk("edge",i),this.updateLabelModule(e),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?r.width=o(r.width):"number"==typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof WS&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof KS&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof qS&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof JS&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new WS(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new KS(this.options,this.body,this.labelModule):this.edgeType=new qS(this.options,this.body,this.labelModule):this.edgeType=new JS(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),e.fromArrowSrc&&(i.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(i.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(i.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),e.toArrowSrc&&(i.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(i.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(i.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e),e.middleArrowSrc&&(i.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(i.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(i.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n,i=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,e),t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=Tk(t,this.options.selfReference.angle,this.options.selfReference.size,i);n=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();Ek(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,n,i,r,o,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,s=Math.atan2(r,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),i.angle=s,i}},{key:"_pointOnCircle",value:function(t,e,n,i){return{x:t+n*Math.cos(i),y:e-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Bm(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,n),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(I_(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(I_(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Ok(e.label)?t.label=e.label:Ok(t.label)||(t.label=void 0),Jm(t,e,"smooth",i),Jm(t,e,"shadow",i),Jm(t,e,"background",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=qv(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Jm(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=qv(i.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Vv(o).call(o,"to"),t.arrows.middle.enabled=-1!=Vv(o).call(o,"middle"),t.arrows.from.enabled=-1!=Vv(o).call(o,"from")}else{if("object"!==yd(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Kv(e.arrows));Jm(t.arrows,e.arrows,"to",i.arrows),Jm(t.arrows,e.arrows,"middle",i.arrows),Jm(t.arrows,e.arrows,"from",i.arrows)}else!0===n&&null===e.arrows&&(t.arrows=qv(i.arrows));if(void 0!==e.color&&null!==e.color){var s=Pm(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)jm(a,i.color,!1,n);else for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&delete a[l];if(Pm(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var u=!1;void 0!==s.color&&(a.color=s.color,u=!0),void 0!==s.highlight&&(a.highlight=s.highlight,u=!0),void 0!==s.hover&&(a.hover=s.hover,u=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===u?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===n&&null===e.color&&(t.color=Qm(i.color));!0===n&&null===e.font&&(t.font=Qm(i.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),tE=function(){function t(e,n,i){var r,o=this;vl(this,t),this.body=e,this.images=n,this.groups=i,this.body.functions.createEdge=Vi(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},jm(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var i=!1;for(var r in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,r)){var o=n.body.edges[r],s=n.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),i=!0)}}!0===e&&!0===i&&n.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){n.reconnectEdges()})),this.body.emitter.on("refreshEdges",Vi(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Vi(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Um(n.edgesListeners,(function(t,e){n.body.data.edges&&n.body.data.edges.off(e,t)})),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){ZS.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(Ef(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(r&&Um(this.edgesListeners,(function(t,e){r.off(e,t)})),this.body.edges={},this.body.data.edges){Um(this.edgesListeners,(function(t,e){n.body.data.edges.on(e,t)}));var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<t.length;r++){var o=t[r],s=n.get(o),a=e[o];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[o]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;Um(t,(function(t){var e=n[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Um(this.body.edges,(function(e,n){var i=t.body.data.edges.get(n);void 0!==i&&e.setOptions(i)}))}},{key:"create",value:function(t){return new ZS(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];Um(this.body.edges,(function(n,i){var r=t.body.nodes[n.toId],o=t.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(i)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,n=[];Jf(t).call(t,(function(t,i){void 0===e[i]&&n.push(i)})),this.add(n,!0)}}}]),t}(),eE=function(){function t(e,n,i){vl(this,t),this.body=e,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this._rng=Sm("BARNES HUT SOLVER")}return wd(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(e,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(t=e[n[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,r=Math.sqrt(n*n+i*i);r*t.calcSize>this.thetaInversed?this._calculateForces(r,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,n,i,e,t)}}},{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(t,3),s=e*o,a=n*o;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var n,i=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<i;l++){var u=t[e[l]],c=u.x,h=u.y;u.options.mass>0&&(c<r&&(r=c),c>s&&(s=c),h<o&&(o=h),h>a&&(a=h))}var d=Math.abs(s-r)-Math.abs(a-o);d>0?(o-=.5*d,a+=.5*d):(r+=.5*d,s-=.5*d);var f=Math.max(1e-5,Math.abs(s-r)),p=.5*f,v=.5*(r+s),y=.5*(o+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:y-p,maxY:y+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var m=0;m<i;m++)(n=t[e[m]]).options.mass>0&&this._placeInTree(g.root,n);return g}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,r=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=r,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=r,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i,r=t.children.NW.range;i=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,i)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n,i,r,o,s=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),nE=function(){function t(e,n,i){vl(this,t),this._rng=Sm("REPULSION SOLVER"),this.body=e,this.physicsBody=n,this.setOptions(i)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,d=-2/3/h,f=0;f<u.length-1;f++){s=l[u[f]];for(var p=f+1;p<u.length;p++)t=(a=l[u[p]]).x-s.x,e=a.y-s.y,0===(n=Math.sqrt(t*t+e*e))&&(t=n=.1*this._rng()),n<2*h&&(o=n<.5*h?1:d*n+1.3333333333333333,i=t*(o/=n),r=e*o,c[s.id].x-=i,c[s.id].y-=r,c[a.id].x+=i,c[a.id].y+=r)}}}]),t}(),iE=function(){function t(e,n,i){vl(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return wd(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var o=t[e[r]],s=r+1;s<e.length;s++){var a=t[e[s]];if(o.level===a.level){var l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),u=a.x-o.x,c=a.y-o.y,h=Math.sqrt(u*u+c*c),d=void 0;d=h<l?-Math.pow(.05*h,2)+Math.pow(.05*l,2):0,0!==h&&(d/=h);var f=u*d,p=c*d;n[o.id].x-=f,n[o.id].y-=p,n[a.id].x+=f,n[a.id].y+=p}}}}]),t}(),rE=function(){function t(e,n,i){vl(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)!0===(e=s[o[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,i=e.edgeType.via,r=e.from,this._calculateSpringForce(n,i,.5*t),this._calculateSpringForce(i,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(i*i+r*r),.01),s=this.options.springConstant*(n-o)/o,a=i*s,l=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}(),oE=function(){function t(e,n,i){vl(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,l,u,c=this.body.edges,h=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var y=f[v];p[y].springFx=0,p[y].springFy=0}for(var g=0;g<d.length;g++)!0===(e=c[d[g]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,a=0===(a=Math.sqrt(n*n+i*i))?.01:a,r=n*(s=this.options.springConstant*(t-a)/a),o=i*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=r,p[e.toId].springFy-=o),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=r,p[e.fromId].springFy+=o)):(void 0!==p[e.toId]&&(p[e.toId].x-=h*r,p[e.toId].y-=h*o),void 0!==p[e.fromId]&&(p[e.fromId].x+=h*r,p[e.fromId].y+=h*o)));s=1;for(var m=0;m<f.length;m++){var b=f[m];l=Math.min(s,Math.max(-s,p[b].springFx)),u=Math.min(s,Math.max(-s,p[b].springFy)),p[b].x+=l,p[b].y+=u}for(var w=0,_=0,k=0;k<f.length;k++){var x=f[k];w+=p[x].x,_+=p[x].y}for(var S=w/f.length,E=_/f.length,O=0;O<f.length;O++){var T=f[O];p[T].x-=S,p[T].y-=E}}}]),t}(),sE=function(){function t(e,n,i){vl(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return wd(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(i=r[o[a]]).x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,s,i)}},{key:"_calculateForces",value:function(t,e,n,i,r){var o=0===t?0:this.options.centralGravity/t;i[r.id].x=e*o,i[r.id].y=n*o}}]),t}();function aE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var lE=function(t){hx(n,t);var e=aE(n);function n(t,i,r){var o;return vl(this,n),(o=e.call(this,t,i,r))._rng=Sm("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return wd(n,[{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=i.edges.length+1,s=this.options.gravitationalConstant*r.mass*i.options.mass*o/Math.pow(t,2),a=e*s,l=n*s;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}}]),n}(eE);function uE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var cE=function(t){hx(n,t);var e=uE(n);function n(t,i,r){return vl(this,n),e.call(this,t,i,r)}return wd(n,[{key:"_calculateForces",value:function(t,e,n,i,r){if(t>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;i[r.id].x=e*s,i[r.id].y=n*s}}}]),n}(sE),hE=function(){function t(e){vl(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},_i(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Lm(["stabilization"],this.options,t),Jm(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||E_(e.x))&&(e.x=0),("number"!=typeof e.y||E_(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new lE(this.body,this.physicsBody,t),this.edgesSolver=new rE(this.body,this.physicsBody,t),this.gravitySolver=new cE(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new nE(this.body,this.physicsBody,t),this.edgesSolver=new rE(this.body,this.physicsBody,t),this.gravitySolver=new sE(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new iE(this.body,this.physicsBody,t),this.edgesSolver=new oE(this.body,this.physicsBody,t),this.gravitySolver=new sE(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new eE(this.body,this.physicsBody,t),this.edgesSolver=new rE(this.body,this.physicsBody,t),this.gravitySolver=new sE(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Vi(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=zf();this.physicsTick(),(zf()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&vy((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=Ff(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<t.length;i++){var r=t[i];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e,n=this.body.nodes,i=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==n[r]&&(t=n[r].x-i[r].positions.x,e=n[r].y-i[r].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=0;i<t.length;i++){var r=t[i],o=this._performStep(r);e=Math.max(e,o),n+=o}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){t+=(e-this.modelOptions.damping*t)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(t)>i&&(t=t>0?i:-i),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y},!1===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,vy((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),e()?vy(Vi(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,l=Xm((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),u={x:i.x+20*r.x,y:i.y+20*r.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(u.x,u.y),t.stroke();var c=Math.atan2(r.y,r.x);t.fillStyle=l,FS.draw(t,{type:"arrow",point:u,angle:c,length:a}),Oy(t).call(t)}}}]),t}();let dE;const fE=new Uint8Array(16);function pE(){if(!dE&&(dE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dE(fE)}const vE=[];for(let n=0;n<256;++n)vE.push((n+256).toString(16).slice(1));var yE={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function gE(t,e,n){if(yE.randomUUID&&!e&&!t)return yE.randomUUID();const i=(t=t||{}).random||(t.rng||pE)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return vE[t[e+0]]+vE[t[e+1]]+vE[t[e+2]]+vE[t[e+3]]+"-"+vE[t[e+4]]+vE[t[e+5]]+"-"+vE[t[e+6]]+vE[t[e+7]]+"-"+vE[t[e+8]]+vE[t[e+9]]+"-"+vE[t[e+10]]+vE[t[e+11]]+vE[t[e+12]]+vE[t[e+13]]+vE[t[e+14]]+vE[t[e+15]]}(i)}var mE=function(){function t(){vl(this,t)}return wd(t,null,[{key:"getRange",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).x&&(o=e.x),s<e.x&&(s=e.x),i>e.y&&(i=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(jm(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):jm(n,t.options,!0),n}}]),t}();function bE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var wE=function(t){hx(n,t);var e=bE(n);function n(t,i,r,o,s,a){var l;return vl(this,n),(l=e.call(this,t,i,r,o,s,a)).isCluster=!0,l.containedNodes={},l.containedEdges={},l}return wd(n,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Um(n.edges,(function(t){delete e.containedEdges[t.id]})),Um(n.containedNodes,(function(t,n){e.containedNodes[n]=t})),n.containedNodes={},Um(n.containedEdges,(function(t,n){e.containedEdges[n]=t})),n.containedEdges={},Um(n.edges,(function(t){Um(e.edges,(function(n){var i,r,o=Vv(i=n.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(Um(t.clusteringEdgeReplacingIds,(function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id})),Dp(r=n.clusteringEdgeReplacingIds).call(r,o,1))}))})),n.edges=[]}}]),n}(nS),_E=function(){function t(e){var n=this;vl(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},_i(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return wd(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===yd(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=t&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},r={};Um(this.body.nodes,(function(n,o){n.options&&!0===e.joinCondition(n.options)&&(i[o]=n,Um(n.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(i,r,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],l={},u=function(){var i={},u={},h=n.body.nodeIndices[c],d=n.body.nodes[h];if(void 0===l[h]){s=0,o=[];for(var f=0;f<d.edges.length;f++)r=d.edges[f],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){for(var p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var n=mE.cloneOptions(t);return e.joinCondition(n)},v=!0,y=0;y<o.length;y++){r=o[y];var g=n._getConnectedId(r,h);if(!p(d)){v=!1;break}u[r.id]=r,i[h]=d,i[g]=n.body.nodes[g],l[h]=!0}if(Ff(i).length>0&&Ff(u).length>0&&!0===v){var m=function(){for(var t=0;t<a.length;++t)for(var e in i)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==m){for(var b in i)void 0===m.nodes[b]&&(m.nodes[b]=i[b]);for(var w in u)void 0===m.edges[w]&&(m.edges[w]=u[w])}else a.push({nodes:i,edges:u})}}}},c=0;c<this.body.nodeIndices.length;c++)u();for(var h=0;h<a.length;h++)this._cluster(a[h].nodes,a[h].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,l=mE.cloneOptions(r);o[a]=r;for(var u=0;u<r.edges.length;u++){var c=r.edges[u];if(void 0===this.clusteredEdges[c.id]){var h=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[h])if(h!==a)if(void 0===e.joinCondition)s[c.id]=c,o[h]=this.body.nodes[h];else{var d=mE.cloneOptions(this.body.nodes[h]);!0===e.joinCondition(l,d)&&(s[c.id]=c,o[h]=this.body.nodes[h])}else s[c.id]=c}}var f=Pf(n=Ff(o)).call(n,(function(t){return o[t].id}));for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))for(var v=o[p],y=0;y<v.edges.length;y++){var g=v.edges[y];Vv(f).call(f,this._getConnectedId(g,v.id))>-1&&(s[g.id]=g)}this._cluster(o,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var r,o,s,a,l,u,c=Ff(t),h=[],d=0;d<c.length;d++){s=t[o=c[d]];for(var f=0;f<s.edges.length;f++)r=s.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=n.id,u=l=r.fromId):(a=r.toId,l=n.id,u=a),void 0===t[u]&&h.push({edge:r,fromId:l,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var n=p[e],i=t.fromId===n.fromId&&t.toId===n.toId,r=t.fromId===n.toId&&t.toId===n.fromId;if(i||r)return n}return null},y=0;y<h.length;y++){var g=h[y],m=g.edge,b=v(g);null===b?(b=this._createClusteredEdge(g.fromId,g.toId,m,i),p.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=Ff(t).length&&(1!=Ff(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=jm({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=mE.cloneOptions(t[u]);l.push(c)}var h=[];for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)&&"clusterEdge:"!==d.substr(0,12)){var f=mE.cloneOptions(e[d],"edge");h.push(f)}if(!(a=n.processProperties(a,l,h)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+gE());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(t),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(t)),a.y=v.y),a.id=p;var y=this.body.functions.createNode(a,wE);y.containedNodes=t,y.containedEdges=e,y.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=y,this._clusterEdges(t,e,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,n=Ff(t),i=t[n[0]].x,r=t[n[0]].x,o=t[n[0]].y,s=t[n[0]].y,a=1;a<n.length;a++)i=(e=t[n[a]]).x<i?e.x:i,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=Vv(r).call(r,t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var a=i.containedNodes,l=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var u={},c={x:i.x,y:i.y};for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){var d=this.body.nodes[h];u[h]={x:d.x,y:d.y}}var f=e.releaseFunction(c,u);for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var v=this.body.nodes[p];void 0!==f[p]&&(v.x=void 0===f[p].x?i.x:f[p].x,v.y=void 0===f[p].y?i.y:f[p].y)}}else Um(a,(function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)}));for(var y in a)if(Object.prototype.hasOwnProperty.call(a,y)){var g=this.body.nodes[y];g.vx=i.vx,g.vy=i.vy,g.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var m=[],b=0;b<i.edges.length;b++)m.push(i.edges[b]);for(var w=0;w<m.length;w++){for(var _=m[w],k=this._getConnectedId(_,t),x=this.clusteredNodes[k],S=0;S<_.clusteringEdgeReplacingIds.length;S++){var E=_.clusteringEdgeReplacingIds[S],O=this.body.edges[E];if(void 0!==O)if(void 0!==x){var T=this.body.nodes[x.clusterId];T.containedEdges[O.id]=O,delete l[O.id];var I=O.fromId,C=O.toId;O.toId==k?C=x.clusterId:I=x.clusterId,this._createClusteredEdge(I,C,O,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(O)}_.remove()}for(var D in l)Object.prototype.hasOwnProperty.call(l,D)&&this._restoreEdge(l[D]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e,n=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(e=this.body.nodes[t]))return[];n.push(e.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(e=this.body.nodes[t])?[]:(n.push(e.id),lp(n).call(n),n)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return lp(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],n=[],i=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(o);else for(var l=0;l<a.length;++l){var u=a[l];-1===Vv(e).call(e,a)&&-1===Vv(n).call(n,a)&&e.push(u)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),n+=1}t/=n;var s=(e/=n)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>i&&(l=i),l}},{key:"_createClusteredEdge",value:function(t,e,n,i,r){var o=mE.cloneOptions(n,"edge");jm(o,i),o.from=t,o.to=e,o.id="clusterEdge:"+gE(),void 0!==r&&jm(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof ZS){var r=e,o={};o[r.id]=r,e=o}if(t instanceof nS){var s=t,a={};a[s.id]=s,t=a}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(Object.prototype.hasOwnProperty.call(e,l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return Um(t,(function(t){e(t)&&n.push(t)})),n}},{key:"_updateState",value:function(){var t,e=this,n=[],i={},r=function(t){Um(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&n.push(t);r((function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];Um(this.clusteredEdges,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()||(i[t]=t)})),r((function(t){Um(t.containedEdges,(function(t,e){t.endPointsValid()||i[e]||(i[e]=e)}))})),Um(this.body.edges,(function(t,n){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;Um(o,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()&&(s+=1)})),r=s>0}t.endPointsValid()&&r||(i[n]=n)})),r((function(t){Um(i,(function(n){delete t.containedEdges[n],Um(t.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!i[t]})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),Um(i,(function(t){delete e.clusteredEdges[t]})),Um(i,(function(t){delete e.body.edges[t]})),Um(Ff(this.body.edges),(function(t){var n=e.body.edges[t],i=e._isClusteredNode(n.fromId)||e._isClusteredNode(n.toId);if(i!==e._isClusteredEdge(n.id))if(i){var r=e._getClusterNodeForNode(n.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[n.fromId],n,r);var o=e._getClusterNodeForNode(n.toId);void 0!==o&&e._clusterEdges(e.body.nodes[n.toId],n,o)}else delete e._clusterEdges[t],e._restoreEdge(n)}));for(var s=!1,a=!0,l=function(){var t=[];r((function(e){var n=Ff(e.containedNodes).length,i=!0===e.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&t.push(e.id)}));for(var n=0;n<t.length;++n)e.openCluster(t[n],{},!1);a=t.length>0,s=s||a};a;)l();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),kE=function(){function t(e,n){var i;vl(this,t),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(t){t()}:i,this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},_i(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=vy((function(){var t;e.zooming=!1,Vi(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Vi(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&Bm(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=vy(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Vi(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(n,t).drawExternalLabels;e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===t&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,n=this.body.nodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&((e=n[i]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],l=this.canvas.DOMtoCanvas({x:-20,y:-20}),u=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:l.y,left:l.x,bottom:u.y,right:u.x},h=[],d=0;d<o.length;d++)if((e=r[o[d]]).hover)a.push(o[d]);else if(e.isSelected())s.push(o[d]);else if(!0===i){var f=e.draw(t);null!=f.drawExternalLabel&&h.push(f.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(c)){var p=e.draw(t);null!=p.drawExternalLabel&&h.push(p.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var v=s.length,y=a.length;for(n=0;n<v;n++){var g=(e=r[s[n]]).draw(t);null!=g.drawExternalLabel&&h.push(g.drawExternalLabel)}for(n=0;n<y;n++){var m=(e=r[a[n]]).draw(t);null!=m.drawExternalLabel&&h.push(m.drawExternalLabel)}return{drawExternalLabels:function(){for(var t=0,e=h;t<e.length;t++)(0,e[t])()}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=Vv(t).call(t,"msie 9.0")||-1!=Vv(t).call(t,"safari")&&Vv(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),xE=r(it.setInterval);function SE(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function EE(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var OE=function(){function t(e){vl(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},_i(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Vi(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t&&Bm(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var n;if(window.ResizeObserver){var i=new ResizeObserver((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")})),r=this.frame;i.observe(r),this._cleanupCallbacks.push((function(){i.unobserve(r)}))}else{var o=xE((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(o)}))}var s=Vi(n=this._onResize).call(n,this);window.addEventListener("resize",s),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",s)}))}}},{key:"_cleanUp",value:function(){var t,e,n;Jf(t=lp(e=Dp(n=this._cleanupCallbacks).call(n,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Vv(t).call(t,"%")||-1!==Vv(t).call(t,"px"))return t;if(-1===Vv(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new db(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:db.DIRECTION_ALL}),SE(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new db(this.frame),EE(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),TE=function(){function t(e,n){var i,r,o=this;vl(this,t),this.body=e,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Vi(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Vi(r=this.releaseNode).call(r,this))}return wd(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){var n=_i({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Ef(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=e),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}(t,this.body.nodeIndices);var n,i,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)i=1,n=mE.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=mE.getRange(this.body.nodes,t.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),n=mE.getRange(this.body.nodes,t.nodes);var l=r/(1.1*Math.abs(n.maxX-n.minX)),u=o/(1.1*Math.abs(n.maxY-n.minY));i=l<=u?l:u}i>t.maxZoomLevel?i=t.maxZoomLevel:i<t.minZoomLevel&&(i=t.minZoomLevel);var c={position:mE.findCenter(n),scale:i,animation:t.animation};this.moveTo(c)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!I_(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!I_(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!I_(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!I_(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=i.x-t.position.x,o=i.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+t.offset.x,y:this.sourceTranslation.y+o*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Vi(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Vi(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-t,r=n.y-e,o=this.body.view.translation,s={x:o.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,n=Zm[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Vi(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function IE(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){u(t,"keydown")},l=function(t){u(t,"keyup")},u=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==t.shiftKey||0==i[r].shift&&0==t.shiftKey)&&i[r].fn(t);1==n&&t.preventDefault()}};return r.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[n][s[t].code]&&(o[n][s[t].code]=[]),o[n][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),s)s.hasOwnProperty(n)&&r.bind(n,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=o[n][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||i.push(o[n][s[t].code][a]);o[n][s[t].code]=i}else o[n][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",l,!0),r}var CE=function(){function t(e,n){var i=this;vl(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return wd(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var r,o,s=new db(this.navigationDOM[e[i]]);"_fit"===n[i]?SE(s,Vi(r=this._fit).call(r,this)):SE(s,Vi(o=this.bindToRedraw).call(o,this,n[i])),this.navigationHammers.push(s)}var a=new db(this.canvas.frame);EE(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Vi(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,v,y,g,m,b,w,_,k,x,S=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=IE({container:window,preventDefault:!0}):this.keycharm=IE({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Vi(t=this.keycharm).call(t,"up",(function(){S.bindToRedraw("_moveUp")}),"keydown"),Vi(e=this.keycharm).call(e,"down",(function(){S.bindToRedraw("_moveDown")}),"keydown"),Vi(n=this.keycharm).call(n,"left",(function(){S.bindToRedraw("_moveLeft")}),"keydown"),Vi(i=this.keycharm).call(i,"right",(function(){S.bindToRedraw("_moveRight")}),"keydown"),Vi(r=this.keycharm).call(r,"=",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vi(o=this.keycharm).call(o,"num+",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vi(s=this.keycharm).call(s,"num-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vi(a=this.keycharm).call(a,"-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vi(l=this.keycharm).call(l,"[",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vi(u=this.keycharm).call(u,"]",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vi(c=this.keycharm).call(c,"pageup",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Vi(h=this.keycharm).call(h,"pagedown",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Vi(d=this.keycharm).call(d,"up",(function(){S.unbindFromRedraw("_moveUp")}),"keyup"),Vi(f=this.keycharm).call(f,"down",(function(){S.unbindFromRedraw("_moveDown")}),"keyup"),Vi(p=this.keycharm).call(p,"left",(function(){S.unbindFromRedraw("_moveLeft")}),"keyup"),Vi(v=this.keycharm).call(v,"right",(function(){S.unbindFromRedraw("_moveRight")}),"keyup"),Vi(y=this.keycharm).call(y,"=",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vi(g=this.keycharm).call(g,"num+",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vi(m=this.keycharm).call(m,"num-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vi(b=this.keycharm).call(b,"-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vi(w=this.keycharm).call(w,"[",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Vi(_=this.keycharm).call(_,"]",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vi(k=this.keycharm).call(k,"pageup",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Vi(x=this.keycharm).call(x,"pagedown",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function DE(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return AE(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?AE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function AE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var PE=function(){function t(e,n,i){var r,o,s,a,l,u,c,h,d,f,p,v,y;vl(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new CE(e,n),this.body.eventListeners.onTap=Vi(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Vi(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Vi(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Vi(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Vi(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Vi(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Vi(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Vi(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Vi(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=Vi(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Vi(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Vi(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Vi(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},_i(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(Lm(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Jm(this.options,t,"keyboard"),t.tooltip&&(_i(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=$m(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Rm(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];-1===Vv(e).call(e,r)&&n.push(r)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=_i({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var i,r=DE(this.selectionHandler.getSelectedNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){r.e(t)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Jf(i).call(i,(function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=n.x-this.drag.pointer.x,a=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,r={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=cv(n=this.body.nodeIndices).call(n,(function(t){var n=e.body.nodes[t];return n.x>=r.minX&&n.x<=r.maxX&&n.y>=r.minY&&n.y<=r.maxY}));Jf(o).call(o,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Jf(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/n,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),n<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=vy((function(){return e._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,u=this.body.nodes,c=[],h=0;h<l.length;h++)!0===(a=u[l[h]]).isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&c.push(l[h]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,f=this.body.edgeIndices,p=this.body.edges,v=[],y=0;y<f.length;y++)!0===(d=p[f[y]]).isOverlappingWith(i)&&!0===d.connected&&void 0!==d.getTitle()&&v.push(f[y]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new fb(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e_("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),k_);var ME=r(it.Set),NE=m,FE=i_,BE=_w.getWeakData,LE=jw,jE=on,zE=Y,RE=nt,UE=Fw,HE=te,VE=Ur.set,WE=Ur.getterFor,$E=Fu.find,qE=Fu.findIndex,YE=NE([].splice),XE=0,GE=function(t){return t.frozen||(t.frozen=new KE)},KE=function(){this.entries=[]},QE=function(t,e){return $E(t.entries,(function(t){return t[0]===e}))};KE.prototype={get:function(t){var e=QE(this,t);if(e)return e[1]},has:function(t){return!!QE(this,t)},set:function(t,e){var n=QE(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=qE(this.entries,(function(e){return e[0]===t}));return~e&&YE(this.entries,e,1),!!~e}};var JE,ZE={getConstructor:function(t,e,n,i){var r=t((function(t,r){LE(t,o),VE(t,{type:e,id:XE++,frozen:void 0}),zE(r)||UE(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=WE(e),a=function(t,e,n){var i=s(t),r=BE(jE(e),!0);return!0===r?GE(i).set(e,n):r[i.id]=n,t};return FE(o,{delete:function(t){var e=s(this);if(!RE(t))return!1;var n=BE(t);return!0===n?GE(e).delete(t):n&&HE(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!RE(t))return!1;var n=BE(t);return!0===n?GE(e).has(t):n&&HE(n,e.id)}}),FE(o,n?{get:function(t){var e=s(this);if(RE(t)){var n=BE(t);return!0===n?GE(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},tO=ow,eO=s,nO=m,iO=i_,rO=_w,oO=e_,sO=ZE,aO=nt,lO=Ur.enforce,uO=a,cO=Sr,hO=Object,dO=Array.isArray,fO=hO.isExtensible,pO=hO.isFrozen,vO=hO.isSealed,yO=hO.freeze,gO=hO.seal,mO={},bO={},wO=!eO.ActiveXObject&&"ActiveXObject"in eO,_O=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},kO=oO("WeakMap",_O,sO),xO=kO.prototype,SO=nO(xO.set);if(cO)if(wO){JE=sO.getConstructor(_O,"WeakMap",!0),rO.enable();var EO=nO(xO.delete),OO=nO(xO.has),TO=nO(xO.get);iO(xO,{delete:function(t){if(aO(t)&&!fO(t)){var e=lO(this);return e.frozen||(e.frozen=new JE),EO(this,t)||e.frozen.delete(t)}return EO(this,t)},has:function(t){if(aO(t)&&!fO(t)){var e=lO(this);return e.frozen||(e.frozen=new JE),OO(this,t)||e.frozen.has(t)}return OO(this,t)},get:function(t){if(aO(t)&&!fO(t)){var e=lO(this);return e.frozen||(e.frozen=new JE),OO(this,t)?TO(this,t):e.frozen.get(t)}return TO(this,t)},set:function(t,e){if(aO(t)&&!fO(t)){var n=lO(this);n.frozen||(n.frozen=new JE),OO(this,t)?SO(this,t,e):n.frozen.set(t,e)}else SO(this,t,e);return this}})}else tO&&uO((function(){var t=yO([]);return SO(new kO,t,1),!pO(t)}))&&iO(xO,{set:function(t,e){var n;return dO(t)&&(pO(t)?n=mO:vO(t)&&(n=bO)),SO(this,t,e),n===mO&&yO(t),n===bO&&gO(t),this}});var IO,CO,DO,AO,PO,MO=r(it.WeakMap);function NO(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function FO(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function BO(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return LO(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?LO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function LO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function jO(t,e){var n,i=new ME,r=BO(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.has(o)||i.add(o)}}catch(t){r.e(t)}finally{r.f()}return i}"function"==typeof SuppressedError&&SuppressedError;var zO=function(){function t(){vl(this,t),IO.set(this,new ME),CO.set(this,new ME)}return wd(t,[{key:"size",get:function(){return NO(this,CO,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];NO(this,CO,"f").add(o)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];NO(this,CO,"f").delete(o)}}},{key:"clear",value:function(){NO(this,CO,"f").clear()}},{key:"getSelection",value:function(){return cf(NO(this,CO,"f"))}},{key:"getChanges",value:function(){return{added:cf(jO(NO(this,IO,"f"),NO(this,CO,"f"))),deleted:cf(jO(NO(this,CO,"f"),NO(this,IO,"f"))),previous:cf(new ME(NO(this,IO,"f"))),current:cf(new ME(NO(this,CO,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();FO(this,IO,NO(this,CO,"f"),"f"),FO(this,CO,new ME(NO(this,IO,"f")),"f");var e,n=BO(t.added);try{for(n.s();!(e=n.n()).done;)e.value.select()}catch(t){n.e(t)}finally{n.f()}var i,r=BO(t.deleted);try{for(r.s();!(i=r.n()).done;)i.value.unselect()}catch(t){r.e(t)}finally{r.f()}return t}}]),t}();IO=new MO,CO=new MO;var RO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};vl(this,t),DO.set(this,new zO),AO.set(this,new zO),PO.set(this,void 0),FO(this,PO,e,"f")}return wd(t,[{key:"sizeNodes",get:function(){return NO(this,DO,"f").size}},{key:"sizeEdges",get:function(){return NO(this,AO,"f").size}},{key:"getNodes",value:function(){return NO(this,DO,"f").getSelection()}},{key:"getEdges",value:function(){return NO(this,AO,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=NO(this,DO,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=NO(this,AO,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){NO(this,DO,"f").delete(t)}},{key:"deleteEdges",value:function(t){NO(this,AO,"f").delete(t)}},{key:"clear",value:function(){NO(this,DO,"f").clear(),NO(this,AO,"f").clear()}},{key:"commit",value:function(){for(var t,e,n={nodes:NO(this,DO,"f").commit(),edges:NO(this,AO,"f").commit()},i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=NO(this,PO,"f")).call.apply(t,gf(e=[this,n]).call(e,r)),n}}]),t}();function UO(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return HO(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?HO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function HO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}DO=new MO,AO=new MO,PO=new MO;var VO=function(){function t(e,n){var i=this;vl(this,t),this.body=e,this.canvas=n,this._selectionAccumulator=new RO,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},_i(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return wd(t,[{key:"setOptions",value:function(t){void 0!==t&&Bm(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n.event=t,n}},{key:"generateClickEvent",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==t&&(o.items=this.getClickedItems(n)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof nS?(!0===n&&(e=this._selectionAccumulator).addEdges.apply(e,cf(t.edges)),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=o[a];if(l.connected){var u=l.from.x,c=l.from.y,h=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(u,c,h,d,n.x,n.y);f<i&&(r=a,i=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(t){t instanceof nS?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof nS?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,cf(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof nS?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof nS?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===n||n instanceof nS&&n.id!=r||n instanceof ZS)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof ZS&&n.id!=o||n instanceof nS&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=Ff(this.hoverObj.edges).length,a=Ff(this.hoverObj.nodes).length;(i||n instanceof ZS&&0===s&&0===a||n instanceof nS&&0===s&&0===a)&&(i=this.emitHoverEvent(t,e,n)),n instanceof nS&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var n=!1,i=this._selectionAccumulator.commit(),r={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),n=!0),!0===n&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return Pf(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return Pf(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var n,i=UO(t.nodes);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,e.highlightEdges)}}catch(t){i.e(t)}finally{i.f()}}if(t.edges){var s,a=UO(t.edges);try{for(a.s();!(s=a.n()).done;){var l=s.value,u=this.body.edges[l];if(!u)throw new RangeError('Edge with id "'+l+'" not found');this.selectObject(u)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var s=r[i[o]].getItemsOnPoint(e);n.push.apply(n,s)}for(var a=this.body.edgeIndices,l=this.body.edges,u=a.length-1;u>=0;u--){var c=l[a[u]].getItemsOnPoint(e);n.push.apply(n,c)}return n}}]),t}(),WO=lu,$O=Math.floor,qO=function(t,e){var n=t.length,i=$O(n/2);return n<8?YO(t,e):XO(t,qO(WO(t,0,i),e),qO(WO(t,i),e),e)},YO=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},XO=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},GO=qO,KO=ct.match(/firefox\/(\d+)/i),QO=!!KO&&+KO[1],JO=/MSIE|Trident/.test(ct),ZO=ct.match(/AppleWebKit\/(\d+)\./),tT=!!ZO&&+ZO[1],eT=An,nT=m,iT=Mt,rT=Qt,oT=Vn,sT=hp,aT=dr,lT=a,uT=GO,cT=Uf,hT=QO,dT=JO,fT=gt,pT=tT,vT=[],yT=nT(vT.sort),gT=nT(vT.push),mT=lT((function(){vT.sort(void 0)})),bT=lT((function(){vT.sort(null)})),wT=cT("sort"),_T=!lT((function(){if(fT)return fT<70;if(!(hT&&hT>3)){if(dT)return!0;if(pT)return pT<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)vT.push({k:e+i,v:n})}for(vT.sort((function(t,e){return e.v-t.v})),i=0;i<vT.length;i++)e=vT[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));eT({target:"Array",proto:!0,forced:mT||!bT||!wT||!_T},{sort:function(t){void 0!==t&&iT(t);var e=rT(this);if(_T)return void 0===t?yT(e):yT(e,t);var n,i,r=[],o=oT(e);for(i=0;i<o;i++)i in e&&gT(r,e[i]);for(uT(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:aT(e)>aT(n)?1:-1}}(t)),n=oT(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)sT(e,i++);return e}});var kT=Bi("Array").sort,xT=ut,ST=kT,ET=Array.prototype,OT=function(t){var e=t.sort;return t===ET||xT(ET,t)&&e===ET.sort?ST:e},TT=r(OT),IT=Mt,CT=Qt,DT=q,AT=Vn,PT=TypeError,MT=function(t){return function(e,n,i,r){IT(n);var o=CT(e),s=DT(o),a=AT(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw new PT("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},NT={left:MT(!1),right:MT(!0)},FT="process"===k(s.process),BT=NT.left;An({target:"Array",proto:!0,forced:!FT&&gt>79&&gt<83||!Uf("reduce")},{reduce:function(t){var e=arguments.length;return BT(this,t,e,e>1?arguments[1]:void 0)}});var LT=Bi("Array").reduce,jT=ut,zT=LT,RT=Array.prototype,UT=function(t){var e=t.reduce;return t===RT||jT(RT,t)&&e===RT.reduce?zT:e},HT=r(UT);function VT(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=px(t);if(e){var r=px(this).constructor;n=sx(i,arguments,r)}else n=i.apply(this,arguments);return dx(this,n)}}var WT=function(){function t(){vl(this,t)}return wd(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),$T=function(t){hx(n,t);var e=VT(n);function n(t){var i;return vl(this,n),(i=e.call(this)).layout=t,i}return wd(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){TT(t).call(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),n}(WT),qT=function(t){hx(n,t);var e=VT(n);function n(t){var i;return vl(this,n),(i=e.call(this)).layout=t,i}return wd(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){TT(t).call(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),n}(WT),YT=Fu.every;An({target:"Array",proto:!0,forced:!Uf("every")},{every:function(t){return YT(this,t,arguments.length>1?arguments[1]:void 0)}});var XT=Bi("Array").every,GT=ut,KT=XT,QT=Array.prototype,JT=function(t){var e=t.every;return t===QT||GT(QT,t)&&e===QT.every?KT:e},ZT=r(JT);function tI(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return eI(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?eI(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function eI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function nI(t,e){var n=new ME;return Jf(t).call(t,(function(t){var e;Jf(e=t.edges).call(e,(function(t){t.connected&&n.add(t)}))})),Jf(n).call(n,(function(t){var n=t.from.id,i=t.to.id;null==e[n]&&(e[n]=0),(null==e[i]||e[n]>=e[i])&&(e[i]=e[n]+1)})),e}function iI(t,e,n,i){var r,o,s=qv(null),a=HT(r=cf(Bk(i).call(i))).call(r,(function(t,e){return t+1+e.edges.length}),0),l=n+"Id",u="to"===n?1:-1,c=tI(i);try{var h,d=function(){var r=uf(o.value,2),c=r[0],h=r[1];if(!i.has(c)||!t(h))return 0;s[c]=0;for(var d,f,p=[h],v=0,y=function(){var t,r;if(!i.has(c))return 0;var o=s[d.id]+u;if(Jf(t=cv(r=d.edges).call(r,(function(t){return t.connected&&t.to!==t.from&&t[n]!==d&&i.has(t.toId)&&i.has(t.fromId)}))).call(t,(function(t){var i=t[l],r=s[i];(null==r||e(o,r))&&(s[i]=o,p.push(t[n]))})),v>a)return{v:{v:nI(i,s)}};++v};d=p.pop();)if(0!==(f=y())&&f)return f.v};for(c.s();!(o=c.n()).done;)if(0!==(h=d())&&h)return h.v}catch(t){c.e(t)}finally{c.f()}return s}var rI=function(){function t(){vl(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return wd(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,n={};return function t(i){if(void 0!==n[i])return n[i];var r=e.levels[i];if(e.childrenReference[i]){var o=e.childrenReference[i];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return n[i]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];n=Math.min(a.x,n),i=Math.max(a.x,i),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return Ff(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var r in i)if(i[r]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),oI=function(){function t(e){vl(this,t),this.body=e,this._resetRNG(Math.random()+":"+zf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},_i(this.options,this.defaultOptions),this.bindEventListeners()}return wd(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(Bm(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Jm(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),jm(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=Sm(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===yd(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=e*Math.cos(r)),void 0===i.y&&(i.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++)!0===this.body.nodes[t[n]].predefinedPosition&&(e+=1);if(e<.5*t.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var s=t.length;t.length>r&&i<=10;){i+=1;var a=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<t.length;l++){var u=this.body.nodes[t[l]];!1===u.predefinedPosition&&(u.x+=70*(.5-this._rng()),u.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=mE.getRangeCore(this.body.nodes,this.body.nodeIndices),e=mE.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new rI,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,n={},i=function(e,n){var i=t.hierarchical.trees;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===e&&t.direction.shift(r,n)},r=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e},o=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var r=t.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],i)}},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=t.body.nodes[a],u=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),h=uf(t._getSpaceAroundNode(l,e),2),d=h[0],f=h[1];i=Math.min(d,i),r=Math.min(f,r),u<=n&&(o=Math.min(c,o),s=Math.max(c,s))}return[o,s,i,r]},a=function(e,n,i){for(var r=t.hierarchical,o=0;o<n.length;o++){var s=n[o],a=r.distributionOrdering[s];if(a.length>1)for(var l=0;l<a.length-1;l++){var u=a[l],c=a[l+1];r.hasSameParent(u,c)&&r.inSameSubNetwork(u,c)&&e(u,c,i)}}},l=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(n),l=t.direction.getPosition(i),u=Math.abs(l-a),c=t.options.hierarchical.nodeSpacing;if(u>c){var h={},d={};o(n,h),o(i,d);var f=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(n.id);return Math.min(i,r)}(n,i),p=s(h,f),v=s(d,f),y=p[1],g=v[0],m=v[2];if(Math.abs(y-g)>c){var b=y-g+c;b<-m+c&&(b=-m+c),b<0&&(t._shiftBlock(i.id,b),e=!0,!0===r&&t._centerParent(i))}}},u=function(i,r){for(var a=r.id,l=r.edges,u=t.hierarchical.levels[r.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,h={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;h[l[f].id]=v,t.hierarchical.levels[v.id]<u&&d.push(p)}}var y=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=t.direction.getPosition(h[n[r].id])-e;i+=o/Math.sqrt(o*o+c)}return i},g=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=t.direction.getPosition(h[n[r].id])-e;i-=c*Math.pow(o*o+c,-1.5)}return i},m=function(e,n){for(var i=t.direction.getPosition(r),o={},s=0;s<e;s++){var a=y(i,n),l=g(i,n);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;o[i]=s}return i},b=m(i,d);!function(i){var a=t.direction.getPosition(r);if(void 0===n[r.id]){var l={};o(r,l),n[r.id]=l}var u=s(n[r.id]),c=u[2],h=u[3],d=i-a,f=0;d>0?f=Math.min(d,h-t.options.hierarchical.nodeSpacing):d<0&&(f=-Math.min(-d,c-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(r.id,f),e=!0)}(b),function(n){var i=t.direction.getPosition(r),o=uf(t._getSpaceAroundNode(r),2),s=o[0],a=o[1],l=n-i,u=i;l>0?u=Math.min(i+(a-t.options.hierarchical.nodeSpacing),n):l<0&&(u=Math.max(i-(s-t.options.hierarchical.nodeSpacing),n)),u!==i&&(t.direction.setPosition(r,u),e=!0)}(b=m(i,l))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=t.hierarchical.getLevels();i=lp(i).call(i);for(var r=0;r<n&&(e=!1,a(l,i,!0),!0===e);r++);}(5),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=t.hierarchical.getLevels();i=lp(i).call(i);for(var r=0;r<n;r++){e=!1;for(var o=0;o<i.length;o++)for(var s=i[o],a=t.hierarchical.distributionOrdering[s],l=0;l<a.length;l++)u(1e3,a[l]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=lp(e).call(e);for(var n=0;n<e.length;n++)for(var i=e[n],r=t.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)t._centerParent(r[o])}(),function(){for(var e=r(),n=0,o=0;o<e.length-1;o++)n+=e[o].max-e[o+1].min+t.options.hierarchical.treeSpacing,i(o+1,n)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[i],a=1e9,l=1e9;if(0!==r){var u=s[r-1];(!0===n&&void 0===e[u.id]||!1===n)&&(a=o-this.direction.getPosition(u))}if(r!=s.length-1){var c=s[r+1];if(!0===n&&void 0===e[c.id]||!1===n){var h=this.direction.getPosition(c);l=Math.min(l,h-o)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),l=uf(this._getSpaceAroundNode(r),2),u=l[0],c=l[1],h=a-s;(h<0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var n,i=Ff(t[e]);i=this._indexArrayToNodes(i),TT(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,l,e),this._validatePositionAndContinue(s,e,l),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n,i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);TT(n=this.direction).call(n,r);for(var s=0;s<r.length;s++){var a=r[s],l=this.hierarchical.levels[a.id];if(!(l>e&&void 0===this.positionedNodes[a.id]))return;var u=this.options.hierarchical.nodeSpacing,c=void 0;c=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[s-1])+u,this.direction.setPosition(a,c,l),this._validatePositionAndContinue(a,l,c)}var h=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],h,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t,e,n={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var i=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,i),void 0===n[i]&&(n[i]={}),n[i][t]=e}return n}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return Um(t.edges,(function(t){var i;-1!==Vv(i=e.body.edgeIndices).call(i,t.id)&&n.push(t)})),n}},{key:"_getHubSizes",value:function(){var t=this,e={};Um(this.body.nodeIndices,(function(n){var i=t.body.nodes[n],r=t._getActiveEdges(i).length;e[r]=!0}));var n=[];return Um(e,(function(t){n.push(Number(t))})),TT(n).call(n,(function(t,e){return e-t})),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,n){t.hierarchical.levelDownstream(e,n)},n=this._getHubSizes(),i=function(){var i=n[r];if(0===i)return 1;Um(t.body.nodeIndices,(function(n){var r=t.body.nodes[n];i===t._getActiveEdges(r).length&&t._crawlNetwork(e,n)}))},r=0;r<n.length&&!i();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,n,i){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(mE.cloneOptions(e,"node"),mE.cloneOptions(n,"node"),void mE.cloneOptions(i,"edge"));t.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,n=HT(t=this.body.nodeIndices).call(t,(function(t,n){return t.set(n,e.body.nodes[n]),t}),new x_);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return iI((function(e){var n,i;return ZT(n=cv(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(n):this.hierarchical.levels=function(t){return iI((function(e){var n,i;return ZT(n=cv(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var s;t.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=t._getActiveEdges(r),l=0;l<a.length;l++){var u=a[l];!0===u.connected&&(s=u.toId==r.id?u.from:u.to,r.id!=s.id&&(e(r,s,u),n(s,o)))}}};if(void 0===n)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===i[a]&&(r(this.body.nodes[a],o),o+=1)}else{var l=this.body.nodes[n];if(void 0===l)return void console.error("Node not found:",n);r(l)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={};!function t(r){if(!i[r]){i[r]=!0,n.direction.shift(r,e);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={};return function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(i,t),function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:i};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new $T(this):new qT(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var r=void 0;if(void 0!==t[i].id)r=t[i];else{var o=t[i];r=this.body.nodes[o]}var s=this.direction.getPosition(r);e=Math.min(e,s),n=Math.max(n,s)}return.5*(e+n)}}]),t}();function sI(t,e){var n=void 0!==hf&&pl(t)||t["@@iterator"];if(!n){if(Ef(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return aI(t,e);var i=mf(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ya(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aI(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function aI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var lI=function(){function t(e,n,i,r){var o,s,a=this;vl(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},_i(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Vi(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Vi(s=this._restore).call(s,this))}return wd(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=n.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=n.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,jm(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Vi(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Vi(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Vi(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Vi(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=jm({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Vi(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Vi(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Vi(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Vi(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Vi(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Vi(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==yd(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Vi(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Vi(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Vi(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Vi(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Vi(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===l.selected&&(l.x=e.to.x,l.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from.id,u.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var o={nodes:e,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=jm({},this.options.controlNodeStyle);n.id="targetNode"+gE(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Am(this.editModeDiv);var e=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Vi(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Am(this.editModeDiv),Am(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,n=sI(Dp(t=this._domEventListenerCleanupQueue).call(t,0));try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(t){n.e(t)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Am(this.manipulationDiv),Am(this.editModeDiv),Am(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,n=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vi(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,n=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vi(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,n=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vi(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,n=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vi(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,n;n=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",n,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Vi(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,n=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Vi(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerText=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+Kv(Ff(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var n=new db(t,{});SE(n,e),this._domEventListenerCleanupQueue.push((function(){n.destroy()}));var i=function(t){var n=t.keyCode,i=t.key;"Enter"!==i&&" "!==i&&13!==n&&32!==n||e()};t.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",i,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var n,i=Vv(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==i&&Dp(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=Vv(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&Dp(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_i({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(e),s=i.isOverlappingWith(e);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===s&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_i({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+gE(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(e.x),l.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:gE(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(t){null!=t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===yd(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(t){null==t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),uI="string",cI="boolean",hI="number",dI="array",fI="object",pI=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],vI={borderWidth:{number:hI},borderWidthSelected:{number:hI,undefined:"undefined"},brokenImage:{string:uI,undefined:"undefined"},chosen:{label:{boolean:cI,function:"function"},node:{boolean:cI,function:"function"},__type__:{object:fI,boolean:cI}},color:{border:{string:uI},background:{string:uI},highlight:{border:{string:uI},background:{string:uI},__type__:{object:fI,string:uI}},hover:{border:{string:uI},background:{string:uI},__type__:{object:fI,string:uI}},__type__:{object:fI,string:uI}},opacity:{number:hI,undefined:"undefined"},fixed:{x:{boolean:cI},y:{boolean:cI},__type__:{object:fI,boolean:cI}},font:{align:{string:uI},color:{string:uI},size:{number:hI},face:{string:uI},background:{string:uI},strokeWidth:{number:hI},strokeColor:{string:uI},vadjust:{number:hI},multi:{boolean:cI,string:uI},bold:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},boldital:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},ital:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},mono:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},__type__:{object:fI,string:uI}},group:{string:uI,number:hI,undefined:"undefined"},heightConstraint:{minimum:{number:hI},valign:{string:uI},__type__:{object:fI,boolean:cI,number:hI}},hidden:{boolean:cI},icon:{face:{string:uI},code:{string:uI},size:{number:hI},color:{string:uI},weight:{string:uI,number:hI},__type__:{object:fI}},id:{string:uI,number:hI},image:{selected:{string:uI,undefined:"undefined"},unselected:{string:uI,undefined:"undefined"},__type__:{object:fI,string:uI}},imagePadding:{top:{number:hI},right:{number:hI},bottom:{number:hI},left:{number:hI},__type__:{object:fI,number:hI}},label:{string:uI,undefined:"undefined"},labelHighlightBold:{boolean:cI},level:{number:hI,undefined:"undefined"},margin:{top:{number:hI},right:{number:hI},bottom:{number:hI},left:{number:hI},__type__:{object:fI,number:hI}},mass:{number:hI},physics:{boolean:cI},scaling:{min:{number:hI},max:{number:hI},label:{enabled:{boolean:cI},min:{number:hI},max:{number:hI},maxVisible:{number:hI},drawThreshold:{number:hI},__type__:{object:fI,boolean:cI}},customScalingFunction:{function:"function"},__type__:{object:fI}},shadow:{enabled:{boolean:cI},color:{string:uI},size:{number:hI},x:{number:hI},y:{number:hI},__type__:{object:fI,boolean:cI}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:cI,array:dI},borderRadius:{number:hI},interpolation:{boolean:cI},useImageSize:{boolean:cI},useBorderWithImage:{boolean:cI},coordinateOrigin:{string:["center","top-left"]},__type__:{object:fI}},size:{number:hI},title:{string:uI,dom:"dom",undefined:"undefined"},value:{number:hI,undefined:"undefined"},widthConstraint:{minimum:{number:hI},maximum:{number:hI},__type__:{object:fI,boolean:cI,number:hI}},x:{number:hI},y:{number:hI},__type__:{object:fI}},yI={configure:{enabled:{boolean:cI},filter:{boolean:cI,string:uI,array:dI,function:"function"},container:{dom:"dom"},showButton:{boolean:cI},__type__:{object:fI,boolean:cI,string:uI,array:dI,function:"function"}},edges:{arrows:{to:{enabled:{boolean:cI},scaleFactor:{number:hI},type:{string:pI},imageHeight:{number:hI},imageWidth:{number:hI},src:{string:uI},__type__:{object:fI,boolean:cI}},middle:{enabled:{boolean:cI},scaleFactor:{number:hI},type:{string:pI},imageWidth:{number:hI},imageHeight:{number:hI},src:{string:uI},__type__:{object:fI,boolean:cI}},from:{enabled:{boolean:cI},scaleFactor:{number:hI},type:{string:pI},imageWidth:{number:hI},imageHeight:{number:hI},src:{string:uI},__type__:{object:fI,boolean:cI}},__type__:{string:["from","to","middle"],object:fI}},endPointOffset:{from:{number:hI},to:{number:hI},__type__:{object:fI,number:hI}},arrowStrikethrough:{boolean:cI},background:{enabled:{boolean:cI},color:{string:uI},size:{number:hI},dashes:{boolean:cI,array:dI},__type__:{object:fI,boolean:cI}},chosen:{label:{boolean:cI,function:"function"},edge:{boolean:cI,function:"function"},__type__:{object:fI,boolean:cI}},color:{color:{string:uI},highlight:{string:uI},hover:{string:uI},inherit:{string:["from","to","both"],boolean:cI},opacity:{number:hI},__type__:{object:fI,string:uI}},dashes:{boolean:cI,array:dI},font:{color:{string:uI},size:{number:hI},face:{string:uI},background:{string:uI},strokeWidth:{number:hI},strokeColor:{string:uI},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:hI},multi:{boolean:cI,string:uI},bold:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},boldital:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},ital:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},mono:{color:{string:uI},size:{number:hI},face:{string:uI},mod:{string:uI},vadjust:{number:hI},__type__:{object:fI,string:uI}},__type__:{object:fI,string:uI}},hidden:{boolean:cI},hoverWidth:{function:"function",number:hI},label:{string:uI,undefined:"undefined"},labelHighlightBold:{boolean:cI},length:{number:hI,undefined:"undefined"},physics:{boolean:cI},scaling:{min:{number:hI},max:{number:hI},label:{enabled:{boolean:cI},min:{number:hI},max:{number:hI},maxVisible:{number:hI},drawThreshold:{number:hI},__type__:{object:fI,boolean:cI}},customScalingFunction:{function:"function"},__type__:{object:fI}},selectionWidth:{function:"function",number:hI},selfReferenceSize:{number:hI},selfReference:{size:{number:hI},angle:{number:hI},renderBehindTheNode:{boolean:cI},__type__:{object:fI}},shadow:{enabled:{boolean:cI},color:{string:uI},size:{number:hI},x:{number:hI},y:{number:hI},__type__:{object:fI,boolean:cI}},smooth:{enabled:{boolean:cI},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:hI},forceDirection:{string:["horizontal","vertical","none"],boolean:cI},__type__:{object:fI,boolean:cI}},title:{string:uI,undefined:"undefined"},width:{number:hI},widthConstraint:{maximum:{number:hI},__type__:{object:fI,boolean:cI,number:hI}},value:{number:hI,undefined:"undefined"},__type__:{object:fI}},groups:{useDefaultGroups:{boolean:cI},__any__:vI,__type__:{object:fI}},interaction:{dragNodes:{boolean:cI},dragView:{boolean:cI},hideEdgesOnDrag:{boolean:cI},hideEdgesOnZoom:{boolean:cI},hideNodesOnDrag:{boolean:cI},hover:{boolean:cI},keyboard:{enabled:{boolean:cI},speed:{x:{number:hI},y:{number:hI},zoom:{number:hI},__type__:{object:fI}},bindToWindow:{boolean:cI},autoFocus:{boolean:cI},__type__:{object:fI,boolean:cI}},multiselect:{boolean:cI},navigationButtons:{boolean:cI},selectable:{boolean:cI},selectConnectedEdges:{boolean:cI},hoverConnectedEdges:{boolean:cI},tooltipDelay:{number:hI},zoomView:{boolean:cI},zoomSpeed:{number:hI},__type__:{object:fI}},layout:{randomSeed:{undefined:"undefined",number:hI,string:uI},improvedLayout:{boolean:cI},clusterThreshold:{number:hI},hierarchical:{enabled:{boolean:cI},levelSeparation:{number:hI},nodeSpacing:{number:hI},treeSpacing:{number:hI},blockShifting:{boolean:cI},edgeMinimization:{boolean:cI},parentCentralization:{boolean:cI},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:fI,boolean:cI}},__type__:{object:fI}},manipulation:{enabled:{boolean:cI},initiallyActive:{boolean:cI},addNode:{boolean:cI,function:"function"},addEdge:{boolean:cI,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:fI,boolean:cI,function:"function"}},deleteNode:{boolean:cI,function:"function"},deleteEdge:{boolean:cI,function:"function"},controlNodeStyle:vI,__type__:{object:fI,boolean:cI}},nodes:vI,physics:{enabled:{boolean:cI},barnesHut:{theta:{number:hI},gravitationalConstant:{number:hI},centralGravity:{number:hI},springLength:{number:hI},springConstant:{number:hI},damping:{number:hI},avoidOverlap:{number:hI},__type__:{object:fI}},forceAtlas2Based:{theta:{number:hI},gravitationalConstant:{number:hI},centralGravity:{number:hI},springLength:{number:hI},springConstant:{number:hI},damping:{number:hI},avoidOverlap:{number:hI},__type__:{object:fI}},repulsion:{centralGravity:{number:hI},springLength:{number:hI},springConstant:{number:hI},nodeDistance:{number:hI},damping:{number:hI},__type__:{object:fI}},hierarchicalRepulsion:{centralGravity:{number:hI},springLength:{number:hI},springConstant:{number:hI},nodeDistance:{number:hI},damping:{number:hI},avoidOverlap:{number:hI},__type__:{object:fI}},maxVelocity:{number:hI},minVelocity:{number:hI},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:cI},iterations:{number:hI},updateInterval:{number:hI},onlyDynamicEdges:{boolean:cI},fit:{boolean:cI},__type__:{object:fI,boolean:cI}},timestep:{number:hI},adaptiveTimestep:{boolean:cI},wind:{x:{number:hI},y:{number:hI},__type__:{object:fI}},__type__:{object:fI,boolean:cI}},autoResize:{boolean:cI},clickToUse:{boolean:cI},locale:{string:uI},locales:{__any__:{any:"any"},__type__:{object:fI}},height:{string:uI},width:{string:uI},__type__:{object:fI}},gI={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},mI=function(t,e,n){var i;return!(!Jp(t).call(t,"physics")||!Jp(i=gI.physics.solver).call(i,e)||n.physics.solver===e||"wind"===e)},bI=Object.freeze({__proto__:null,allOptions:yI,configuratorHideOption:mI,configureOptions:gI}),wI=function(){function t(){vl(this,t)}return wd(t,[{key:"getDistances",value:function(t,e,n){for(var i={},r=t.edges,o=0;o<e.length;o++){var s={};i[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var l=0;l<n.length;l++){var u=r[n[l]];!0===u.connected&&void 0!==i[u.fromId]&&void 0!==i[u.toId]&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}for(var c=e.length,h=0;h<c;h++)for(var d=e[h],f=i[d],p=0;p<c-1;p++)for(var v=e[p],y=i[v],g=p+1;g<c;g++){var m=e[g],b=i[m],w=Math.min(y[m],y[d]+f[m]);y[m]=w,b[v]=w}return i}}]),t}(),_I=function(){function t(e,n,i){vl(this,t),this.body=e,this.springLength=n,this.springConstant=i,this.distanceSolver=new wI}return wd(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=0,o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,l=0,u=0,c=0,h=0;s>.01&&r<o;){r+=1;var d=uf(this._getHighestEnergyNode(n),4);for(a=d[0],s=d[1],l=d[2],u=d[3],c=s,h=0;c>1&&h<5;){h+=1,this._moveNode(a,l,u);var f=uf(this._getEnergy(a),3);c=f[0],l=f[1],u=f[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=0,r=e[0],o=0,s=0,a=0;a<e.length;a++){var l=e[a];if(!0!==n[l].predefinedPosition||!0===n[l].isCluster&&!0===t||!0!==n[l].options.fixed.x||!0!==n[l].options.fixed.y){var u=uf(this._getEnergy(l),3),c=u[0],h=u[1],d=u[2];i<c&&(i=c,r=l,o=h,s=d)}}return[r,i,o,s]}},{key:"_getEnergy",value:function(t){var e=uf(this.E_sums[t],2),n=e[0],i=e[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,l=r[t].x,u=r[t].y,c=this.K_matrix[t],h=this.L_matrix[t],d=0;d<i.length;d++){var f=i[d];if(f!==t){var p=r[f].x,v=r[f].y,y=c[f],g=h[f],m=1/Math.pow(Math.pow(l-p,2)+Math.pow(u-v,2),1.5);o+=y*(1-g*Math.pow(u-v,2)*m),s+=y*(g*(l-p)*(u-v)*m),a+=y*(1-g*Math.pow(l-p,2)*m)}}var b=(e/o+n/s)/(s/o-a/s),w=-(s*b+e)/o;r[t].x+=w,r[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[i]][e[r]]=n*t[e[i]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[i]][e[r]]=n*Math.pow(t[e[i]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var r=t[i],o=e[r].x,s=e[r].y,a=0,l=0,u=i;u<t.length;u++){var c=t[u];if(c!==r){var h=e[c].x,d=e[c].y,f=1/Math.sqrt(Math.pow(o-h,2)+Math.pow(s-d,2));this.E_matrix[r][u]=[this.K_matrix[r][c]*(o-h-this.L_matrix[r][c]*(o-h)*f),this.K_matrix[r][c]*(s-d-this.L_matrix[r][c]*(s-d)*f)],this.E_matrix[c][i]=this.E_matrix[r][u],a+=this.E_matrix[r][u][0],l+=this.E_matrix[r][u][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=n[t].x,a=n[t].y,l=0,u=0,c=0;c<e.length;c++){var h=e[c];if(h!==t){var d=i[c],f=d[0],p=d[1],v=n[h].x,y=n[h].y,g=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-y,2)),m=r[h]*(s-v-o[h]*(s-v)*g),b=r[h]*(a-y-o[h]*(a-y)*g);i[c]=[m,b],l+=m,u+=b;var w=this.E_sums[h];w[0]+=m-f,w[1]+=b-p}}this.E_sums[t]=[l,u]}}]),t}();function kI(t,e,n){var i,r,o,s,a=this;if(!(this instanceof kI))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Xb,clickToUse:!1},_i(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Vi(i=this.on).call(i,this),off:Vi(r=this.off).call(r,this),emit:Vi(o=this.emit).call(o,this),once:Vi(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Kb((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new S_,this.canvas=new OE(this.body),this.selectionHandler=new VO(this.body,this.canvas),this.interactionHandler=new PE(this.body,this.canvas,this.selectionHandler),this.view=new TE(this.body,this.canvas),this.renderer=new kE(this.body,this.canvas),this.physics=new hE(this.body),this.layoutEngine=new oI(this.body),this.clustering=new _E(this.body),this.manipulation=new lI(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new oS(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new tE(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new _I(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}Qi(kI.prototype),kI.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===vb.validate(t,yI)&&console.error("%cErrors have been found in the supplied options object.",pb),Bm(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var n=uf(e.split(/[-_ /]/,2),2),i=n[0],r=n[1],o=null!=i?i.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(o&&s){var a,l=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,l))return l;console.warn(gf(a="Unknown variant ".concat(s," of language ")).call(a,o,"."))}if(o){var u=o;if(Object.prototype.hasOwnProperty.call(t,u))return u;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new hb(this,this.body.container,gI,this.canvas.pixelRatio,mI)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};jm(n.nodes,this.nodesHandler.options),jm(n.edges,this.edgesHandler.options),jm(n.layout,this.layoutEngine.options),jm(n.interaction,this.selectionHandler.options),jm(n.interaction,this.renderer.options),jm(n.interaction,this.interactionHandler.options),jm(n.manipulation,this.manipulation.options),jm(n.physics,this.physics.options),jm(n.global,this.canvas.options),jm(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new cb(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},kI.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},kI.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},kI.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Wb(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=qb(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},kI.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Am(this.body.container)},kI.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(n,i,r)},kI.prototype.isActive=function(){return!this.activator||this.activator.active},kI.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},kI.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},kI.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},kI.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},kI.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},kI.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},kI.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},kI.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},kI.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},kI.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},kI.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},kI.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},kI.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},kI.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},kI.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},kI.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},kI.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},kI.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},kI.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},kI.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},kI.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},kI.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},kI.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},kI.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},kI.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},kI.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},kI.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},kI.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},kI.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},kI.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},kI.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},kI.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},kI.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},kI.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},kI.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},kI.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},kI.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},kI.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},kI.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},kI.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},kI.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},kI.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},kI.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},kI.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},kI.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},kI.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},kI.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},kI.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},kI.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},kI.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},kI.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},kI.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var xI=Wb;t.Network=kI,t.NetworkImages=Kb,t.networkDOTParser=$b,t.networkGephiParser=Yb,t.networkOptions=bI,t.parseDOTNetwork=xI,t.parseGephiNetwork=qb}(e,n(114))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e,i,r,o,s,a,l,u,c=n(43),h=n(950),d=n(212),f=n(580),p=n(219),v=n.n(p),y=n(904);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(t||(t={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e||(e={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(i||(i={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(r||(r={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(o||(o={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(l||(l={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(u||(u={}));const[g,m]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[b,w]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[_,k]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),x=t=>"number"===typeof t,S=t=>"boolean"===typeof t,E=t=>"function"===typeof t,O=t=>null!=t&&Object(t)===t,T=t=>O(t)&&E(t.then),I=t=>O(t)&&E(t[Symbol.iterator]),C=t=>O(t)&&E(t[Symbol.asyncIterator]),D=t=>O(t)&&O(t.schema),A=t=>O(t)&&"done"in t&&"value"in t,P=t=>O(t)&&E(t.stat)&&x(t.fd),M=t=>O(t)&&F(t.body),N=t=>"_getDOMStream"in t&&"_getNodeStream"in t,F=t=>O(t)&&E(t.cancel)&&E(t.getReader)&&!N(t),B=t=>O(t)&&E(t.read)&&E(t.pipe)&&S(t.readable)&&!N(t);function L(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof b||t instanceof _?`[${[...t].map((t=>L(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"===typeof e?`${e}`:e))}function j(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}Object.create;function z(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t){return this instanceof R?(this.v=t,this):new R(t)}function U(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(t){return function(e){return Promise.resolve(e).then(t,u)}})),i[Symbol.asyncIterator]=function(){return this},i;function s(t,e){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))},e&&(i[t]=e(i[t])))}function a(t,e){try{(n=r[t](e)).value instanceof R?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function H(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:R(t[i](e)),done:!1}:r?r(e):e}:r}}function V(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=z(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const W=new TextDecoder("utf-8"),$=t=>W.decode(t),q=new TextEncoder,Y=t=>q.encode(t),X="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function G(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,r),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,r));return o.set(s,n),t}function K(t,e){const n=function(t){const e=t[0]?[t[0]]:[];let n,i,r,o;for(let s,a,l=0,u=0,c=t.length;++l<c;)s=e[u],a=t[l],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset?a&&(e[++u]=a):(({byteOffset:n,byteLength:r}=s),({byteOffset:i,byteLength:o}=a),n+r<i||i+o<n?a&&(e[++u]=a):e[u]=new Uint8Array(s.buffer,n,i-n+o));return e}(t),i=n.reduce(((t,e)=>t+e.byteLength),0);let r,o,s,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,i);for(const c=n.length;++l<c;){if(r=n[l],o=r.subarray(0,Math.min(r.length,u-a)),u<=a+o.length){o.length<r.length?n[l]=r.subarray(o.length):o.length===r.length&&l++,s?G(s,o,a):s=o;break}G(s||(s=new Uint8Array(u)),o,a),a+=o.length}return[s||new Uint8Array(0),n.slice(l),i-(s?s.byteLength:0)]}function Q(t,e){let n=A(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?("string"===typeof n&&(n=Y(n)),n instanceof ArrayBuffer||n instanceof X?new t(n):O(i=n)&&E(i.clear)&&E(i.bytes)&&E(i.position)&&E(i.setPosition)&&E(i.capacity)&&E(i.getBufferIdentifier)&&E(i.createLong)?Q(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0);var i}const J=t=>Q(Int32Array,t),Z=t=>Q(Uint8Array,t),tt=t=>(t.next(),t);function*et(t,e){const n=function*(t){yield t},i="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?n(e):I(e)?e:n(e);return yield*tt(function*(e){let n=null;do{n=e.next(yield Q(t,n))}while(!n.done)}(i[Symbol.iterator]())),new t}function nt(t,e){return U(this,arguments,(function*(){if(T(e))return yield R(yield R(yield*H(V(nt(t,yield R(e))))));const n=function(t){return U(this,arguments,(function*(){yield yield R(yield R(t))}))},i="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?n(e):I(e)?function(t){return U(this,arguments,(function*(){yield R(yield*H(V(tt(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):C(e)?e:n(e);return yield R(yield*H(V(tt(function(e){return U(this,arguments,(function*(){let n=null;do{n=yield R(e.next(yield yield R(Q(t,n))))}while(!n.done)}))}(i[Symbol.asyncIterator]()))))),yield R(new t)}))}function it(t,e,n){if(0!==t){n=n.slice(0,e+1);for(let i=-1;++i<=e;)n[i]+=t}return n}const rt=Symbol.for("isArrowBigNum");function ot(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return 0===n.length?Object.setPrototypeOf(Q(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...n),this.constructor.prototype)}function st(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ot.apply(this,e)}function at(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ot.apply(this,e)}function lt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ot.apply(this,e)}function ut(t){const{buffer:e,byteOffset:n,length:i,signed:r}=t,o=new _(e,n,i),s=r&&o[o.length-1]&BigInt(1)<<BigInt(63);let a=s?BigInt(1):BigInt(0),l=BigInt(0);if(s){for(const t of o)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of o)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let ct,ht;function dt(t){let e="";const n=new Uint32Array(2);let i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let o=-1;const s=i.length-1;do{for(n[0]=i[o=0];o<s;)i[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+i[o];i[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],e=`${n[0]}${e}`}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}ot.prototype[rt]=!0,ot.prototype.toJSON=function(){return`"${ct(this)}"`},ot.prototype.valueOf=function(){return ut(this)},ot.prototype.toString=function(){return ct(this)},ot.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return ut(this);case"string":return ct(this);case"default":return ht(this)}return ct(this)},Object.setPrototypeOf(st.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(at.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lt.prototype,Object.create(Uint32Array.prototype)),Object.assign(st.prototype,ot.prototype,{constructor:st,signed:!0,TypedArray:Int32Array,BigIntArray:b}),Object.assign(at.prototype,ot.prototype,{constructor:at,signed:!1,TypedArray:Uint32Array,BigIntArray:_}),Object.assign(lt.prototype,ot.prototype,{constructor:lt,signed:!0,TypedArray:Uint32Array,BigIntArray:_}),m?(ht=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:dt(t),ct=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:dt(t)):(ct=dt,ht=ct);class ft{static new(t,e){switch(e){case!0:return new st(t);case!1:return new at(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case b:return new st(t)}return 16===t.byteLength?new lt(t):new at(t)}static signed(t){return new st(t)}static unsigned(t){return new at(t)}static decimal(t){return new lt(t)}constructor(t,e){return ft.new(t,e)}}var pt,vt,yt,gt,mt,bt,wt,_t,kt,xt,St,Et,Ot,Tt,It,Ct,Dt,At,Pt,Mt;class Nt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===l.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===l.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===l.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===l.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===l.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===l.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===l.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===l.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===l.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===l.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===l.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===l.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===l.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===l.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===l.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===l.Dictionary}static isDenseUnion(t){return Nt.isUnion(t)&&t.mode===e.Dense}static isSparseUnion(t){return Nt.isUnion(t)&&t.mode===e.Sparse}get typeId(){return l.NONE}}pt=Symbol.toStringTag,Nt[pt]=((Mt=Nt.prototype).children=null,Mt.ArrayType=Array,Mt[Symbol.toStringTag]="DataType");class Ft extends Nt{toString(){return"Null"}get typeId(){return l.Null}}vt=Symbol.toStringTag,Ft[vt]=(t=>t[Symbol.toStringTag]="Null")(Ft.prototype);class Bt extends Nt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return l.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?b:_}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}yt=Symbol.toStringTag,Bt[yt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Bt.prototype);class Lt extends Bt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Bt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Bt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Lt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Bt{constructor(){super(!0,64)}get ArrayType(){return b}}.prototype,"ArrayType",{value:b}),Object.defineProperty(class extends Bt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Bt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Bt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Bt{constructor(){super(!1,64)}get ArrayType(){return _}}.prototype,"ArrayType",{value:_});class jt extends Nt{constructor(t){super(),this.precision=t}get typeId(){return l.Float}get ArrayType(){switch(this.precision){case i.HALF:return Uint16Array;case i.SINGLE:return Float32Array;case i.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}gt=Symbol.toStringTag,jt[gt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(jt.prototype);Object.defineProperty(class extends jt{constructor(){super(i.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends jt{constructor(){super(i.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends jt{constructor(){super(i.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class zt extends Nt{constructor(){super()}get typeId(){return l.Binary}toString(){return"Binary"}}mt=Symbol.toStringTag,zt[mt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(zt.prototype);class Rt extends Nt{constructor(){super()}get typeId(){return l.Utf8}toString(){return"Utf8"}}bt=Symbol.toStringTag,Rt[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Rt.prototype);class Ut extends Nt{constructor(){super()}get typeId(){return l.Bool}toString(){return"Bool"}}wt=Symbol.toStringTag,Ut[wt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Ut.prototype);class Ht extends Nt{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return l.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}_t=Symbol.toStringTag,Ht[_t]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ht.prototype);class Vt extends Nt{constructor(t){super(),this.unit=t}get typeId(){return l.Date}toString(){return`Date${32*(this.unit+1)}<${r[this.unit]}>`}}kt=Symbol.toStringTag,Vt[kt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Vt.prototype);class Wt extends Nt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return l.Time}toString(){return`Time${this.bitWidth}<${o[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return b}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}xt=Symbol.toStringTag,Wt[xt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Wt.prototype);class $t extends Nt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return l.Timestamp}toString(){return`Timestamp<${o[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}St=Symbol.toStringTag,$t[St]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))($t.prototype);class qt extends Nt{constructor(t){super(),this.unit=t}get typeId(){return l.Interval}toString(){return`Interval<${s[this.unit]}>`}}Et=Symbol.toStringTag,qt[Et]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(qt.prototype);class Yt extends Nt{constructor(t){super(),this.children=[t]}get typeId(){return l.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Ot=Symbol.toStringTag,Yt[Ot]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Yt.prototype);class Xt extends Nt{constructor(t){super(),this.children=t}get typeId(){return l.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Tt=Symbol.toStringTag,Xt[Tt]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Xt.prototype);class Gt extends Nt{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,n)=>(t[e]=n)&&t||t),Object.create(null))}get typeId(){return l.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}It=Symbol.toStringTag,Gt[It]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Gt.prototype);class Kt extends Nt{constructor(t){super(),this.byteWidth=t}get typeId(){return l.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Ct=Symbol.toStringTag,Kt[Ct]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Kt.prototype);class Qt extends Nt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return l.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Dt=Symbol.toStringTag,Qt[Dt]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Qt.prototype);class Jt extends Nt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return l.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}At=Symbol.toStringTag,Jt[At]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Jt.prototype);const Zt=(te=-1,()=>++te);var te;class ee extends Nt{constructor(t,e,n,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=null==n?Zt():"number"===typeof n?n:n.low}get typeId(){return l.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function ne(t){const e=t;switch(t.typeId){case l.Decimal:return t.bitWidth/32;case l.Timestamp:return 2;case l.Date:case l.Interval:return 1+e.unit;case l.FixedSizeList:return e.listSize;case l.FixedSizeBinary:return e.byteWidth;default:return 1}}Pt=Symbol.toStringTag,ee[Pt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(ee.prototype);class ie{visitMany(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.map(((t,e)=>this.visit(t,...n.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return re(t,e,n);if("string"===typeof e&&e in l)return re(t,l[e],n);if(e&&e instanceof Nt)return re(t,oe(e),n);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Nt)return re(t,oe(e.type),n);return re(t,l.NONE,n)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return re(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function re(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null;switch(e){case l.Null:i=t.visitNull;break;case l.Bool:i=t.visitBool;break;case l.Int:i=t.visitInt;break;case l.Int8:i=t.visitInt8||t.visitInt;break;case l.Int16:i=t.visitInt16||t.visitInt;break;case l.Int32:i=t.visitInt32||t.visitInt;break;case l.Int64:i=t.visitInt64||t.visitInt;break;case l.Uint8:i=t.visitUint8||t.visitInt;break;case l.Uint16:i=t.visitUint16||t.visitInt;break;case l.Uint32:i=t.visitUint32||t.visitInt;break;case l.Uint64:i=t.visitUint64||t.visitInt;break;case l.Float:i=t.visitFloat;break;case l.Float16:i=t.visitFloat16||t.visitFloat;break;case l.Float32:i=t.visitFloat32||t.visitFloat;break;case l.Float64:i=t.visitFloat64||t.visitFloat;break;case l.Utf8:i=t.visitUtf8;break;case l.Binary:i=t.visitBinary;break;case l.FixedSizeBinary:i=t.visitFixedSizeBinary;break;case l.Date:i=t.visitDate;break;case l.DateDay:i=t.visitDateDay||t.visitDate;break;case l.DateMillisecond:i=t.visitDateMillisecond||t.visitDate;break;case l.Timestamp:i=t.visitTimestamp;break;case l.TimestampSecond:i=t.visitTimestampSecond||t.visitTimestamp;break;case l.TimestampMillisecond:i=t.visitTimestampMillisecond||t.visitTimestamp;break;case l.TimestampMicrosecond:i=t.visitTimestampMicrosecond||t.visitTimestamp;break;case l.TimestampNanosecond:i=t.visitTimestampNanosecond||t.visitTimestamp;break;case l.Time:i=t.visitTime;break;case l.TimeSecond:i=t.visitTimeSecond||t.visitTime;break;case l.TimeMillisecond:i=t.visitTimeMillisecond||t.visitTime;break;case l.TimeMicrosecond:i=t.visitTimeMicrosecond||t.visitTime;break;case l.TimeNanosecond:i=t.visitTimeNanosecond||t.visitTime;break;case l.Decimal:i=t.visitDecimal;break;case l.List:i=t.visitList;break;case l.Struct:i=t.visitStruct;break;case l.Union:i=t.visitUnion;break;case l.DenseUnion:i=t.visitDenseUnion||t.visitUnion;break;case l.SparseUnion:i=t.visitSparseUnion||t.visitUnion;break;case l.Dictionary:i=t.visitDictionary;break;case l.Interval:i=t.visitInterval;break;case l.IntervalDayTime:i=t.visitIntervalDayTime||t.visitInterval;break;case l.IntervalYearMonth:i=t.visitIntervalYearMonth||t.visitInterval;break;case l.FixedSizeList:i=t.visitFixedSizeList;break;case l.Map:i=t.visitMap}if("function"===typeof i)return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${l[e]}'`)}function oe(t){switch(t.typeId){case l.Null:return l.Null;case l.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?l.Int8:l.Uint8;case 16:return n?l.Int16:l.Uint16;case 32:return n?l.Int32:l.Uint32;case 64:return n?l.Int64:l.Uint64}return l.Int}case l.Float:switch(t.precision){case i.HALF:return l.Float16;case i.SINGLE:return l.Float32;case i.DOUBLE:return l.Float64}return l.Float;case l.Binary:return l.Binary;case l.Utf8:return l.Utf8;case l.Bool:return l.Bool;case l.Decimal:return l.Decimal;case l.Time:switch(t.unit){case o.SECOND:return l.TimeSecond;case o.MILLISECOND:return l.TimeMillisecond;case o.MICROSECOND:return l.TimeMicrosecond;case o.NANOSECOND:return l.TimeNanosecond}return l.Time;case l.Timestamp:switch(t.unit){case o.SECOND:return l.TimestampSecond;case o.MILLISECOND:return l.TimestampMillisecond;case o.MICROSECOND:return l.TimestampMicrosecond;case o.NANOSECOND:return l.TimestampNanosecond}return l.Timestamp;case l.Date:switch(t.unit){case r.DAY:return l.DateDay;case r.MILLISECOND:return l.DateMillisecond}return l.Date;case l.Interval:switch(t.unit){case s.DAY_TIME:return l.IntervalDayTime;case s.YEAR_MONTH:return l.IntervalYearMonth}return l.Interval;case l.Map:return l.Map;case l.List:return l.List;case l.Struct:return l.Struct;case l.Union:switch(t.mode){case e.Dense:return l.DenseUnion;case e.Sparse:return l.SparseUnion}return l.Union;case l.FixedSizeBinary:return l.FixedSizeBinary;case l.FixedSizeList:return l.FixedSizeList;case l.Dictionary:return l.Dictionary}throw new Error(`Unrecognized type '${l[t.typeId]}'`)}ie.prototype.visitInt8=null,ie.prototype.visitInt16=null,ie.prototype.visitInt32=null,ie.prototype.visitInt64=null,ie.prototype.visitUint8=null,ie.prototype.visitUint16=null,ie.prototype.visitUint32=null,ie.prototype.visitUint64=null,ie.prototype.visitFloat16=null,ie.prototype.visitFloat32=null,ie.prototype.visitFloat64=null,ie.prototype.visitDateDay=null,ie.prototype.visitDateMillisecond=null,ie.prototype.visitTimestampSecond=null,ie.prototype.visitTimestampMillisecond=null,ie.prototype.visitTimestampMicrosecond=null,ie.prototype.visitTimestampNanosecond=null,ie.prototype.visitTimeSecond=null,ie.prototype.visitTimeMillisecond=null,ie.prototype.visitTimeMicrosecond=null,ie.prototype.visitTimeNanosecond=null,ie.prototype.visitDenseUnion=null,ie.prototype.visitSparseUnion=null,ie.prototype.visitIntervalDayTime=null,ie.prototype.visitIntervalYearMonth=null;const se=new Float64Array(1),ae=new Uint32Array(se.buffer);function le(t){const e=(31744&t)>>10,n=(1023&t)/1024,i=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,e-15)*(1+n)}class ue extends ie{}function ce(t){return(e,n,i)=>{if(e.setValid(n,null!=i))return t(e,n,i)}}const he=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},de=(t,e,n,i)=>{if(n+1<e.length){const{[n]:r,[n+1]:o}=e;t.set(i.subarray(0,o-r),r)}},fe=(t,e,n)=>{let{values:i}=t;i[e]=n},pe=(t,e,n)=>{let{values:i}=t;i[e]=n},ve=(t,e,n)=>{let{values:i}=t;i[e]=function(t){if(t!==t)return 32256;se[0]=t;const e=(2147483648&ae[1])>>16&65535;let n=2146435072&ae[1],i=0;return n>=1089470464?ae[0]>0?n=31744:(n=(2080374784&n)>>16,i=(1048575&ae[1])>>10):n<=1056964608?(i=1048576+(1048575&ae[1]),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=512+(1048575&ae[1])>>10),e|n|65535&i}(n)},ye=(t,e,n)=>{let{values:i}=t;((t,e,n)=>{t[e]=Math.trunc(n/864e5)})(i,e,n.valueOf())},ge=(t,e,n)=>{let{values:i}=t;he(i,2*e,n.valueOf())},me=(t,e,n)=>{let{values:i}=t;return he(i,2*e,n/1e3)},be=(t,e,n)=>{let{values:i}=t;return he(i,2*e,n)},we=(t,e,n)=>{let{values:i}=t;return((t,e,n)=>{t[e]=Math.trunc(1e3*n%4294967296),t[e+1]=Math.trunc(1e3*n/4294967296)})(i,2*e,n)},_e=(t,e,n)=>{let{values:i}=t;return((t,e,n)=>{t[e]=Math.trunc(1e6*n%4294967296),t[e+1]=Math.trunc(1e6*n/4294967296)})(i,2*e,n)},ke=(t,e,n)=>{let{values:i}=t;i[e]=n},xe=(t,e,n)=>{let{values:i}=t;i[e]=n},Se=(t,e,n)=>{let{values:i}=t;i[e]=n},Ee=(t,e,n)=>{let{values:i}=t;i[e]=n},Oe=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];De.visit(r,t.valueOffsets[e],n)},Te=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];De.visit(r,e,n)},Ie=(t,e,n)=>{let{values:i}=t;i.set(n.subarray(0,2),2*e)},Ce=(t,e,n)=>{let{values:i}=t;i[e]=12*n[0]+n[1]%12};ue.prototype.visitBool=ce(((t,e,n)=>{let{offset:i,values:r}=t;const o=i+e;n?r[o>>3]|=1<<o%8:r[o>>3]&=~(1<<o%8)})),ue.prototype.visitInt=ce(fe),ue.prototype.visitInt8=ce(fe),ue.prototype.visitInt16=ce(fe),ue.prototype.visitInt32=ce(fe),ue.prototype.visitInt64=ce(fe),ue.prototype.visitUint8=ce(fe),ue.prototype.visitUint16=ce(fe),ue.prototype.visitUint32=ce(fe),ue.prototype.visitUint64=ce(fe),ue.prototype.visitFloat=ce(((t,e,n)=>{switch(t.type.precision){case i.HALF:return ve(t,e,n);case i.SINGLE:case i.DOUBLE:return pe(t,e,n)}})),ue.prototype.visitFloat16=ce(ve),ue.prototype.visitFloat32=ce(pe),ue.prototype.visitFloat64=ce(pe),ue.prototype.visitUtf8=ce(((t,e,n)=>{let{values:i,valueOffsets:r}=t;de(i,r,e,Y(n))})),ue.prototype.visitBinary=ce(((t,e,n)=>{let{values:i,valueOffsets:r}=t;return de(i,r,e,n)})),ue.prototype.visitFixedSizeBinary=ce(((t,e,n)=>{let{stride:i,values:r}=t;r.set(n.subarray(0,i),i*e)})),ue.prototype.visitDate=ce(((t,e,n)=>{t.type.unit===r.DAY?ye(t,e,n):ge(t,e,n)})),ue.prototype.visitDateDay=ce(ye),ue.prototype.visitDateMillisecond=ce(ge),ue.prototype.visitTimestamp=ce(((t,e,n)=>{switch(t.type.unit){case o.SECOND:return me(t,e,n);case o.MILLISECOND:return be(t,e,n);case o.MICROSECOND:return we(t,e,n);case o.NANOSECOND:return _e(t,e,n)}})),ue.prototype.visitTimestampSecond=ce(me),ue.prototype.visitTimestampMillisecond=ce(be),ue.prototype.visitTimestampMicrosecond=ce(we),ue.prototype.visitTimestampNanosecond=ce(_e),ue.prototype.visitTime=ce(((t,e,n)=>{switch(t.type.unit){case o.SECOND:return ke(t,e,n);case o.MILLISECOND:return xe(t,e,n);case o.MICROSECOND:return Se(t,e,n);case o.NANOSECOND:return Ee(t,e,n)}})),ue.prototype.visitTimeSecond=ce(ke),ue.prototype.visitTimeMillisecond=ce(xe),ue.prototype.visitTimeMicrosecond=ce(Se),ue.prototype.visitTimeNanosecond=ce(Ee),ue.prototype.visitDecimal=ce(((t,e,n)=>{let{values:i,stride:r}=t;i.set(n.subarray(0,r),r*e)})),ue.prototype.visitList=ce(((t,e,n)=>{const i=t.children[0],r=t.valueOffsets,o=De.getVisitFn(i);if(Array.isArray(n))for(let s=-1,a=r[e],l=r[e+1];a<l;)o(i,a++,n[++s]);else for(let s=-1,a=r[e],l=r[e+1];a<l;)o(i,a++,n.get(++s))})),ue.prototype.visitStruct=ce(((t,e,n)=>{const i=t.type.children.map((t=>De.getVisitFn(t.type))),r=n instanceof Map?(o=e,s=n,(t,e,n,i)=>e&&t(e,o,s.get(n.name))):n instanceof Xn?((t,e)=>(n,i,r,o)=>i&&n(i,t,e.get(o)))(e,n):Array.isArray(n)?((t,e)=>(n,i,r,o)=>i&&n(i,t,e[o]))(e,n):((t,e)=>(n,i,r,o)=>i&&n(i,t,e[r.name]))(e,n);var o,s;t.type.children.forEach(((e,n)=>r(i[n],t.children[n],e,n)))})),ue.prototype.visitUnion=ce(((t,n,i)=>{t.type.mode===e.Dense?Oe(t,n,i):Te(t,n,i)})),ue.prototype.visitDenseUnion=ce(Oe),ue.prototype.visitSparseUnion=ce(Te),ue.prototype.visitDictionary=ce(((t,e,n)=>{var i;null===(i=t.dictionary)||void 0===i||i.set(t.values[e],n)})),ue.prototype.visitInterval=ce(((t,e,n)=>{t.type.unit===s.DAY_TIME?Ie(t,e,n):Ce(t,e,n)})),ue.prototype.visitIntervalDayTime=ce(Ie),ue.prototype.visitIntervalYearMonth=ce(Ce),ue.prototype.visitFixedSizeList=ce(((t,e,n)=>{const{stride:i}=t,r=t.children[0],o=De.getVisitFn(r);if(Array.isArray(n))for(let s=-1,a=e*i;++s<i;)o(r,a+s,n[s]);else for(let s=-1,a=e*i;++s<i;)o(r,a+s,n.get(s))})),ue.prototype.visitMap=ce(((t,e,n)=>{const i=t.children[0],{valueOffsets:r}=t,o=De.getVisitFn(i);let{[e]:s,[e+1]:a}=r;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(o(i,s,u),++s>=a)break}));const De=new ue,Ae=Symbol.for("parent"),Pe=Symbol.for("rowIndex");class Me{constructor(t,e){return this[Ae]=t,this[Pe]=e,new Proxy(this,new Fe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Pe],e=this[Ae],n=e.type.children,i={};for(let r=-1,o=n.length;++r<o;)i[n[r].name]=rn.visit(e.children[r],t);return i}toString(){return`{${[...this].map((t=>{let[e,n]=t;return`${L(e)}: ${L(n)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Ne(this[Ae],this[Pe])}}class Ne{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,rn.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Me.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ae]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Pe]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Fe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ae].type.children.map((t=>t.name))}has(t,e){return-1!==t[Ae].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Ae].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Ae].type.children.findIndex((t=>t.name===e));if(-1!==n){const i=rn.visit(t[Ae].children[n],t[Pe]);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[Ae].type.children.findIndex((t=>t.name===e));return-1!==i?(De.visit(t[Ae].children[i],t[Pe],n),Reflect.set(t,e,n)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,n)}}class Be extends ie{}function Le(t){return(e,n)=>e.getValid(n)?t(e,n):null}const je=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),ze=t=>new Date(t),Re=(t,e,n)=>{if(n+1>=e.length)return null;const i=e[n],r=e[n+1];return t.subarray(i,r)},Ue=(t,e)=>{let{values:n}=t;return((t,e)=>ze(((t,e)=>864e5*t[e])(t,e)))(n,e)},He=(t,e)=>{let{values:n}=t;return((t,e)=>ze(je(t,e)))(n,2*e)},Ve=(t,e)=>{let{stride:n,values:i}=t;return i[n*e]},We=(t,e)=>{let{values:n}=t;return n[e]},$e=(t,e)=>{let{values:n}=t;return 1e3*je(n,2*e)},qe=(t,e)=>{let{values:n}=t;return je(n,2*e)},Ye=(t,e)=>{let{values:n}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(n,2*e)},Xe=(t,e)=>{let{values:n}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(n,2*e)},Ge=(t,e)=>{let{values:n}=t;return n[e]},Ke=(t,e)=>{let{values:n}=t;return n[e]},Qe=(t,e)=>{let{values:n}=t;return n[e]},Je=(t,e)=>{let{values:n}=t;return n[e]},Ze=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return rn.visit(i,t.valueOffsets[e])},tn=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return rn.visit(i,e)},en=(t,e)=>{let{values:n}=t;return n.subarray(2*e,2*(e+1))},nn=(t,e)=>{let{values:n}=t;const i=n[e],r=new Int32Array(2);return r[0]=Math.trunc(i/12),r[1]=Math.trunc(i%12),r};Be.prototype.visitNull=Le(((t,e)=>null)),Be.prototype.visitBool=Le(((t,e)=>{let{offset:n,values:i}=t;const r=n+e;return 0!==(i[r>>3]&1<<r%8)})),Be.prototype.visitInt=Le(((t,e)=>{let{values:n}=t;return n[e]})),Be.prototype.visitInt8=Le(Ve),Be.prototype.visitInt16=Le(Ve),Be.prototype.visitInt32=Le(Ve),Be.prototype.visitInt64=Le(We),Be.prototype.visitUint8=Le(Ve),Be.prototype.visitUint16=Le(Ve),Be.prototype.visitUint32=Le(Ve),Be.prototype.visitUint64=Le(We),Be.prototype.visitFloat=Le(((t,e)=>{let{type:n,values:r}=t;return n.precision!==i.HALF?r[e]:le(r[e])})),Be.prototype.visitFloat16=Le(((t,e)=>{let{stride:n,values:i}=t;return le(i[n*e])})),Be.prototype.visitFloat32=Le(Ve),Be.prototype.visitFloat64=Le(Ve),Be.prototype.visitUtf8=Le(((t,e)=>{let{values:n,valueOffsets:i}=t;const r=Re(n,i,e);return null!==r?$(r):null})),Be.prototype.visitBinary=Le(((t,e)=>{let{values:n,valueOffsets:i}=t;return Re(n,i,e)})),Be.prototype.visitFixedSizeBinary=Le(((t,e)=>{let{stride:n,values:i}=t;return i.subarray(n*e,n*(e+1))})),Be.prototype.visitDate=Le(((t,e)=>t.type.unit===r.DAY?Ue(t,e):He(t,e))),Be.prototype.visitDateDay=Le(Ue),Be.prototype.visitDateMillisecond=Le(He),Be.prototype.visitTimestamp=Le(((t,e)=>{switch(t.type.unit){case o.SECOND:return $e(t,e);case o.MILLISECOND:return qe(t,e);case o.MICROSECOND:return Ye(t,e);case o.NANOSECOND:return Xe(t,e)}})),Be.prototype.visitTimestampSecond=Le($e),Be.prototype.visitTimestampMillisecond=Le(qe),Be.prototype.visitTimestampMicrosecond=Le(Ye),Be.prototype.visitTimestampNanosecond=Le(Xe),Be.prototype.visitTime=Le(((t,e)=>{switch(t.type.unit){case o.SECOND:return Ge(t,e);case o.MILLISECOND:return Ke(t,e);case o.MICROSECOND:return Qe(t,e);case o.NANOSECOND:return Je(t,e)}})),Be.prototype.visitTimeSecond=Le(Ge),Be.prototype.visitTimeMillisecond=Le(Ke),Be.prototype.visitTimeMicrosecond=Le(Qe),Be.prototype.visitTimeNanosecond=Le(Je),Be.prototype.visitDecimal=Le(((t,e)=>{let{values:n,stride:i}=t;return ft.decimal(n.subarray(i*e,i*(e+1)))})),Be.prototype.visitList=Le(((t,e)=>{const{valueOffsets:n,stride:i,children:r}=t,{[e*i]:o,[e*i+1]:s}=n,a=r[0].slice(o,s-o);return new Xn([a])})),Be.prototype.visitStruct=Le(((t,e)=>new Me(t,e))),Be.prototype.visitUnion=Le(((t,n)=>t.type.mode===e.Dense?Ze(t,n):tn(t,n))),Be.prototype.visitDenseUnion=Le(Ze),Be.prototype.visitSparseUnion=Le(tn),Be.prototype.visitDictionary=Le(((t,e)=>{var n;return null===(n=t.dictionary)||void 0===n?void 0:n.get(t.values[e])})),Be.prototype.visitInterval=Le(((t,e)=>t.type.unit===s.DAY_TIME?en(t,e):nn(t,e))),Be.prototype.visitIntervalDayTime=Le(en),Be.prototype.visitIntervalYearMonth=Le(nn),Be.prototype.visitFixedSizeList=Le(((t,e)=>{const{stride:n,children:i}=t,r=i[0].slice(e*n,n);return new Xn([r])})),Be.prototype.visitMap=Le(((t,e)=>{const{valueOffsets:n,children:i}=t,{[e]:r,[e+1]:o}=n,s=i[0];return new an(s.slice(r,o-r))}));const rn=new Be,on=Symbol.for("keys"),sn=Symbol.for("vals");class an{constructor(t){return this[on]=new Xn([t.children[0]]).memoize(),this[sn]=t.children[1],new Proxy(this,new un)}[Symbol.iterator](){return new ln(this[on],this[sn])}get size(){return this[on].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[on],e=this[sn],n={};for(let i=-1,r=t.length;++i<r;)n[t.get(i)]=rn.visit(e,i);return n}toString(){return`{${[...this].map((t=>{let[e,n]=t;return`${L(e)}: ${L(n)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ln{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),rn.visit(this.vals,t)]})}}class un{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[on].toArray().map(String)}has(t,e){return t[on].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[on].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[on].indexOf(e);if(-1!==n){const i=rn.visit(Reflect.get(t,sn),n);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[on].indexOf(e);return-1!==i?(De.visit(Reflect.get(t,sn),i,n),Reflect.set(t,e,n)):!!Reflect.has(t,e)&&Reflect.set(t,e,n)}}let cn;function hn(t,e,n,i){const{length:r=0}=t;let o="number"!==typeof e?0:e,s="number"!==typeof n?r:n;return o<0&&(o=(o%r+r)%r),s<0&&(s=(s%r+r)%r),s<o&&(cn=o,o=s,s=cn),s>r&&(s=r),i?i(t,o,s):[o,s]}Object.defineProperties(an.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[on]:{writable:!0,enumerable:!1,configurable:!1,value:null},[sn]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const dn=t=>t!==t;function fn(t){if("object"!==typeof t||null===t)return dn(t)?dn:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let n=0;const i=t.length;if(i!==e.length)return!1;if(i>0)do{if(t[n]!==e[n])return!1}while(++n<i);return!0}(t,e):t instanceof Map?function(t){let e=-1;const n=[];for(const i of t.values())n[++e]=fn(i);return pn(n)}(t):Array.isArray(t)?function(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=fn(t[n]);return pn(e)}(t):t instanceof Xn?function(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=fn(t.get(n));return pn(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Object.keys(t);if(!e&&0===n.length)return()=>!1;const i=[];for(let r=-1,o=n.length;++r<o;)i[r]=fn(t[n[r]]);return pn(i,n)}(t,!0)}function pn(t,e){return n=>{if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e[i]))return!1;return!0}(t,n);case Map:return vn(t,n,n.keys());case an:case Me:case Object:case void 0:return vn(t,n,e||Object.keys(n))}return n instanceof Xn&&function(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e.get(i)))return!1;return!0}(t,n)}}function vn(t,e,n){const i=n[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let s=0;const a=t.length;let l=o.next(),u=i.next(),c=r.next();for(;s<a&&!u.done&&!c.done&&!l.done&&(u.value===c.value&&t[s](l.value));++s,u=i.next(),c=r.next(),l=o.next());return!!(s===a&&u.done&&c.done&&l.done)||(i.return&&i.return(),r.return&&r.return(),o.return&&o.return(),!1)}class yn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function gn(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function mn(t){return t.reduce(((t,e,n)=>(t[n+1]=t[n]+e.length,t)),new Uint32Array(t.length+1))}function bn(t,e,n,i){const r=[];for(let o=-1,s=t.length;++o<s;){const s=t[o],a=e[o],{length:l}=s;if(a>=i)break;if(n>=a+l)continue;if(a>=n&&a+l<=i){r.push(s);continue}const u=Math.max(0,n-a),c=Math.min(i-a,l);r.push(s.slice(u,c-u))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function wn(t,e,n,i){let r=0,o=0,s=e.length-1;do{if(r>=s-1)return n<e[s]?i(t,r,n-e[r]):null;o=r+Math.trunc(.5*(s-r)),n<e[o]?s=o:r=o}while(r<s)}function _n(t,e){return t.getValid(e)}function kn(t){function e(e,n,i){return t(e[n],i)}return function(t){return wn(this.data,this._offsets,t,e)}}function xn(t){let e;function n(n,i,r){return t(n[i],r,e)}return function(t,i){const r=this.data;e=i;const o=wn(r,this._offsets,t,n);return e=void 0,o}}function Sn(t){let e;function n(n,i,r){let o=r,s=0,a=0;for(let l=i-1,u=n.length;++l<u;){const i=n[l];if(~(s=t(i,e,o)))return a+s;o=0,a+=i.length}return-1}return function(t,i){e=t;const r=this.data,o="number"!==typeof i?n(r,0,0):wn(r,this._offsets,i,n);return e=void 0,o}}function En(t,e,n,i){return 0!==(n&1<<i)}function On(t,e,n,i){return(n&1<<i)>>i}function Tn(t,e,n){const i=n.byteLength+7&-8;if(t>0||n.byteLength<i){const r=new Uint8Array(i);return r.set(t%8===0?n.subarray(t>>3):In(new Cn(n,t,e,null,En)).subarray(0,i)),r}return n}function In(t){const e=[];let n=0,i=0,r=0;for(const s of t)s&&(r|=1<<i),8===++i&&(e[n++]=r,r=i=0);(0===n||i>0)&&(e[n++]=r);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}class Cn{constructor(t,e,n,i,r){this.bytes=t,this.length=n,this.context=i,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Dn(t,e,n){if(n-e<=0)return 0;if(n-e<8){let i=0;for(const r of new Cn(t,e,n-e,t,On))i+=r;return i}const i=n>>3<<3,r=e+(e%8===0?0:8-e%8);return Dn(t,e,r)+Dn(t,i,n)+function(t,e,n){let i=0,r=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),s=void 0===n?t.byteLength:r+n;for(;s-r>=4;)i+=An(o.getUint32(r)),r+=4;for(;s-r>=2;)i+=An(o.getUint16(r)),r+=2;for(;s-r>=1;)i+=An(o.getUint8(r)),r+=1;return i}(t,r>>3,i-r>>3)}function An(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Pn extends ie{}function Mn(t,e,n){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let i=0;for(const r of new Cn(n,t.offset+(e||0),t.length,n,En)){if(!r)return i;++i}return-1}(t,n);const i=rn.getVisitFn(t),r=fn(e);for(let o=(n||0)-1,s=t.length;++o<s;)if(r(i(t,o)))return o;return-1}function Nn(t,e,n){const i=rn.getVisitFn(t),r=fn(e);for(let o=(n||0)-1,s=t.length;++o<s;)if(r(i(t,o)))return o;return-1}Pn.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Pn.prototype.visitBool=Mn,Pn.prototype.visitInt=Mn,Pn.prototype.visitInt8=Mn,Pn.prototype.visitInt16=Mn,Pn.prototype.visitInt32=Mn,Pn.prototype.visitInt64=Mn,Pn.prototype.visitUint8=Mn,Pn.prototype.visitUint16=Mn,Pn.prototype.visitUint32=Mn,Pn.prototype.visitUint64=Mn,Pn.prototype.visitFloat=Mn,Pn.prototype.visitFloat16=Mn,Pn.prototype.visitFloat32=Mn,Pn.prototype.visitFloat64=Mn,Pn.prototype.visitUtf8=Mn,Pn.prototype.visitBinary=Mn,Pn.prototype.visitFixedSizeBinary=Mn,Pn.prototype.visitDate=Mn,Pn.prototype.visitDateDay=Mn,Pn.prototype.visitDateMillisecond=Mn,Pn.prototype.visitTimestamp=Mn,Pn.prototype.visitTimestampSecond=Mn,Pn.prototype.visitTimestampMillisecond=Mn,Pn.prototype.visitTimestampMicrosecond=Mn,Pn.prototype.visitTimestampNanosecond=Mn,Pn.prototype.visitTime=Mn,Pn.prototype.visitTimeSecond=Mn,Pn.prototype.visitTimeMillisecond=Mn,Pn.prototype.visitTimeMicrosecond=Mn,Pn.prototype.visitTimeNanosecond=Mn,Pn.prototype.visitDecimal=Mn,Pn.prototype.visitList=Mn,Pn.prototype.visitStruct=Mn,Pn.prototype.visitUnion=Mn,Pn.prototype.visitDenseUnion=Nn,Pn.prototype.visitSparseUnion=Nn,Pn.prototype.visitDictionary=Mn,Pn.prototype.visitInterval=Mn,Pn.prototype.visitIntervalDayTime=Mn,Pn.prototype.visitIntervalYearMonth=Mn,Pn.prototype.visitFixedSizeList=Mn,Pn.prototype.visitMap=Mn;const Fn=new Pn;class Bn extends ie{}function Ln(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===l.Timestamp||e instanceof Bt&&64!==e.bitWidth||e instanceof Wt&&64!==e.bitWidth||e instanceof jt&&e.precision!==i.HALF))return new yn(t.data.length,(e=>{const n=t.data[e];return n.values.subarray(0,n.length)[Symbol.iterator]()}));let n=0;return new yn(t.data.length,(e=>{const i=t.data[e].length,r=t.slice(n,n+i);return n+=i,new jn(r)}))}class jn{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Bn.prototype.visitNull=Ln,Bn.prototype.visitBool=Ln,Bn.prototype.visitInt=Ln,Bn.prototype.visitInt8=Ln,Bn.prototype.visitInt16=Ln,Bn.prototype.visitInt32=Ln,Bn.prototype.visitInt64=Ln,Bn.prototype.visitUint8=Ln,Bn.prototype.visitUint16=Ln,Bn.prototype.visitUint32=Ln,Bn.prototype.visitUint64=Ln,Bn.prototype.visitFloat=Ln,Bn.prototype.visitFloat16=Ln,Bn.prototype.visitFloat32=Ln,Bn.prototype.visitFloat64=Ln,Bn.prototype.visitUtf8=Ln,Bn.prototype.visitBinary=Ln,Bn.prototype.visitFixedSizeBinary=Ln,Bn.prototype.visitDate=Ln,Bn.prototype.visitDateDay=Ln,Bn.prototype.visitDateMillisecond=Ln,Bn.prototype.visitTimestamp=Ln,Bn.prototype.visitTimestampSecond=Ln,Bn.prototype.visitTimestampMillisecond=Ln,Bn.prototype.visitTimestampMicrosecond=Ln,Bn.prototype.visitTimestampNanosecond=Ln,Bn.prototype.visitTime=Ln,Bn.prototype.visitTimeSecond=Ln,Bn.prototype.visitTimeMillisecond=Ln,Bn.prototype.visitTimeMicrosecond=Ln,Bn.prototype.visitTimeNanosecond=Ln,Bn.prototype.visitDecimal=Ln,Bn.prototype.visitList=Ln,Bn.prototype.visitStruct=Ln,Bn.prototype.visitUnion=Ln,Bn.prototype.visitDenseUnion=Ln,Bn.prototype.visitSparseUnion=Ln,Bn.prototype.visitDictionary=Ln,Bn.prototype.visitInterval=Ln,Bn.prototype.visitIntervalDayTime=Ln,Bn.prototype.visitIntervalYearMonth=Ln,Bn.prototype.visitFixedSizeList=Ln,Bn.prototype.visitMap=Ln;const zn=new Bn,Rn=(t,e)=>t+e;class Un extends ie{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===o.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,n)=>t+Wn.visit(n,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,n)=>t+Wn.visit(n,e)),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+((null===(n=t.dictionary)||void 0===n?void 0:n.getByteLength(t.values[e]))||0)}}const Hn=(t,e)=>{let{type:n,children:i,typeIds:r,valueOffsets:o}=t;const s=n.typeIdToChildIndex[r[e]];return 8+Wn.visit(i[s],o[e])},Vn=(t,e)=>{let{children:n}=t;return 4+Wn.visitMany(n,n.map((()=>e))).reduce(Rn,0)};Un.prototype.visitUtf8=(t,e)=>{let{valueOffsets:n}=t;return n[e+1]-n[e]+8},Un.prototype.visitBinary=(t,e)=>{let{valueOffsets:n}=t;return n[e+1]-n[e]+8},Un.prototype.visitList=(t,e)=>{let{valueOffsets:n,stride:i,children:r}=t;const o=r[0],{[e*i]:s}=n,{[e*i+1]:a}=n,l=Wn.getVisitFn(o.type),u=o.slice(s,a-s);let c=8;for(let h=-1,d=a-s;++h<d;)c+=l(u,h);return c},Un.prototype.visitFixedSizeList=(t,e)=>{let{stride:n,children:i}=t;const r=i[0],o=r.slice(e*n,n),s=Wn.getVisitFn(r.type);let a=0;for(let l=-1,u=o.length;++l<u;)a+=s(o,l);return a},Un.prototype.visitUnion=(t,n)=>t.type.mode===e.Dense?Hn(t,n):Vn(t,n),Un.prototype.visitDenseUnion=Hn,Un.prototype.visitSparseUnion=Vn;const Wn=new Un;var $n;const qn={},Yn={};class Xn{constructor(t){var e,n,i;const r=t[0]instanceof Xn?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Kn))))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:n,byteLength:i}=qn[o.typeId],s=r[0];this.isValid=t=>_n(s,t),this.get=e=>t(s,e),this.set=(t,n)=>e(s,t,n),this.indexOf=t=>n(s,t),this.getByteLength=t=>i(s,t),this._offsets=[0,s.length];break}default:Object.setPrototypeOf(this,Yn[o.typeId]),this._offsets=mn(r)}this.data=r,this.type=o,this.stride=ne(o),this.numChildren=null!==(i=null===(n=o.children)||void 0===n?void 0:n.length)&&void 0!==i?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=gn(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${l[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return zn.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Xn(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Xn(hn(this,t,e,((t,e,n)=>{let{data:i,_offsets:r}=t;return bn(i,r,e,n)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:i,ArrayType:r}=this;switch(t.typeId){case l.Int:case l.Float:case l.Decimal:case l.Time:case l.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,n*i);default:return e.reduce(((t,e)=>{let{values:n,length:r}=e;return t.array.set(n.subarray(0,r*i),t.offset),t.offset+=r*i,t}),{array:new r(n*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Xn(this.data.map((e=>{let{children:n}=e;return n[t]}))):null}get isMemoized(){return!!Nt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Nt.isDictionary(this.type)){const t=new Gn(this.data[0].dictionary),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new Xn(e)}return new Gn(this)}unmemoize(){if(Nt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new Xn(e)}return this}}$n=Symbol.toStringTag,Xn[$n]=(t=>{t.type=Nt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(l).map((t=>l[t])).filter((t=>"number"===typeof t&&t!==l.NONE));for(const n of e){const e=rn.getVisitFnByTypeId(n),i=De.getVisitFnByTypeId(n),r=Fn.getVisitFnByTypeId(n),o=Wn.getVisitFnByTypeId(n);qn[n]={get:e,set:i,indexOf:r,byteLength:o},Yn[n]=Object.create(t,{isValid:{value:kn(_n)},get:{value:kn(rn.getVisitFnByTypeId(n))},set:{value:xn(De.getVisitFnByTypeId(n))},indexOf:{value:Sn(Fn.getVisitFnByTypeId(n))},getByteLength:{value:kn(Wn.getVisitFnByTypeId(n))}})}return"Vector"})(Xn.prototype);class Gn extends Xn{constructor(t){super(t.data);const e=this.get,n=this.set,i=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const n=r[t];if(void 0!==n)return n;const i=e.call(this,t);return r[t]=i,i}}),Object.defineProperty(this,"set",{value(t,e){n.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Gn(i.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Xn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Kn{constructor(t,e,n,i,r){let o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),r instanceof Kn?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ne(t),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:i,typeIds:r}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Dn(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:n,offset:i}=this,r=i+t>>3,o=(i+t)%8,s=n[r]>>o&1;return e?0===s&&(n[r]|=1<<o,this._nullCount=this.nullCount+1):1===s&&(n[r]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Kn(t,e,n,i,r,o,this.dictionary)}slice(t,e){const{stride:n,typeId:i,children:r}=this,o=+(0===this._nullCount)-1,s=16===i?n:1,a=this._sliceBuffers(t,e,n,i);return this.clone(this.type,this.offset+t,e,o,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===l.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(-8&e))-1,n>0&&i.set(Tn(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[u.VALIDITY]=i,this.clone(this.type,0,t,n+(t-e),r)}_sliceBuffers(t,e,n,i){let r;const{buffers:o}=this;return(r=o[u.TYPE])&&(o[u.TYPE]=r.subarray(t,t+e)),(r=o[u.OFFSET])&&(o[u.OFFSET]=r.subarray(t,t+e+1))||(r=o[u.DATA])&&(o[u.DATA]=6===i?r:r.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map((t=>t.slice(e,n)))}}Kn.prototype.children=Object.freeze([]);class Qn extends ie{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:n=0,length:i=0}=t;return new Kn(e,n,i,0)}visitBool(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length>>3,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitInt(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitFloat(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitUtf8(t){const{type:e,offset:n=0}=t,i=Z(t.data),r=Z(t.nullBitmap),o=J(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,s,a,[o,i,r])}visitBinary(t){const{type:e,offset:n=0}=t,i=Z(t.data),r=Z(t.nullBitmap),o=J(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,s,a,[o,i,r])}visitFixedSizeBinary(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitDate(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitTimestamp(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitTime(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitDecimal(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitList(t){const{type:e,offset:n=0,child:i}=t,r=Z(t.nullBitmap),o=J(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,s,a,[o,void 0,r],[i])}visitStruct(t){const{type:e,offset:n=0,children:i=[]}=t,r=Z(t.nullBitmap),{length:o=i.reduce(((t,e)=>{let{length:n}=e;return Math.max(t,n)}),0),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,void 0,r],i)}visitUnion(t){const{type:e,offset:n=0,children:i=[]}=t,r=Z(t.nullBitmap),o=Q(e.ArrayType,t.typeIds),{length:s=o.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(Nt.isSparseUnion(e))return new Kn(e,n,s,a,[void 0,void 0,r,o],i);const l=J(t.valueOffsets);return new Kn(e,n,s,a,[l,void 0,r,o],i)}visitDictionary(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.indices.ArrayType,t.data),{dictionary:o=new Xn([(new Qn).visit({type:e.dictionary})])}=t,{length:s=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,s,a,[void 0,r,i],[],o)}visitInterval(t){const{type:e,offset:n=0}=t,i=Z(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:o=r.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,r,i])}visitFixedSizeList(t){const{type:e,offset:n=0,child:i=(new Qn).visit({type:e.valueType})}=t,r=Z(t.nullBitmap),{length:o=i.length/ne(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,o,s,[void 0,void 0,r],[i])}visitMap(t){const{type:e,offset:n=0,child:i=(new Qn).visit({type:e.childType})}=t,r=Z(t.nullBitmap),o=J(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Kn(e,n,s,a,[o,void 0,r],[i])}}function Jn(t){return(new Qn).visit(t)}class Zn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,n||(n=ni(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter((t=>e.has(t.name)));return new Zn(n,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Zn(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e[0]instanceof Zn?e[0]:Array.isArray(e[0])?new Zn(e[0]):new Zn(e),r=[...this.fields],o=ei(ei(new Map,this.metadata),i.metadata),s=i.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:ei(ei(new Map,r[e].metadata),t.metadata)}))&&!1})),a=ni(s,new Map);return new Zn([...r,...s],o,new Map([...this.dictionaries,...a]))}}Zn.prototype.fields=null,Zn.prototype.metadata=null,Zn.prototype.dictionaries=null;class ti{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=n,this.metadata=i||new Map}static new(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[i,r,o,s]=e;return e[0]&&"object"===typeof e[0]&&(({name:i}=e[0]),void 0===r&&(r=e[0].type),void 0===o&&(o=e[0].nullable),void 0===s&&(s=e[0].metadata)),new ti(`${i}`,r,o,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[i,r,o,s]=e;return e[0]&&"object"===typeof e[0]?({name:i=this.name,type:r=this.type,nullable:o=this.nullable,metadata:s=this.metadata}=e[0]):[i=this.name,r=this.type,o=this.nullable,s=this.metadata]=e,ti.new(i,r,o,s)}}function ei(t,e){return new Map([...t||new Map,...e||new Map])}function ni(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let n=-1,i=t.length;++n<i;){const i=t[n].type;if(Nt.isDictionary(i))if(e.has(i.id)){if(e.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(i.id,i.dictionary);i.children&&i.children.length>0&&ni(i.children,e)}return e}ti.prototype.type=null,ti.prototype.name=null,ti.prototype.nullable=null,ti.prototype.metadata=null;class ii extends ie{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>this.compareFields(t,e[n])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ri(t,e){return e instanceof t.constructor}function oi(t,e){return t===e||ri(t,e)}function si(t,e){return t===e||ri(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function ai(t,e){return t===e||ri(t,e)&&t.precision===e.precision}function li(t,e){return t===e||ri(t,e)&&t.unit===e.unit}function ui(t,e){return t===e||ri(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function ci(t,e){return t===e||ri(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function hi(t,e){return t===e||ri(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,n)=>t===e.typeIds[n]))&&fi.compareManyFields(t.children,e.children)}function di(t,e){return t===e||ri(t,e)&&t.unit===e.unit}ii.prototype.visitNull=oi,ii.prototype.visitBool=oi,ii.prototype.visitInt=si,ii.prototype.visitInt8=si,ii.prototype.visitInt16=si,ii.prototype.visitInt32=si,ii.prototype.visitInt64=si,ii.prototype.visitUint8=si,ii.prototype.visitUint16=si,ii.prototype.visitUint32=si,ii.prototype.visitUint64=si,ii.prototype.visitFloat=ai,ii.prototype.visitFloat16=ai,ii.prototype.visitFloat32=ai,ii.prototype.visitFloat64=ai,ii.prototype.visitUtf8=oi,ii.prototype.visitBinary=oi,ii.prototype.visitFixedSizeBinary=function(t,e){return t===e||ri(t,e)&&t.byteWidth===e.byteWidth},ii.prototype.visitDate=li,ii.prototype.visitDateDay=li,ii.prototype.visitDateMillisecond=li,ii.prototype.visitTimestamp=ui,ii.prototype.visitTimestampSecond=ui,ii.prototype.visitTimestampMillisecond=ui,ii.prototype.visitTimestampMicrosecond=ui,ii.prototype.visitTimestampNanosecond=ui,ii.prototype.visitTime=ci,ii.prototype.visitTimeSecond=ci,ii.prototype.visitTimeMillisecond=ci,ii.prototype.visitTimeMicrosecond=ci,ii.prototype.visitTimeNanosecond=ci,ii.prototype.visitDecimal=oi,ii.prototype.visitList=function(t,e){return t===e||ri(t,e)&&t.children.length===e.children.length&&fi.compareManyFields(t.children,e.children)},ii.prototype.visitStruct=function(t,e){return t===e||ri(t,e)&&t.children.length===e.children.length&&fi.compareManyFields(t.children,e.children)},ii.prototype.visitUnion=hi,ii.prototype.visitDenseUnion=hi,ii.prototype.visitSparseUnion=hi,ii.prototype.visitDictionary=function(t,e){return t===e||ri(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&fi.visit(t.indices,e.indices)&&fi.visit(t.dictionary,e.dictionary)},ii.prototype.visitInterval=di,ii.prototype.visitIntervalDayTime=di,ii.prototype.visitIntervalYearMonth=di,ii.prototype.visitFixedSizeList=function(t,e){return t===e||ri(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&fi.compareManyFields(t.children,e.children)},ii.prototype.visitMap=function(t,e){return t===e||ri(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&fi.compareManyFields(t.children,e.children)};const fi=new ii;function pi(t,e){return fi.compareSchemas(t,e)}var vi,yi;class gi{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Zn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Jn({nullCount:0,type:new Xt(this.schema.fields),children:this.schema.fields.map((t=>Jn({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Kn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=mi(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:n,children:i,length:r}=Object.keys(t).reduce(((e,n,i)=>(e.children[i]=t[n],e.length=Math.max(e.length,t[n].length),e.fields[i]=ti.new({name:n,type:t[n].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),o=new Zn(n),s=Jn({type:new Xt(n),length:r,children:i,nullCount:0});[this.schema,this.data]=mi(o,s.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=bi(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return rn.visit(this.data,t)}set(t,e){return De.visit(this.data,t,e)}indexOf(t,e){return Fn.visit(this.data,t,e)}getByteLength(t){return Wn.visit(this.data,t)}[Symbol.iterator](){return zn.visit(new Xn([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new xi(this.schema,[this,...e])}slice(t,e){const[n]=new Xn([this.data]).slice(t,e).data;return new gi(this.schema,n)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Xn([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,i=this.data;if(t>-1&&t<this.numCols){e||(e=new Xn([Jn({type:new Ft,length:this.numRows})]));const r=n.fields.slice(),o=i.children.slice(),s=r[t].clone({type:e.type});[r[t],o[t]]=[s,e.data[0]],n=new Zn(r,new Map(this.schema.metadata)),i=Jn({type:new Xt(r),children:o})}return new gi(n,i)}select(t){const e=this.schema.select(t),n=new Xt(e.fields),i=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(i[t]=this.data.children[t])}return new gi(e,Jn({type:n,length:this.numRows,children:i}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map((t=>this.data.children[t])).filter(Boolean),i=Jn({type:new Xt(e.fields),length:this.numRows,children:n});return new gi(e,i)}}function mi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var i;const r=[...t.fields],o=[...e],s=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const t=e[a];t&&t.length===n||(r[a]=l.clone({nullable:!0}),o[a]=null!==(i=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(n))&&void 0!==i?i:Jn({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(s)}))}return[t.assign(r),Jn({type:new Xt(r),length:n,children:o})]}function bi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let i=-1,r=t.length;++i<r;){const r=t[i].type,o=e[i];if(Nt.isDictionary(r))if(n.has(r.id)){if(n.get(r.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else o.dictionary&&n.set(r.id,o.dictionary);r.children&&r.children.length>0&&bi(r.children,o.children,n)}return n}vi=Symbol.toStringTag,gi[vi]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(gi.prototype);class wi extends gi{constructor(t){const e=t.fields.map((t=>Jn({type:t.type})));super(t,Jn({type:new Xt(t.fields),nullCount:0,children:e}))}}function _i(t,e){return function(t,e){const n=[...t.fields],i=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let o=0,s=0,a=-1;const l=e.length;let u,c=[];for(;r.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),s=Math.min(s,u?u.length:s);Number.isFinite(s)&&(c=ki(n,s,c,e,r),s>0&&(i[o++]=Jn({type:new Xt(n),length:s,nullCount:0,children:c.slice()})))}return[t=t.assign(n),i.map((e=>new gi(t,e)))]}(t,e.map((t=>t.data.concat())))}function ki(t,e,n,i,r){var o;const s=(e+63&-64)>>3;for(let a=-1,l=i.length;++a<l;){const l=n[a],u=null===l||void 0===l?void 0:l.length;if(u>=e)u===e?n[a]=l:(n[a]=l.slice(0,e),r.numBatches=Math.max(r.numBatches,i[a].unshift(l.slice(e,u-e))));else{const i=t[a];t[a]=i.clone({nullable:!0}),n[a]=null!==(o=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==o?o:Jn({type:i.type,length:e,nullCount:e,nullBitmap:new Uint8Array(s)})}}return n}class xi{constructor(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(0===i.length)return this.batches=[],this.schema=new Zn([]),this._offsets=[0],this;let o,s;i[0]instanceof Zn&&(o=i.shift()),i[i.length-1]instanceof Uint32Array&&(s=i.pop());const a=t=>{if(t){if(t instanceof gi)return[t];if(t instanceof xi)return t.batches;if(t instanceof Kn){if(t.type instanceof Xt)return[new gi(new Zn(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),n=e.map((e=>new Xn([t[e]]))),i=new Zn(e.map(((t,e)=>new ti(String(t),n[e].type)))),[,r]=_i(i,n);return 0===r.length?[new gi(t)]:r}}}return[]},l=i.flatMap((t=>a(t)));if(o=null!==(e=null!==o&&void 0!==o?o:null===(t=l[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Zn([]),!(o instanceof Zn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of l){if(!(u instanceof gi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!pi(o,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=o,this.batches=l,this._offsets=null!==s&&void 0!==s?s:mn(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=gn(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?zn.visit(new Xn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(){const t=this.schema;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const r=this.data.concat(n.flatMap((t=>{let{data:e}=t;return e})));return new xi(t,r.map((e=>new gi(t,e))))}slice(t,e){const n=this.schema;[t,e]=hn({length:this.numRows},t,e);const i=bn(this.data,this._offsets,t,e);return new xi(n,i.map((t=>new gi(n,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:n}=this.schema.fields[t],i=Jn({type:n,length:0,nullCount:0});e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Xn(e)}return null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Xn([Jn({type:new Ft,length:this.numRows})]));const r=n.fields.slice(),o=r[t].clone({type:e.type}),s=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],s[t]]=[o,e],[n,i]=_i(n,s)}return new xi(n,i)}select(t){const e=this.schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map((e=>e.selectAt(t)));return new xi(e,n)}assign(t){const e=this.schema.fields,[n,i]=t.schema.fields.reduce(((t,n,i)=>{const[r,o]=t,s=e.findIndex((t=>t.name===n.name));return~s?o[s]=i:r.push(i),t}),[[],[]]),r=this.schema.assign(t.schema),o=[...e.map(((t,e)=>[e,i[e]])).map((e=>{let[n,i]=e;return void 0===i?this.getChildAt(n):t.getChildAt(i)})),...n.map((e=>t.getChildAt(e)))].filter(Boolean);return new xi(..._i(r,o))}}yi=Symbol.toStringTag,xi[yi]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=kn(_n),t.get=kn(rn.getVisitFn(l.Struct)),t.set=xn(De.getVisitFn(l.Struct)),t.indexOf=Sn(Fn.getVisitFn(l.Struct)),t.getByteLength=kn(Wn.getVisitFn(l.Struct)),"Table"))(xi.prototype);class Si{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const Ei=new Int32Array(2),Oi=new Float32Array(Ei.buffer),Ti=new Float64Array(Ei.buffer),Ii=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Ci{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Ci.ZERO:new Ci(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var Di,Ai,Pi,Mi,Ni;Ci.ZERO=new Ci(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(Di||(Di={}));class Fi{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Fi(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ci(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ci(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Ei[0]=this.readInt32(t),Oi[0]}readFloat64(t){return Ei[Ii?0:1]=this.readInt32(t),Ei[Ii?1:0]=this.readInt32(t+4),Ti[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Oi[0]=e,this.writeInt32(t,Ei[0])}writeFloat64(t,e){Ti[0]=e,this.writeInt32(t,Ei[Ii?0:1]),this.writeInt32(t+4,Ei[Ii?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let i="",r=0;if(t+=4,e===Di.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){let e;const n=this.readUint8(t+r++);if(n<192)e=n;else{const i=this.readUint8(t+r++);if(n<224)e=(31&n)<<6|63&i;else{const o=this.readUint8(t+r++);if(n<240)e=(15&n)<<12|(63&i)<<6|63&o;else{e=(7&n)<<18|(63&i)<<12|(63&o)<<6|63&this.readUint8(t+r++)}}}e<65536?i+=String.fromCharCode(e):(e-=65536,i+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return i}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Ci.create(t,e)}createScalarList(t,e){const n=[];for(let i=0;i<e;++i)null!==t(i)&&n.push(t(i));return n}createObjList(t,e){const n=[];for(let i=0;i<e;++i){const e=t(i);null!==e&&n.push(e.unpack())}return n}}class Bi{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Fi.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<n+t+e;){const t=this.bb.capacity();this.bb=Bi.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,i=Fi.allocate(n);return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const n=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const i=2*(n+2);this.addInt16(i);let r=0;const o=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(t)){for(let e=2;e<i;e+=2)if(this.bb.readInt16(o+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const i=n?4:0;if(e){const t=e;if(this.prep(this.minalign,8+i),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,i=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(i+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let i;const r=t.charCodeAt(n++);if(r<55296||r>=56320)i=r;else{i=(r<<10)+t.charCodeAt(n++)+-56613888}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(63&i|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,i=this.space,r=this.bb.bytes();n<e.length;n++)r[i++]=e[n];return this.endVector()}createLong(t,e){return Ci.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n];if(null===i)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(i))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Li{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return Li.startKeyValue(t),Li.addKey(t,e),Li.addValue(t,n),Li.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Ai||(Ai={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Pi||(Pi={})),function(t){t[t.DenseArray=0]="DenseArray"}(Mi||(Mi={}));class ji{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new ji).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new ji).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return ji.startInt(t),ji.addBitWidth(t,e),ji.addIsSigned(t,n),ji.endInt(t)}}class zi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new zi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new zi).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ji).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Mi.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Mi.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Ni||(Ni={}));class Ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Ri).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Ni.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new zi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new Ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Ni.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Ui{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Ui).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Ui).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pi.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Ri).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Pi.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,i,r){return Ui.startSchema(t),Ui.addEndianness(t,e),Ui.addFields(t,n),Ui.addCustomMetadata(t,i),Ui.addFeatures(t,r),Ui.endSchema(t)}}class Hi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Hi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Hi).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ai.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ui).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Si).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Si).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ai.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Vi=Ci,Wi=Bi,$i=Fi;class qi{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=e,this.version=n,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}static decode(t){t=new $i(Z(t));const e=Hi.getRootAsFooter(t),n=Zn.decode(e.schema());return new Yi(n,e)}static encode(e){const n=new Wi,i=Zn.encode(n,e.schema);Hi.startRecordBatchesVector(n,e.numRecordBatches);for(const t of[...e.recordBatches()].slice().reverse())Xi.encode(n,t);const r=n.endVector();Hi.startDictionariesVector(n,e.numDictionaries);for(const t of[...e.dictionaryBatches()].slice().reverse())Xi.encode(n,t);const o=n.endVector();return Hi.startFooter(n),Hi.addSchema(n,i),Hi.addVersion(n,t.V4),Hi.addRecordBatches(n,r),Hi.addDictionaries(n,o),Hi.finishFooterBuffer(n,Hi.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Yi extends qi{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Xi.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Xi.decode(e)}return null}}class Xi{constructor(t,e,n){this.metaDataLength=t,this.offset="number"===typeof n?n:n.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Xi(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,i=new Vi(e.offset,0),r=new Vi(e.bodyLength,0);return Si.createBlock(t,i,n,r)}}const Gi={fromIterable:t=>Ki(function*(t){let e,n,i,r,o=!1,s=[],a=0;function l(){return"peek"===i?K(s,r)[0]:([n,s,a]=K(s,r),n)}({cmd:i,size:r}=yield null);const u=(c=t,et(Uint8Array,c))[Symbol.iterator]();var c;try{do{if(({done:e,value:n}=Number.isNaN(r-a)?u.next():u.next(r-a)),!e&&n.byteLength>0&&(s.push(n),a+=n.byteLength),e||r<=a)do{({cmd:i,size:r}=yield l())}while(r<a)}while(!e)}catch(h){(o=!0)&&"function"===typeof u.throw&&u.throw(h)}finally{!1===o&&"function"===typeof u.return&&u.return(null)}return null}(t)),fromAsyncIterable:t=>Ki(function(t){return U(this,arguments,(function*(){let e,n,i,r,o=!1,s=[],a=0;function l(){return"peek"===i?K(s,r)[0]:([n,s,a]=K(s,r),n)}({cmd:i,size:r}=yield yield R(null));const u=(c=t,nt(Uint8Array,c))[Symbol.asyncIterator]();var c;try{do{if(({done:e,value:n}=Number.isNaN(r-a)?yield R(u.next()):yield R(u.next(r-a))),!e&&n.byteLength>0&&(s.push(n),a+=n.byteLength),e||r<=a)do{({cmd:i,size:r}=yield yield R(l()))}while(r<a)}while(!e)}catch(h){(o=!0)&&"function"===typeof u.throw&&(yield R(u.throw(h)))}finally{!1===o&&"function"===typeof u.return&&(yield R(u.return(new Uint8Array(0))))}return yield R(null)}))}(t)),fromDOMStream:t=>Ki(function(t){return U(this,arguments,(function*(){let e,n,i,r=!1,o=!1,s=[],a=0;function l(){return"peek"===n?K(s,i)[0]:([e,s,a]=K(s,i),e)}({cmd:n,size:i}=yield yield R(null));const u=new Qi(t);try{do{if(({done:r,value:e}=Number.isNaN(i-a)?yield R(u.read()):yield R(u.read(i-a))),!r&&e.byteLength>0&&(s.push(Z(e)),a+=e.byteLength),r||i<=a)do{({cmd:n,size:i}=yield yield R(l()))}while(i<a)}while(!r)}catch(c){(o=!0)&&(yield R(u.cancel(c)))}finally{!1===o?yield R(u.cancel()):t.locked&&u.releaseLock()}return yield R(null)}))}(t)),fromNodeStream:t=>Ki(function(t){return U(this,arguments,(function*(){const e=[];let n,i,r,o="error",s=!1,a=null,l=0,u=[];function c(){return"peek"===n?K(u,i)[0]:([r,u,l]=K(u,i),r)}if(({cmd:n,size:i}=yield yield R(null)),t.isTTY)return yield yield R(new Uint8Array(0)),yield R(null);try{e[0]=Ji(t,"end"),e[1]=Ji(t,"error");do{if(e[2]=Ji(t,"readable"),[o,a]=yield R(Promise.race(e.map((t=>t[2])))),"error"===o)break;if((s="end"===o)||(Number.isFinite(i-l)?(r=Z(t.read(i-l)),r.byteLength<i-l&&(r=Z(t.read()))):r=Z(t.read()),r.byteLength>0&&(u.push(r),l+=r.byteLength)),s||i<=l)do{({cmd:n,size:i}=yield yield R(c()))}while(i<l)}while(!s)}finally{yield R(h(e,"error"===o?a:null))}return yield R(null);function h(e,n){return r=u=null,new Promise(((i,r)=>{for(const[n,s]of e)t.off(n,s);try{const e=t.destroy;e&&e.call(t,n),n=void 0}catch(o){n=o||n}finally{null!=n?r(n):i()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Ki=t=>(t.next(),t);class Qi{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return j(this,void 0,void 0,(function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch((()=>{}))),n&&n.locked&&this.releaseLock()}))}read(t){return j(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=Z(e)),e}))}}const Ji=(t,e)=>{const n=t=>i([e,t]);let i;return[e,n,new Promise((r=>(i=r)&&t.once(e,n)))]};const Zi=Object.freeze({done:!0,value:void 0});class tr{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class er{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class nr extends er{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return j(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Zi);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Gi.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Gi.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return j(this,void 0,void 0,(function*(){return yield this.abort(t),Zi}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.close(),Zi}))}read(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Zi)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ir extends nr{write(t){if((t=Z(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?$(this.toUint8Array(!0)):this.toUint8Array(!1).then($)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?K(this._values)[0]:(()=>j(this,void 0,void 0,(function*(){var t,e;const n=[];let i=0;try{for(var r,o=V(this);!(r=yield o.next()).done;){const t=r.value;n.push(t),i+=t.byteLength}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=o.return)&&(yield e.call(o))}finally{if(t)throw t.error}}return K(n,i)[0]})))()}}class rr{constructor(t){t&&(this.source=new sr(Gi.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class or{constructor(t){t instanceof or?this.source=t.source:t instanceof ir?this.source=new ar(Gi.fromAsyncIterable(t)):B(t)?this.source=new ar(Gi.fromNodeStream(t)):F(t)?this.source=new ar(Gi.fromDOMStream(t)):M(t)?this.source=new ar(Gi.fromDOMStream(t.body)):I(t)?this.source=new ar(Gi.fromIterable(t)):(T(t)||C(t))&&(this.source=new ar(Gi.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class sr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Zi)}return(t){return Object.create(this.source.return&&this.source.return(t)||Zi)}}class ar{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return j(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return j(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return j(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Zi;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return j(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Zi;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class lr extends rr{constructor(t,e){super(),this.position=0,this.buffer=Z(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:i}=this;return e&&i<n?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const n=this.buffer,i=Math.min(this.size,t+e);return n?n.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ur extends or{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>j(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return j(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}))}seek(t){return j(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return j(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:i}=this;if(e&&i<n){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=i,o=0,s=0;const a=Math.min(n,r+Math.min(n-r,t)),l=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=s)<a&&(o+=s)<l.byteLength;)({bytesRead:s}=yield e.read(l,o,l.byteLength-o,r));return l}return null}))}readAt(t,e){return j(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:n,size:i}=this;if(n&&t+e<i){const r=Math.min(i,t+e),o=new Uint8Array(r-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return j(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return j(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function cr(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const hr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class dr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let i=e[3]*n[3];this.buffer[0]=65535&i;let r=i>>>16;return i=e[2]*n[3],r+=i,i=e[3]*n[2]>>>0,r+=i,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<i?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${cr(this.buffer[1])} ${cr(this.buffer[0])}`}}class fr extends dr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const n=t.length,i=new fr(e);for(let r=0;r<n;){const e=8<n-r?8:n-r,o=new fr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),s=new fr(new Uint32Array([hr[e],0]));i.times(s),i.plus(o),r+=e}return i}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,i=t.length;++n<i;)fr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr extends dr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,n=t.buffer[1]|0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const n=t.startsWith("-"),i=t.length,r=new pr(e);for(let o=n?1:0;o<i;){const e=8<i-o?8:i-o,n=new pr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0])),s=new pr(new Uint32Array([hr[e],0]));r.times(s),r.plus(n),o+=e}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,i=t.length;++n<i;)pr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}}class vr{constructor(t){this.buffer=t}high(){return new pr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new pr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new fr(new Uint32Array([this.buffer[3],0])),n=new fr(new Uint32Array([this.buffer[2],0])),i=new fr(new Uint32Array([this.buffer[1],0])),r=new fr(new Uint32Array([this.buffer[0],0])),o=new fr(new Uint32Array([t.buffer[3],0])),s=new fr(new Uint32Array([t.buffer[2],0])),a=new fr(new Uint32Array([t.buffer[1],0])),l=new fr(new Uint32Array([t.buffer[0],0]));let u=fr.multiply(r,l);this.buffer[0]=u.low();const c=new fr(new Uint32Array([u.high(),0]));u=fr.multiply(i,l),c.plus(u),u=fr.multiply(r,a),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(u)?1:0,this.buffer[2]=c.high();return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(fr.multiply(n,l)).plus(fr.multiply(i,a)).plus(fr.multiply(r,s)),this.buffer[3]+=fr.multiply(e,l).plus(fr.multiply(n,a)).plus(fr.multiply(i,s)).plus(fr.multiply(r,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${cr(this.buffer[3])} ${cr(this.buffer[2])} ${cr(this.buffer[1])} ${cr(this.buffer[0])}`}static multiply(t,e){return new vr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new vr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return vr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return vr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const n=t.startsWith("-"),i=t.length,r=new vr(e);for(let o=n?1:0;o<i;){const e=8<i-o?8:i-o,n=new vr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0,0,0])),s=new vr(new Uint32Array([hr[e],0,0,0]));r.times(s),r.plus(n),o+=e}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let n=-1,i=t.length;++n<i;)vr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+16*n,4));return e}}class yr extends ie{constructor(t,e,n,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=i}visit(t){return super.visit(t instanceof ti?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e})}visitBool(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===e.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Jn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class gr extends yr{constructor(t,e,n,i){super(new Uint8Array(0),e,n,i),this.sources=t}readNullBitmap(t,e){let{offset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):In(this.sources[n])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Q(Uint8Array,Q(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Q(Uint8Array,Q(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:n}=this;return Nt.isTimestamp(t)||(Nt.isInt(t)||Nt.isTime(t))&&64===t.bitWidth||Nt.isDate(t)&&t.unit===r.MILLISECOND?Q(Uint8Array,pr.convertArray(n[e])):Nt.isDecimal(t)?Q(Uint8Array,vr.convertArray(n[e])):Nt.isBinary(t)||Nt.isFixedSizeBinary(t)?function(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)n[i>>1]=Number.parseInt(e.slice(i,i+2),16);return n}(n[e]):Nt.isBool(t)?In(n[e]):Nt.isUtf8(t)?Y(n[e].join("")):Q(Uint8Array,Q(t.ArrayType,n[e].map((t=>+t))))}}var mr,br,wr,_r,kr,xr,Sr,Er;!function(t){t[t.BUFFER=0]="BUFFER"}(mr||(mr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(br||(br={}));class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):br.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):mr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,br.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,mr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return Or.startBodyCompression(t),Or.addCodec(t,e),Or.addMethod(t,n),Or.endBodyCompression(t)}}class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Ir).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Tr).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Or).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Cr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(wr||(wr={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,wr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Ar.startFloatingPoint(t),Ar.addPrecision(t,e),Ar.endFloatingPoint(t)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,i){return Pr.startDecimal(t),Pr.addPrecision(t,e),Pr.addScale(t,n),Pr.addBitWidth(t,i),Pr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(_r||(_r={}));class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Mr.startDate(t),Mr.addUnit(t,e),Mr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(kr||(kr={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):kr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,kr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return Nr.startTime(t),Nr.addUnit(t,e),Nr.addBitWidth(t,n),Nr.endTime(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):kr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,kr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return Fr.startTimestamp(t),Fr.addUnit(t,e),Fr.addTimezone(t,n),Fr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(xr||(xr={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,xr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Br.startInterval(t),Br.addUnit(t,e),Br.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(Sr||(Sr={}));class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,Sr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return Lr.startUnion(t),Lr.addMode(t,e),Lr.addTypeIds(t,n),Lr.endUnion(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return jr.startFixedSizeBinary(t),jr.addByteWidth(t,e),jr.endFixedSizeBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return zr.startFixedSizeList(t),zr.addListSize(t,e),zr.endFixedSizeList(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Rr.startMap(t),Rr.addKeysSorted(t,e),Rr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Er||(Er={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ai.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Er.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ai.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Er.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,i,r,o){return Ur.startMessage(t),Ur.addVersion(t,e),Ur.addHeaderType(t,n),Ur.addHeader(t,i),Ur.addBodyLength(t,r),Ur.addCustomMetadata(t,o),Ur.endMessage(t)}}class Hr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Hr.startNull(t),Hr.endNull(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vr.startBinary(t),Vr.endBinary(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Wr.startBool(t),Wr.endBool(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return $r.startUtf8(t),$r.endUtf8(t)}}class qr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new qr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new qr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return qr.startList(t),qr.endList(t)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Yr.startStruct_(t),Yr.endStruct_(t)}}var Xr=Ci;const Gr=new class extends ie{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Hr.startNull(e),Hr.endNull(e)}visitInt(t,e){return ji.startInt(e),ji.addBitWidth(e,t.bitWidth),ji.addIsSigned(e,t.isSigned),ji.endInt(e)}visitFloat(t,e){return Ar.startFloatingPoint(e),Ar.addPrecision(e,t.precision),Ar.endFloatingPoint(e)}visitBinary(t,e){return Vr.startBinary(e),Vr.endBinary(e)}visitBool(t,e){return Wr.startBool(e),Wr.endBool(e)}visitUtf8(t,e){return $r.startUtf8(e),$r.endUtf8(e)}visitDecimal(t,e){return Pr.startDecimal(e),Pr.addScale(e,t.scale),Pr.addPrecision(e,t.precision),Pr.addBitWidth(e,t.bitWidth),Pr.endDecimal(e)}visitDate(t,e){return Mr.startDate(e),Mr.addUnit(e,t.unit),Mr.endDate(e)}visitTime(t,e){return Nr.startTime(e),Nr.addUnit(e,t.unit),Nr.addBitWidth(e,t.bitWidth),Nr.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return Fr.startTimestamp(e),Fr.addUnit(e,t.unit),void 0!==n&&Fr.addTimezone(e,n),Fr.endTimestamp(e)}visitInterval(t,e){return Br.startInterval(e),Br.addUnit(e,t.unit),Br.endInterval(e)}visitList(t,e){return qr.startList(e),qr.endList(e)}visitStruct(t,e){return Yr.startStruct_(e),Yr.endStruct_(e)}visitUnion(t,e){Lr.startTypeIdsVector(e,t.typeIds.length);const n=Lr.createTypeIdsVector(e,t.typeIds);return Lr.startUnion(e),Lr.addMode(e,t.mode),Lr.addTypeIds(e,n),Lr.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return zi.startDictionaryEncoding(e),zi.addId(e,new Xr(t.id,0)),zi.addIsOrdered(e,t.isOrdered),void 0!==n&&zi.addIndexType(e,n),zi.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return jr.startFixedSizeBinary(e),jr.addByteWidth(e,t.byteWidth),jr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return zr.startFixedSizeList(e),zr.addListSize(e,t.listSize),zr.endFixedSizeList(e)}visitMap(t,e){return Rr.startMap(e),Rr.addKeysSorted(e,t.keysSorted),Rr.endMap(e)}};function Kr(t){return new ao(t.count,Jr(t.columns),Zr(t.columns))}function Qr(t,e){return(t.children||[]).filter(Boolean).map((t=>ti.fromJSON(t,e)))}function Jr(t){return(t||[]).reduce(((t,e)=>{return[...t,new co(e.count,(n=e.VALIDITY,(n||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Jr(e.children)];var n}),[])}function Zr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=-1,i=(t||[]).length;++n<i;){const i=t[n];i.VALIDITY&&e.push(new uo(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new uo(e.length,i.TYPE.length)),i.OFFSET&&e.push(new uo(e.length,i.OFFSET.length)),i.DATA&&e.push(new uo(e.length,i.DATA.length)),e=Zr(i.children,e)}return e}function to(t){return new Map(Object.entries(t||{}))}function eo(t){return new Bt(t.isSigned,t.bitWidth)}function no(t,n){const a=t.type.name;switch(a){case"NONE":case"null":return new Ft;case"binary":return new zt;case"utf8":return new Rt;case"bool":return new Ut;case"list":return new Yt((n||[])[0]);case"struct":case"struct_":return new Xt(n||[])}switch(a){case"int":{const e=t.type;return new Bt(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new jt(i[e.precision])}case"decimal":{const e=t.type;return new Ht(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Vt(r[e.unit])}case"time":{const e=t.type;return new Wt(o[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new $t(o[e.unit],e.timezone)}case"interval":{const e=t.type;return new qt(s[e.unit])}case"union":{const i=t.type;return new Gt(e[i.mode],i.typeIds||[],n||[])}case"fixedsizebinary":{const e=t.type;return new Kt(e.byteWidth)}case"fixedsizelist":{const e=t.type;return new Qt(e.listSize,(n||[])[0])}case"map":{const e=t.type;return new Jt((n||[])[0],e.keysSorted)}}throw new Error(`Unrecognized type: "${a}"`)}var io=Ci,ro=Bi,oo=Fi;class so{constructor(t,e,n,i){this._version=e,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(e,n){const i=new so(0,t.V4,n);return i._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return Zn.fromJSON(t);case a.RecordBatch:return ao.fromJSON(t);case a.DictionaryBatch:return lo.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${a[e]}, type: ${e} }`)}}(e,n),i}static decode(t){t=new oo(Z(t));const e=Ur.getRootAsMessage(t),n=e.bodyLength(),i=e.version(),r=e.headerType(),o=new so(n,i,r);return o._createHeader=function(t,e){return()=>{switch(e){case a.Schema:return Zn.decode(t.header(new Ui));case a.RecordBatch:return ao.decode(t.header(new Cr),t.version());case a.DictionaryBatch:return lo.decode(t.header(new Dr),t.version())}throw new Error(`Unrecognized Message type: { name: ${a[e]}, type: ${e} }`)}}(e,r),o}static encode(e){const n=new ro;let i=-1;return e.isSchema()?i=Zn.encode(n,e.header()):e.isRecordBatch()?i=ao.encode(n,e.header()):e.isDictionaryBatch()&&(i=lo.encode(n,e.header())),Ur.startMessage(n),Ur.addVersion(n,t.V4),Ur.addHeader(n,i),Ur.addHeaderType(n,e.headerType),Ur.addBodyLength(n,new io(e.bodyLength,0)),Ur.finishMessageBuffer(n,Ur.endMessage(n)),n.asUint8Array()}static from(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof Zn)return new so(0,t.V4,a.Schema,e);if(e instanceof ao)return new so(n,t.V4,a.RecordBatch,e);if(e instanceof lo)return new so(n,t.V4,a.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.Schema}isRecordBatch(){return this.headerType===a.RecordBatch}isDictionaryBatch(){return this.headerType===a.DictionaryBatch}}class ao{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class lo{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=n,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class uo{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class co{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function ho(t,e){const n=[];for(let i,r=-1,o=-1,s=t.childrenLength();++r<s;)(i=t.children(r))&&(n[++o]=ti.decode(i,e));return n}function fo(t){const e=new Map;if(t)for(let n,i,r=-1,o=Math.trunc(t.customMetadataLength());++r<o;)(n=t.customMetadata(r))&&null!=(i=n.key())&&e.set(i,n.value());return e}function po(t){return new Bt(t.isSigned(),t.bitWidth())}function vo(t,e){const n=t.typeType();switch(n){case Ni.NONE:case Ni.Null:return new Ft;case Ni.Binary:return new zt;case Ni.Utf8:return new Rt;case Ni.Bool:return new Ut;case Ni.List:return new Yt((e||[])[0]);case Ni.Struct_:return new Xt(e||[])}switch(n){case Ni.Int:{const e=t.type(new ji);return new Bt(e.isSigned(),e.bitWidth())}case Ni.FloatingPoint:{const e=t.type(new Ar);return new jt(e.precision())}case Ni.Decimal:{const e=t.type(new Pr);return new Ht(e.scale(),e.precision(),e.bitWidth())}case Ni.Date:{const e=t.type(new Mr);return new Vt(e.unit())}case Ni.Time:{const e=t.type(new Nr);return new Wt(e.unit(),e.bitWidth())}case Ni.Timestamp:{const e=t.type(new Fr);return new $t(e.unit(),e.timezone())}case Ni.Interval:{const e=t.type(new Br);return new qt(e.unit())}case Ni.Union:{const n=t.type(new Lr);return new Gt(n.mode(),n.typeIdsArray()||[],e||[])}case Ni.FixedSizeBinary:{const e=t.type(new jr);return new Kt(e.byteWidth())}case Ni.FixedSizeList:{const n=t.type(new zr);return new Qt(n.listSize(),(e||[])[0])}case Ni.Map:{const n=t.type(new Rr);return new Jt((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Ni[n]}" (${n})`)}ti.encode=function(t,e){let n=-1,i=-1,r=-1;const o=e.type;let s=e.typeId;Nt.isDictionary(o)?(s=o.dictionary.typeId,r=Gr.visit(o,t),i=Gr.visit(o.dictionary,t)):i=Gr.visit(o,t);const a=(o.children||[]).map((e=>ti.encode(t,e))),l=Ri.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?Ri.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[n,i]=e;const r=t.createString(`${n}`),o=t.createString(`${i}`);return Li.startKeyValue(t),Li.addKey(t,r),Li.addValue(t,o),Li.endKeyValue(t)}))):-1;e.name&&(n=t.createString(e.name));Ri.startField(t),Ri.addType(t,i),Ri.addTypeType(t,s),Ri.addChildren(t,l),Ri.addNullable(t,!!e.nullable),-1!==n&&Ri.addName(t,n);-1!==r&&Ri.addDictionary(t,r);-1!==u&&Ri.addCustomMetadata(t,u);return Ri.endField(t)},ti.decode=function(t,e){let n,i,r,o,s,a;e&&(a=t.dictionary())?e.has(n=a.id().low)?(o=(o=a.indexType())?po(o):new Lt,s=new ee(e.get(n),o,n,a.isOrdered()),i=new ti(t.name(),s,t.nullable(),fo(t))):(o=(o=a.indexType())?po(o):new Lt,e.set(n,r=vo(t,ho(t,e))),s=new ee(r,o,n,a.isOrdered()),i=new ti(t.name(),s,t.nullable(),fo(t))):(r=vo(t,ho(t,e)),i=new ti(t.name(),r,t.nullable(),fo(t)));return i||null},ti.fromJSON=function(t,e){let n,i,r,o,s,a;return e&&(o=t.dictionary)?e.has(n=o.id)?(i=(i=o.indexType)?eo(i):new Lt,a=new ee(e.get(n),i,n,o.isOrdered),r=new ti(t.name,a,t.nullable,to(t.customMetadata))):(i=(i=o.indexType)?eo(i):new Lt,e.set(n,s=no(t,Qr(t,e))),a=new ee(s,i,n,o.isOrdered),r=new ti(t.name,a,t.nullable,to(t.customMetadata))):(s=no(t,Qr(t,e)),r=new ti(t.name,s,t.nullable,to(t.customMetadata))),r||null},Zn.encode=function(t,e){const n=e.fields.map((e=>ti.encode(t,e)));Ui.startFieldsVector(t,n.length);const i=Ui.createFieldsVector(t,n),r=e.metadata&&e.metadata.size>0?Ui.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[n,i]=e;const r=t.createString(`${n}`),o=t.createString(`${i}`);return Li.startKeyValue(t),Li.addKey(t,r),Li.addValue(t,o),Li.endKeyValue(t)}))):-1;Ui.startSchema(t),Ui.addFields(t,i),Ui.addEndianness(t,yo?Pi.Little:Pi.Big),-1!==r&&Ui.addCustomMetadata(t,r);return Ui.endSchema(t)},Zn.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const n=function(t,e){const n=[];for(let i,r=-1,o=-1,s=t.fieldsLength();++r<s;)(i=t.fields(r))&&(n[++o]=ti.decode(i,e));return n}(t,e);return new Zn(n,fo(t),e)},Zn.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Zn(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>ti.fromJSON(t,e)))}(t,e),to(t.customMetadata),e)},ao.encode=function(t,e){const n=e.nodes||[],i=e.buffers||[];Cr.startNodesVector(t,n.length);for(const s of n.slice().reverse())co.encode(t,s);const r=t.endVector();Cr.startBuffersVector(t,i.length);for(const s of i.slice().reverse())uo.encode(t,s);const o=t.endVector();return Cr.startRecordBatch(t),Cr.addLength(t,new io(e.length,0)),Cr.addNodes(t,r),Cr.addBuffers(t,o),Cr.endRecordBatch(t)},ao.decode=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new ao(e.length(),function(t){const e=[];for(let n,i=-1,r=-1,o=t.nodesLength();++i<o;)(n=t.nodes(i))&&(e[++r]=co.decode(n));return e}(e),function(e,n){const i=[];for(let r,o=-1,s=-1,a=e.buffersLength();++o<a;)(r=e.buffers(o))&&(n<t.V4&&(r.bb_pos+=8*(o+1)),i[++s]=uo.decode(r));return i}(e,n))},ao.fromJSON=Kr,lo.encode=function(t,e){const n=ao.encode(t,e.data);return Dr.startDictionaryBatch(t),Dr.addId(t,new io(e.id,0)),Dr.addIsDelta(t,e.isDelta),Dr.addData(t,n),Dr.endDictionaryBatch(t)},lo.decode=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.V4;return new lo(ao.decode(e.data(),n),e.id(),e.isDelta())},lo.fromJSON=function(t){return new lo(Kr(t.data),t.id,t.isDelta)},co.encode=function(t,e){return Ir.createFieldNode(t,new io(e.length,0),new io(e.nullCount,0))},co.decode=function(t){return new co(t.length(),t.nullCount())},uo.encode=function(t,e){return Tr.createBuffer(t,new io(e.offset,0),new io(e.length,0))},uo.decode=function(t){return new uo(t.offset(),t.length())};const yo=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),go=t=>`Expected ${a[t]} Message in stream, but was null or length 0.`,mo=t=>`Header pointer of flatbuffer-encoded ${a[t]} Message is null or length 0.`,bo=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,wo=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class _o{constructor(t){this.source=t instanceof rr?t:new rr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Zi:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(go(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Z(this.source.read(t));if(e.byteLength<t)throw new Error(wo(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=a.Schema,n=this.readMessage(e),i=null===n||void 0===n?void 0:n.header();if(t&&!i)throw new Error(mo(e));return i}readMetadataLength(){const t=this.source.read(So),e=t&&new Fi(t),n=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Zi;if(e.byteLength<t)throw new Error(bo(t,e.byteLength));return{done:!1,value:so.decode(e)}}}class ko{constructor(t,e){this.source=t instanceof or?t:P(t)?new ur(t,e):new or(t)}[Symbol.asyncIterator](){return this}next(){return j(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Zi:t}))}throw(t){return j(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return j(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(go(t));return e.value}))}readMessageBody(t){return j(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=Z(yield this.source.read(t));if(e.byteLength<t)throw new Error(wo(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return j(this,void 0,void 0,(function*(){const e=a.Schema,n=yield this.readMessage(e),i=null===n||void 0===n?void 0:n.header();if(t&&!i)throw new Error(mo(e));return i}))}readMetadataLength(){return j(this,void 0,void 0,(function*(){const t=yield this.source.read(So),e=t&&new Fi(t),n=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}))}readMetadata(t){return j(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Zi;if(e.byteLength<t)throw new Error(bo(t,e.byteLength));return{done:!1,value:so.decode(e)}}))}}class xo extends _o{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof tr?t:new tr(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:so.fromJSON(t.schema,a.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:so.fromJSON(e,a.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:so.fromJSON(e,a.RecordBatch)}}return this._body=[],Zi}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,n)=>[...e,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE&&[n.TYPE]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...t(n.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(go(t));return e.value}readSchema(){const t=a.Schema,e=this.readMessage(t),n=null===e||void 0===e?void 0:e.header();if(!e||!n)throw new Error(mo(t));return n}}const So=4,Eo="ARROW1",Oo=new Uint8Array(6);for(let n=0;n<6;n+=1)Oo[n]=Eo.codePointAt(n);function To(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=-1,i=Oo.length;++n<i;)if(Oo[n]!==t[e+n])return!1;return!0}const Io=Oo.length,Co=Io+So,Do=2*Io+So;class Ao extends er{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return T(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Gi.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Gi.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Ao?t:D(t)?function(t){return new Po(new Uo(t))}(t):P(t)?function(t){return j(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),n=new ur(t,e);return e>=Do&&To(yield n.readAt(0,Io+7&-8))?new Fo(new Ro(n)):new Mo(new jo(n))}))}(t):T(t)?(()=>j(this,void 0,void 0,(function*(){return yield Ao.from(yield t)})))():M(t)||F(t)||B(t)||C(t)?function(t){return j(this,void 0,void 0,(function*(){const e=yield t.peek(Io+7&-8);return e&&e.byteLength>=4?To(e)?new No(new zo(yield t.read())):new Mo(new jo(t)):new Mo(new jo(function(){return U(this,arguments,(function*(){}))}()))}))}(new or(t)):function(t){const e=t.peek(Io+7&-8);return e&&e.byteLength>=4?To(e)?new No(new zo(t.read())):new Po(new Lo(t)):new Po(new Lo(function*(){}()))}(new rr(t))}static readAll(t){return t instanceof Ao?t.isSync()?Vo(t):Wo(t):D(t)||ArrayBuffer.isView(t)||I(t)||A(t)?Vo(t):Wo(t)}}class Po extends Ao{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return U(this,arguments,(function*(){yield R(yield*H(V(this[Symbol.iterator]())))}))}}class Mo extends Ao{constructor(t){super(t),this._impl=t}readAll(){var t,e;return j(this,void 0,void 0,(function*(){const n=new Array;try{for(var i,r=V(this);!(i=yield r.next()).done;){const t=i.value;n.push(t)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return n}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class No extends Po{constructor(t){super(t),this._impl=t}}class Fo extends Mo{constructor(t){super(t),this._impl=t}}class Bo{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),i=Jn({type:new Xt(this.schema.fields),length:t.length,children:n});return new gi(this.schema,i)}_loadDictionaryBatch(t,e){const{id:n,isDelta:i}=t,{dictionaries:r,schema:o}=this,s=r.get(n);if(i||!s){const r=o.dictionaries.get(n),a=this._loadVectors(t.data,e,[r]);return(s&&i?s.concat(new Xn(a)):new Xn(a)).memoize()}return s.memoize()}_loadVectors(t,e,n){return new yr(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class Lo extends Bo{constructor(t,e){super(e),this._reader=D(t)?new xo(this._handle=t):new _o(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Ho(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Zi}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Zi}next(){if(this.closed)return Zi;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new wi(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class jo extends Bo{constructor(t,e){super(e),this._reader=new ko(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return j(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return j(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Ho(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return j(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Zi}))}return(t){return j(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Zi}))}next(){return j(this,void 0,void 0,(function*(){if(this.closed)return Zi;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new wi(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return j(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class zo extends Lo{constructor(t,e){super(t instanceof lr?t:new lr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}_readDictionaryBatch(t){var e;const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,i)}}}_readFooter(){const{_handle:t}=this,e=t.size-Co,n=t.readInt32(e),i=t.readAt(e-n,n);return qi.decode(i)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class Ro extends jo{constructor(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r="number"!==typeof n[0]?n.shift():void 0,o=n[0]instanceof Map?n.shift():void 0;super(t instanceof ur?t:new ur(t,r),o)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return j(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return j(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(a.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}))}_readDictionaryBatch(t){var e;return j(this,void 0,void 0,(function*(){const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(a.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,i)}}}))}_readFooter(){return j(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Co,n=yield t.readInt32(e),i=yield t.readAt(e-n,n);return qi.decode(i)}))}_readNextMessageAndValidate(t){return j(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Uo extends Lo{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new gr(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Ho(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Vo(t){const e=Ao.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Wo(t){return U(this,arguments,(function*(){const e=yield R(Ao.from(t));try{if(!(yield R(e.open({autoDestroy:!1}))).closed)do{yield yield R(e)}while(!(yield R(e.reset().open())).closed)}finally{yield R(e.cancel())}}))}class $o extends ie{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof gi?e.data.children:e.data)),e=new $o;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.visitMany(t(i)),e}visit(t){if(t instanceof Xn)return this.visitMany(t.data),this;const{type:e}=t;if(!Nt.isDictionary(e)){const{length:n,nullCount:i}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Nt.isNull(e)||qo.call(this,i<=0?new Uint8Array(0):Tn(t.offset,n,t.nullBitmap)),this.nodes.push(new co(n,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function qo(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new uo(this._byteLength,e)),this._byteLength+=e,this}function Yo(t){return qo.call(this,t.values.subarray(0,t.length*t.stride))}function Xo(t){const{length:e,values:n,valueOffsets:i}=t,r=i[0],o=i[e],s=Math.min(o-r,n.byteLength-r);return qo.call(this,it(-i[0],e,i)),qo.call(this,n.subarray(r,r+s)),this}function Go(t){const{length:e,valueOffsets:n}=t;return n&&qo.call(this,it(n[0],e,n)),this.visit(t.children[0])}function Ko(t){return this.visitMany(t.type.children.map(((e,n)=>t.children[n])).filter(Boolean))[0]}$o.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?qo.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?qo.call(this,Tn(t.offset,t.length,e)):qo.call(this,In(t.values))},$o.prototype.visitInt=Yo,$o.prototype.visitFloat=Yo,$o.prototype.visitUtf8=Xo,$o.prototype.visitBinary=Xo,$o.prototype.visitFixedSizeBinary=Yo,$o.prototype.visitDate=Yo,$o.prototype.visitTimestamp=Yo,$o.prototype.visitTime=Yo,$o.prototype.visitDecimal=Yo,$o.prototype.visitList=Go,$o.prototype.visitStruct=Ko,$o.prototype.visitUnion=function(t){const{type:n,length:i,typeIds:r,valueOffsets:o}=t;if(qo.call(this,r),n.mode===e.Sparse)return Ko.call(this,t);if(n.mode===e.Dense){if(t.offset<=0)return qo.call(this,o),Ko.call(this,t);{const e=r.reduce(((t,e)=>Math.max(t,e)),r[0]),s=new Int32Array(e+1),a=new Int32Array(e+1).fill(-1),l=new Int32Array(i),u=it(-o[0],i,o);for(let t,n,o=-1;++o<i;)-1===(n=a[t=r[o]])&&(n=a[t]=u[t]),l[o]=u[o]-n,++s[t];qo.call(this,l);for(let r,o=-1,c=n.children.length;++o<c;)if(r=t.children[o]){const t=n.typeIds[o],e=Math.min(i,s[t]);this.visit(r.slice(a[t],e))}}}return this},$o.prototype.visitInterval=Yo,$o.prototype.visitFixedSizeList=Go,$o.prototype.visitMap=Go;class Qo extends er{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ir,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,O(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return T(t)?t.then((t=>this.writeAll(t))):C(t)?es(this,t):ts(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n;return t===this._sink||t instanceof ir?this._sink=t:(this._sink=new ir,t&&(O(n=t)&&E(n.abort)&&E(n.getWriter)&&!N(n))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>O(t)&&E(t.end)&&E(t.write)&&S(t.writable)&&!N(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&pi(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof xi&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof gi&&!(e=t.schema))return this.finish()&&void 0;if(e&&!pi(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof gi?t instanceof wi||this._writeRecordBatch(t):t instanceof xi?this.writeAll(t.batches):I(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,n=so.encode(t),i=n.byteLength,r=this._writeLegacyIpcFormat?4:8,o=i+r+e&~e,s=o-i-r;return t.headerType===a.RecordBatch?this._recordBatchBlocks.push(new Xi(o,t.bodyLength,this._position)):t.headerType===a.DictionaryBatch&&this._dictionaryBlocks.push(new Xi(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-r)),i>0&&this._write(n),this._writePadding(s)}_write(t){if(this._started){const e=Z(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(so.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Oo)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:i,buffers:r}=$o.assemble(t),o=new ao(t.numRows,n,i),s=so.from(o,e);return this._writeDictionaries(t)._writeMessage(s)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:i,nodes:r,bufferRegions:o,buffers:s}=$o.assemble(new Xn([t])),a=new ao(t.length,r,o),l=new lo(a,e,n),u=so.from(l,i);return this._writeMessage(u)._writeBodyBuffers(s)}_writeBodyBuffers(t){let e,n,i;for(let r=-1,o=t.length;++r<o;)(e=t[r])&&(n=e.byteLength)>0&&(this._write(e),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(n=null===n||void 0===n?void 0:n.slice(t)).length>0)for(const i of n.data)this._writeDictionaryBatch(i,e,t>0),t+=i.length}return this}}class Jo extends Qo{static writeAll(t,e){const n=new Jo(e);return T(t)?t.then((t=>n.writeAll(t))):C(t)?es(n,t):ts(n,t)}}class Zo extends Qo{static writeAll(t){const e=new Zo;return T(t)?t.then((t=>e.writeAll(t))):C(t)?es(e,t):ts(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=qi.encode(new qi(e,t.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function ts(t,e){let n=e;e instanceof xi&&(n=e.batches,t.reset(void 0,e.schema));for(const i of n)t.write(i);return t.finish()}function es(t,e){var n,i,r,o;return j(this,void 0,void 0,(function*(){try{for(n=V(e);!(i=yield n.next()).done;){const e=i.value;t.write(e)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}return t.finish()}))}function ns(t){const e=Ao.from(t);return T(e)?e.then((t=>ns(t))):e.isAsync()?e.readAll().then((t=>new xi(t))):new xi(e.readAll())}function is(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Jo:Zo).writeAll(t).toUint8Array(!0)}var rs,os=function(){function t(t,e,n,i){var r=this;this.getCell=function(t,e){var n=t<r.headerRows&&e<r.headerColumns,i=t>=r.headerRows&&e<r.headerColumns,o=t<r.headerRows&&e>=r.headerColumns;if(n){var s=["blank"];return e>0&&s.push("level"+t),{type:"blank",classNames:s.join(" "),content:""}}if(o)return{type:"columns",classNames:(s=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(i){s=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(a),classNames:s.join(" "),content:r.getContent(r.indexTable,a,e)}}s=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,u=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_".concat(r.uuid,"row").concat(a,"_col").concat(l),classNames:s.join(" "),content:u}},this.getContent=function(t,e,n){var i=t.getChildAt(n);return null===i?"":r.getColumnTypeId(t,n)===l.Timestamp?r.nanosToDate(i.get(e)):i.get(e)},this.dataTable=ns(t),this.indexTable=ns(e),this.columnsTable=ns(n),this.styler=i?{caption:i.caption,displayValuesTable:ns(i.displayValues),styles:i.styles,uuid:i.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:is(this.dataTable),index:is(this.indexTable),columns:is(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ss=function(){return ss=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ss.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(rs||(rs={}));var as=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(rs.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(rs.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var n;e instanceof os?(n="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(n){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(n="bytes",e=new Uint8Array(e)):n="json":(n="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(rs.SET_COMPONENT_VALUE,{value:e,dataType:n})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var n=e.args;null==n&&(console.error("Got null args in onRenderMessage. This should never happen"),n={});var i=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};n=ss(ss({},n),i);var r=Boolean(e.disabled),o=e.theme;o&&ls(o);var s={disabled:r,args:n,theme:o},a=new CustomEvent(t.RENDER_EVENT,{detail:s});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var n=e.map((function(e){var n=e.key,i=e.value;return[n,t.toArrowTable(i)]}));return Object.fromEntries(n)},t.toArrowTable=function(t){var e,n=(e=t.data).data,i=e.index,r=e.columns,o=e.styler;return new os(n,i,r,o)},t.sendBackMsg=function(t,e){window.parent.postMessage(ss({isStreamlitMessage:!0,type:t},e),"*")},t}(),ls=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return us(e,t),e.prototype.componentDidMount=function(){as.setFrameHeight()},e.prototype.componentDidUpdate=function(){as.setFrameHeight()},e}(y.PureComponent);const hs=(t,e)=>{const n=ds(e.temperature,0,50),i=ds(e.humidity,0,100),r=ds("OPEN"===e.doorStatus?100:0,0,100),o=200-ds(e.tempWarningHigh,0,50),s=200-ds(e.tempWarningLow,0,50),a=200-ds(e.tempCriticalHigh,0,50),l=200-ds(e.tempCriticalLow,0,50),u=200-ds(e.humidityWarningHigh,0,100),c=200-ds(e.humidityWarningLow,0,100),h=200-ds(e.humidityCriticalHigh,0,100),d=200-ds(e.humidityCriticalLow,0,100),f=200-ds(e.doorTimeWarning,0,100),p=fs(e.temperature,e.tempWarningHigh,e.tempWarningLow,e.tempCriticalHigh,e.tempCriticalLow),v=fs(e.humidity,e.humidityWarningHigh,e.humidityWarningLow,e.humidityCriticalHigh,e.humidityCriticalLow),y="OPEN"===e.doorStatus?"#ff4757":"#26de81";return`\n    <svg viewBox="0 0 240 340" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n            ${ps()}\n        </defs>\n\n        \x3c!-- Main device body --\x3e\n        <rect x="10" y="10" width="220" height="320" rx="15"\n              fill="url(#metallic)" stroke="#555" stroke-width="2"\n              filter="url(#shadow)"/>\n\n        \x3c!-- Panels --\x3e\n        <rect x="20" y="20" width="200" height="220" rx="10"\n              fill="url(#panelGradient)"/>\n        <rect x="20" y="250" width="200" height="70" rx="10"\n              fill="url(#panelGradient)"/>\n\n        \x3c!-- Bars --\x3e\n        <g class="bars">\n            \x3c!-- Temperature Bar --\x3e\n            <g transform="translate(35,25)">\n                <rect class="bar-bg" x="0" y="0" width="40" height="200" rx="3"\n                      fill="#f0f0f0" stroke="#666" stroke-width="2"/>\n                <rect class="bar-fill" x="2" y="${200-n}" width="36" height="${n}" rx="2"\n                      fill="${p}"/>\n                \x3c!-- High warning/critical markers --\x3e\n                <path d="M 20,${o} l -5,-5 l 10,0 z" fill="#ff9f43"/>\n                <path d="M 20,${a} l -5,-5 l 10,0 z" fill="#ff4757"/>\n                \x3c!-- Low warning/critical markers --\x3e\n                <path d="M 20,${s} l -5,5 l 10,0 z" fill="#ff9f43"/>\n                <path d="M 20,${l} l -5,5 l 10,0 z" fill="#ff4757"/>\n            </g>\n\n            \x3c!-- Humidity Bar --\x3e\n            <g transform="translate(100,25)">\n                <rect class="bar-bg" x="0" y="0" width="40" height="200" rx="3"\n                      fill="#f0f0f0" stroke="#666" stroke-width="2"/>\n                <rect class="bar-fill" x="2" y="${200-i}" width="36" height="${i}" rx="2"\n                      fill="${v}"/>\n                \x3c!-- High warning/critical markers --\x3e\n                <path d="M 20,${u} l -5,-5 l 10,0 z" fill="#ff9f43"/>\n                <path d="M 20,${h} l -5,-5 l 10,0 z" fill="#ff4757"/>\n                \x3c!-- Low warning/critical markers --\x3e\n                <path d="M 20,${c} l -5,5 l 10,0 z" fill="#ff9f43"/>\n                <path d="M 20,${d} l -5,5 l 10,0 z" fill="#ff4757"/>\n            </g>\n\n            \x3c!-- Door Time Bar --\x3e\n            <g transform="translate(165,25)">\n                <rect class="bar-bg" x="0" y="0" width="40" height="200" rx="3"\n                      fill="#f0f0f0" stroke="#666" stroke-width="2"/>\n                <rect class="bar-fill" x="2" y="${200-r}" width="36" height="${r}" rx="2"\n                      fill="${y}"/>\n                <path d="M 20,${f} l -5,-5 l 10,0 z" fill="#ff4757"/>\n            </g>\n        </g>\n\n        \x3c!-- Reading Circles --\x3e\n        <g class="readings" transform="translate(0,285)">\n            \x3c!-- Temperature --\x3e\n            <g transform="translate(55,0)">\n                <circle r="18" fill="${p}" stroke="#666" stroke-width="1"/>\n                <text y="5" text-anchor="middle" fill="white" \n                      font-family="Arial" font-weight="bold">${e.temperature}\xb0C</text>\n            </g>\n\n            \x3c!-- Humidity --\x3e\n            <g transform="translate(120,0)">\n                <circle r="18" fill="${v}" stroke="#666" stroke-width="1"/>\n                <text y="5" text-anchor="middle" fill="white" \n                      font-family="Arial" font-weight="bold">${e.humidity}%</text>\n            </g>\n\n            \x3c!-- Door Status --\x3e\n            <g transform="translate(185,0)">\n                <circle r="18" fill="${y}" stroke="#666" stroke-width="1"/>\n                <text y="5" text-anchor="middle" fill="white" \n                      font-family="Arial" font-weight="bold" font-size="smaller">${e.doorStatus}</text>\n            </g>\n        </g>\n    </svg>`},ds=(t,e,n)=>{const i=(t-e)/(n-e);return 200*Math.max(0,Math.min(1,i))},fs=(t,e,n,i,r)=>t>=i||t<=r?"#ff4757":t>=e||t<=n?"#ff9f43":"#26de81",ps=()=>'\n    <linearGradient id="metallic" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop offset="0%" style="stop-color:#8a8a8a" />\n        <stop offset="50%" style="stop-color:#666666" />\n        <stop offset="100%" style="stop-color:#8a8a8a" />\n    </linearGradient>\n\n    <linearGradient id="panelGradient" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop offset="0%" style="stop-color:#e0e0e0" />\n        <stop offset="100%" style="stop-color:#d0d0d0" />\n    </linearGradient>\n\n    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">\n        <feGaussianBlur in="SourceAlpha" stdDeviation="2" />\n        <feOffset dx="1" dy="1" />\n        <feComposite in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" />\n        <feComposite in2="SourceGraphic" operator="over" />\n    </filter>\n';var vs=n(579);const ys=function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){as.events.addEventListener(as.RENDER_EVENT,n.onRenderEvent),as.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&as.setFrameHeight()},n.componentWillUnmount=function(){as.events.removeEventListener(as.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(t){n.setState({renderData:t.detail})},n.state={renderData:void 0,componentError:void 0},n}return us(n,e),n.prototype.render=function(){return null!=this.state.componentError?y.createElement("div",null,y.createElement("h1",null,"Component Error"),y.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:y.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},n.getDerivedStateFromError=function(t){return{componentError:t}},n}(y.PureComponent);return v()(e,t)}(class extends cs{constructor(){super(...arguments),this.container=c.createRef(),this.networkContainer=c.createRef(),this.backgroundCanvas=c.createRef(),this.backgroundImage=null,this.animationFrame=null,this.viewportUpdateTimeout=null,this.state={network:null,nodes:new f.DataSet([]),edges:new f.DataSet([]),viewportInitialized:!1,isStabilized:!1}}componentDidMount(){console.log("Component mounted"),as.setFrameHeight(600),this.setupNetwork()}componentDidUpdate(){const t=this.props.args;if(console.log("Component update received - nodes:",t.nodes),this.state.network){const e=t.nodes.map((t=>({...t,shape:"image",image:`data:image/svg+xml;charset=utf-8,${encodeURIComponent(hs(0,t.state))}`,size:t.size||60}))),n=new f.DataSet(e),i=new f.DataSet(t.edges);this.state.network.setData({nodes:n,edges:i})}!t.background_image||this.backgroundImage&&this.backgroundImage.src===t.background_image||this.setupBackgroundImage(t.background_image)}setupNetwork(){if(!this.networkContainer.current)return;const t=this.props.args;console.log("Setting up network with props:",t);const e=t.nodes.map((t=>({...t,shape:"image",image:`data:image/svg+xml;charset=utf-8,${encodeURIComponent(hs(0,t.state))}`,size:t.size||60}))),n=new f.DataSet(e),i=new f.DataSet(t.edges),r=new d.Network(this.networkContainer.current,{nodes:n,edges:i},t.options);r.fit.bind(r);r.fit=function(){console.log("Preventing automatic fit")},t.viewport&&(console.log("Setting initial viewport:",t.viewport),requestAnimationFrame((()=>{r.moveTo({position:t.viewport.position,scale:t.viewport.scale,animation:!1})}))),r.on("select",(t=>{console.log("Select event:",t);const e={selected:t.nodes,type:"selection"};console.log("Sending select value:",e),as.setComponentValue(e)})),r.on("dragEnd",(t=>{console.log("DragEnd event:",t),console.log("Network stabilized state:",this.state.isStabilized),this.viewportUpdateTimeout&&clearTimeout(this.viewportUpdateTimeout);const e=this.getNodePositions();console.log("Node positions:",e);const n={positions:e,type:"position"};console.log("Sending dragEnd value:",n),as.setComponentValue(n)})),r.on("zoom",(()=>{console.log("Zoom event"),this.viewportUpdateTimeout&&clearTimeout(this.viewportUpdateTimeout),this.viewportUpdateTimeout=setTimeout((()=>{const t={viewport:{scale:r.getScale(),position:r.getViewPosition()},type:"viewport"};console.log("Sending zoom value:",t),as.setComponentValue(t)}),100)})),r.on("click",(()=>{console.log("Click event")})),r.on("dragStart",(()=>{console.log("DragStart event")})),r.on("oncontext",(t=>{var e;t.event.preventDefault();const n=null===(e=this.state.network)||void 0===e?void 0:e.getNodeAt(t.pointer.DOM);if(n){const e={nodeId:n,position:{x:t.pointer.DOM.x,y:t.pointer.DOM.y},type:"context_menu"};console.log("Sending context menu value:",e),as.setComponentValue(e)}})),r.on("stabilized",(()=>{console.log("Network stabilized"),this.setState({isStabilized:!0})})),this.setState({network:r,nodes:n,edges:i,isStabilized:!0})}getNodePositions(){if(!this.state.network||!this.state.nodes)return{};const t={};return this.state.nodes.forEach((e=>{const n=this.state.network.getPosition(e.id);console.log(`Position for ${e.id}:`,n),t[e.id]={x:n.x,y:n.y}})),t}componentWillUnmount(){this.state.network&&this.state.network.destroy(),this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.viewportUpdateTimeout&&clearTimeout(this.viewportUpdateTimeout)}setupBackgroundImage(t){const e=new Image;e.onload=()=>{console.log("Background image loaded",{width:e.width,height:e.height}),this.backgroundImage=e,this.startRenderLoop()},e.onerror=t=>{console.error("Error loading background image:",t)},e.src=t}startRenderLoop(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.renderBackground()}renderBackground(){if(!this.backgroundCanvas.current||!this.backgroundImage||!this.state.network)return;const t=this.backgroundCanvas.current,e=t.getContext("2d");if(!e)return;const n=this.state.network.getViewPosition(),i=this.state.network.getScale(),r=t.getBoundingClientRect();t.width=r.width,t.height=r.height,e.clearRect(0,0,t.width,t.height);const o=t.width/i,s=t.height/i,a=this.backgroundImage.width/2-o/2+n.x,l=this.backgroundImage.height/2-s/2+n.y;try{e.drawImage(this.backgroundImage,a,l,o,s,0,0,t.width,t.height)}catch(u){console.error("Error rendering background:",u)}this.animationFrame=requestAnimationFrame((()=>this.renderBackground()))}render(){return(0,vs.jsxs)("div",{ref:this.container,style:{width:"100%",height:"600px",position:"relative",border:"1px solid #ddd",overflow:"hidden"},children:[(0,vs.jsx)("canvas",{ref:this.backgroundCanvas,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,opacity:.3}}),(0,vs.jsx)("div",{ref:this.networkContainer,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}})]})}}),gs=window.document;h.render((0,vs.jsx)(c.StrictMode,{children:(0,vs.jsx)(ys,{})}),gs.getElementById("root"))})()})();
//# sourceMappingURL=main.63a9e73c.js.map