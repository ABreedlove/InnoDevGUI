{"ast":null,"code":"import React from'react';import{Network}from'vis-network';import{DataSet}from'vis-data';import{Streamlit,StreamlitComponentBase,withStreamlitConnection}from\"streamlit-component-lib\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class VisNetwork extends StreamlitComponentBase{constructor(){super(...arguments);this.container=/*#__PURE__*/React.createRef();this.networkContainer=/*#__PURE__*/React.createRef();this.backgroundCanvas=/*#__PURE__*/React.createRef();this.backgroundImage=null;this.animationFrame=null;this.isDragging=false;this.isZooming=false;this.viewportUpdateTimeout=null;this.state={network:null,nodes:new DataSet([]),edges:new DataSet([]),prevProps:null};this.renderBackground=()=>{if(!this.backgroundCanvas.current||!this.backgroundImage||!this.state.network)return;const canvas=this.backgroundCanvas.current;const ctx=canvas.getContext('2d');if(!ctx)return;// Get current viewport state\nconst position=this.state.network.getViewPosition();const scale=this.state.network.getScale();// Calculate dimensions\nconst srcWidth=canvas.width/scale;const srcHeight=canvas.height/scale;const imgCenterX=this.backgroundImage.width/2-srcWidth/2+position.x;const imgCenterY=this.backgroundImage.height/2-srcHeight/2+position.y;ctx.clearRect(0,0,canvas.width,canvas.height);try{ctx.drawImage(this.backgroundImage,imgCenterX,imgCenterY,srcWidth,srcHeight,0,0,canvas.width,canvas.height);}catch(error){console.error(\"Error rendering background:\",error);}this.animationFrame=requestAnimationFrame(this.renderBackground);};}componentDidMount(){console.log(\"Component mounted\");Streamlit.setFrameHeight(600);this.setupNetwork();}componentDidUpdate(){const props=this.props.args;// Handle network data updates\nif(this.state.network){const nodes=new DataSet(props.nodes);const edges=new DataSet(props.edges);this.state.network.setData({nodes,edges});}// Handle background image updates\nif(props.background_image&&(!this.backgroundImage||this.backgroundImage.src!==props.background_image)){this.setupBackgroundImage(props.background_image);}}componentWillUnmount(){if(this.state.network){this.state.network.destroy();}if(this.animationFrame){cancelAnimationFrame(this.animationFrame);}if(this.viewportUpdateTimeout){clearTimeout(this.viewportUpdateTimeout);}}setupNetwork(){if(!this.networkContainer.current)return;const props=this.props.args;const nodes=new DataSet(props.nodes);const edges=new DataSet(props.edges);const network=new Network(this.networkContainer.current,{nodes,edges},props.options);// Selection handling\nnetwork.on('select',params=>{Streamlit.setComponentValue({selected:params.nodes,positions:this.getNodePositions()});});// Handle drag start\nnetwork.on('dragStart',()=>{this.isDragging=true;});// Handle drag end with debounced viewport update\nnetwork.on('dragEnd',()=>{this.isDragging=false;if(this.viewportUpdateTimeout){clearTimeout(this.viewportUpdateTimeout);}this.viewportUpdateTimeout=setTimeout(()=>{if(!this.isDragging&&!this.isZooming){const viewState={scale:network.getScale(),position:network.getViewPosition()};Streamlit.setComponentValue({selected:network.getSelectedNodes(),positions:this.getNodePositions(),viewport:viewState});}},500);// Delay viewport update\n});// Handle zoom start\nnetwork.on('zoom',()=>{this.isZooming=true;if(this.viewportUpdateTimeout){clearTimeout(this.viewportUpdateTimeout);}this.viewportUpdateTimeout=setTimeout(()=>{this.isZooming=false;if(!this.isDragging&&!this.isZooming){const viewState={scale:network.getScale(),position:network.getViewPosition()};Streamlit.setComponentValue({selected:network.getSelectedNodes(),positions:this.getNodePositions(),viewport:viewState});}},500);// Delay viewport update\n});this.setState({network,nodes,edges});}getNodePositions(){if(!this.state.network||!this.state.nodes)return{};const positions={};this.state.nodes.forEach(node=>{const pos=this.state.network.getPosition(node.id);positions[node.id]={x:pos.x,y:pos.y};});return positions;}setupBackgroundImage(imageUrl){const img=new Image();img.onload=()=>{console.log(\"Background image loaded\",{width:img.width,height:img.height});this.backgroundImage=img;this.startRenderLoop();};img.onerror=e=>{console.error(\"Error loading background image:\",e);};img.src=imageUrl;}startRenderLoop(){if(this.animationFrame){cancelAnimationFrame(this.animationFrame);}this.renderBackground();}render(){return/*#__PURE__*/_jsxs(\"div\",{ref:this.container,style:{width:'100%',height:'600px',position:'relative',border:'1px solid #ddd',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"canvas\",{ref:this.backgroundCanvas,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',zIndex:0,opacity:0.3}}),/*#__PURE__*/_jsx(\"div\",{ref:this.networkContainer,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',zIndex:1}})]});}}export default withStreamlitConnection(VisNetwork);","map":{"version":3,"names":["React","Network","DataSet","Streamlit","StreamlitComponentBase","withStreamlitConnection","jsx","_jsx","jsxs","_jsxs","VisNetwork","constructor","arguments","container","createRef","networkContainer","backgroundCanvas","backgroundImage","animationFrame","isDragging","isZooming","viewportUpdateTimeout","state","network","nodes","edges","prevProps","renderBackground","current","canvas","ctx","getContext","position","getViewPosition","scale","getScale","srcWidth","width","srcHeight","height","imgCenterX","x","imgCenterY","y","clearRect","drawImage","error","console","requestAnimationFrame","componentDidMount","log","setFrameHeight","setupNetwork","componentDidUpdate","props","args","setData","background_image","src","setupBackgroundImage","componentWillUnmount","destroy","cancelAnimationFrame","clearTimeout","options","on","params","setComponentValue","selected","positions","getNodePositions","setTimeout","viewState","getSelectedNodes","viewport","setState","forEach","node","pos","getPosition","id","imageUrl","img","Image","onload","startRenderLoop","onerror","e","render","ref","style","border","overflow","children","top","left","zIndex","opacity"],"sources":["C:/Users/owner/Documents/Innovative Dev/Sensor Sentry GUI - Streamlit/streamlit_vis/frontend/src/VisNetwork.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Network } from 'vis-network';\r\nimport { DataSet } from 'vis-data';\r\nimport {\r\n  Streamlit,\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\";\r\n\r\ninterface NetworkProps {\r\n  nodes: any[];\r\n  edges: any[];\r\n  options: any;\r\n  background_image?: string;\r\n  height?: string;\r\n}\r\n\r\ninterface State {\r\n  network: Network | null;\r\n  nodes: DataSet<any>;\r\n  edges: DataSet<any>;\r\n  prevProps: NetworkProps | null;\r\n}\r\n\r\nclass VisNetwork extends StreamlitComponentBase<State> {\r\n  private container = React.createRef<HTMLDivElement>();\r\n  private networkContainer = React.createRef<HTMLDivElement>();\r\n  private backgroundCanvas = React.createRef<HTMLCanvasElement>();\r\n  private backgroundImage: HTMLImageElement | null = null;\r\n  private animationFrame: number | null = null;\r\n  private isDragging: boolean = false;\r\n  private isZooming: boolean = false;\r\n  private viewportUpdateTimeout: NodeJS.Timeout | null = null;\r\n  \r\n  public state: State = {\r\n    network: null,\r\n    nodes: new DataSet([]),\r\n    edges: new DataSet([]),\r\n    prevProps: null\r\n  };\r\n\r\n  public componentDidMount() {\r\n    console.log(\"Component mounted\");\r\n    Streamlit.setFrameHeight(600);\r\n    this.setupNetwork();\r\n  }\r\n\r\n  public componentDidUpdate() {\r\n    const props = this.props.args as NetworkProps;\r\n    \r\n    // Handle network data updates\r\n    if (this.state.network) {\r\n      const nodes = new DataSet(props.nodes);\r\n      const edges = new DataSet(props.edges);\r\n      this.state.network.setData({ nodes, edges });\r\n    }\r\n\r\n    // Handle background image updates\r\n    if (props.background_image && (!this.backgroundImage || this.backgroundImage.src !== props.background_image)) {\r\n      this.setupBackgroundImage(props.background_image);\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    if (this.state.network) {\r\n      this.state.network.destroy();\r\n    }\r\n    if (this.animationFrame) {\r\n      cancelAnimationFrame(this.animationFrame);\r\n    }\r\n    if (this.viewportUpdateTimeout) {\r\n      clearTimeout(this.viewportUpdateTimeout);\r\n    }\r\n  }\r\n\r\n  private setupNetwork() {\r\n    if (!this.networkContainer.current) return;\r\n\r\n    const props = this.props.args as NetworkProps;\r\n    const nodes = new DataSet(props.nodes);\r\n    const edges = new DataSet(props.edges);\r\n\r\n    const network = new Network(\r\n      this.networkContainer.current,\r\n      { nodes, edges },\r\n      props.options\r\n    );\r\n\r\n    // Selection handling\r\n    network.on('select', (params) => {\r\n      Streamlit.setComponentValue({\r\n        selected: params.nodes,\r\n        positions: this.getNodePositions()\r\n      });\r\n    });\r\n\r\n    // Handle drag start\r\n    network.on('dragStart', () => {\r\n      this.isDragging = true;\r\n    });\r\n\r\n    // Handle drag end with debounced viewport update\r\n    network.on('dragEnd', () => {\r\n      this.isDragging = false;\r\n      \r\n      if (this.viewportUpdateTimeout) {\r\n        clearTimeout(this.viewportUpdateTimeout);\r\n      }\r\n      \r\n      this.viewportUpdateTimeout = setTimeout(() => {\r\n        if (!this.isDragging && !this.isZooming) {\r\n          const viewState = {\r\n            scale: network.getScale(),\r\n            position: network.getViewPosition()\r\n          };\r\n          \r\n          Streamlit.setComponentValue({\r\n            selected: network.getSelectedNodes(),\r\n            positions: this.getNodePositions(),\r\n            viewport: viewState\r\n          });\r\n        }\r\n      }, 500);  // Delay viewport update\r\n    });\r\n\r\n    // Handle zoom start\r\n    network.on('zoom', () => {\r\n      this.isZooming = true;\r\n      \r\n      if (this.viewportUpdateTimeout) {\r\n        clearTimeout(this.viewportUpdateTimeout);\r\n      }\r\n      \r\n      this.viewportUpdateTimeout = setTimeout(() => {\r\n        this.isZooming = false;\r\n        \r\n        if (!this.isDragging && !this.isZooming) {\r\n          const viewState = {\r\n            scale: network.getScale(),\r\n            position: network.getViewPosition()\r\n          };\r\n          \r\n          Streamlit.setComponentValue({\r\n            selected: network.getSelectedNodes(),\r\n            positions: this.getNodePositions(),\r\n            viewport: viewState\r\n          });\r\n        }\r\n      }, 500);  // Delay viewport update\r\n    });\r\n\r\n    this.setState({ network, nodes, edges });\r\n  }\r\n\r\n  private getNodePositions() {\r\n    if (!this.state.network || !this.state.nodes) return {};\r\n    \r\n    const positions: { [key: string]: { x: number, y: number } } = {};\r\n    this.state.nodes.forEach((node) => {\r\n      const pos = this.state.network!.getPosition(node.id);\r\n      positions[node.id] = { x: pos.x, y: pos.y };\r\n    });\r\n    \r\n    return positions;\r\n  }\r\n\r\n  private setupBackgroundImage(imageUrl: string) {\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      console.log(\"Background image loaded\", { width: img.width, height: img.height });\r\n      this.backgroundImage = img;\r\n      this.startRenderLoop();\r\n    };\r\n    img.onerror = (e) => {\r\n      console.error(\"Error loading background image:\", e);\r\n    };\r\n    img.src = imageUrl;\r\n  }\r\n\r\n  private renderBackground = () => {\r\n    if (!this.backgroundCanvas.current || !this.backgroundImage || !this.state.network) return;\r\n    \r\n    const canvas = this.backgroundCanvas.current;\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    // Get current viewport state\r\n    const position = this.state.network.getViewPosition();\r\n    const scale = this.state.network.getScale();\r\n\r\n    // Calculate dimensions\r\n    const srcWidth = canvas.width / scale;\r\n    const srcHeight = canvas.height / scale;\r\n    const imgCenterX = ((this.backgroundImage.width / 2) - srcWidth / 2) + position.x;\r\n    const imgCenterY = ((this.backgroundImage.height / 2) - srcHeight / 2) + position.y;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    try {\r\n      ctx.drawImage(\r\n        this.backgroundImage,\r\n        imgCenterX,\r\n        imgCenterY,\r\n        srcWidth,\r\n        srcHeight,\r\n        0,\r\n        0,\r\n        canvas.width,\r\n        canvas.height\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error rendering background:\", error);\r\n    }\r\n\r\n    this.animationFrame = requestAnimationFrame(this.renderBackground);\r\n  };\r\n\r\n  private startRenderLoop() {\r\n    if (this.animationFrame) {\r\n      cancelAnimationFrame(this.animationFrame);\r\n    }\r\n    this.renderBackground();\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div\r\n        ref={this.container}\r\n        style={{\r\n          width: '100%',\r\n          height: '600px',\r\n          position: 'relative',\r\n          border: '1px solid #ddd',\r\n          overflow: 'hidden'\r\n        }}\r\n      >\r\n        <canvas\r\n          ref={this.backgroundCanvas}\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            zIndex: 0,\r\n            opacity: 0.3\r\n          }}\r\n        />\r\n        <div \r\n          ref={this.networkContainer}\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            zIndex: 1\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStreamlitConnection(VisNetwork);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}